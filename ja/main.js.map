{"version":3,"sources":["./node_modules/moment/locale sync ^\\.\\/.*$","./node_modules/web3-eth-accounts/src sync","(webpack)/buildin/global.js","./src/$_lazy_route_resource lazy namespace object","./src/app/apollo.ts","./src/app/app.component.html","./src/app/app.component.ts","./src/app/app.module.ts","./src/app/commissions/commissions.component.html","./src/app/commissions/commissions.component.ts","./src/app/dashboard/dashboard.component.html","./src/app/dashboard/dashboard.component.ts","./src/app/graphql.module.ts","./src/app/header/header.component.html","./src/app/header/header.component.ts","./src/app/investments/investments.component.html","./src/app/investments/investments.component.ts","./src/app/investor-onboarding/investoronboarding.component.html","./src/app/investor-onboarding/investoronboarding.component.ts","./src/app/investor/investor.component.html","./src/app/investor/investor.component.ts","./src/app/manager-onboarding/manageronboarding.component.html","./src/app/manager-onboarding/manageronboarding.component.ts","./src/app/market/market.component.html","./src/app/market/market.component.ts","./src/app/rankings/rankings.component.html","./src/app/rankings/rankings.component.ts","./src/app/side-nav/side-nav.component.html","./src/app/side-nav/side-nav.component.ts","./src/app/upgrade/upgrade.component.html","./src/app/upgrade/upgrade.component.ts","./src/betokenjs/betoken-obj.js","./src/betokenjs/data-controller.js","./src/betokenjs/helpers.js","./src/environments/environment.ts","./src/main.ts","buffer (ignored)","util (ignored)","webpack:///util (ignored)?3f82","crypto (ignored)"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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CA;AACA;AACA,SAAS;AACT;AACA;;AAEO;AACP,wBAAwB,mDAAS;AACjC;AACA;AACA,mBAAmB,SAAI;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,6BAA6B,mDAAM;AACnC;AACA;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,yBAAyB,mDAAM;AAC/B;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;;AAEO,yBAAyB;;AAEhC;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B,mBAAO,CAAC,sEAAyB;AAC/D;AACA;;AAEA;AACA;;AAEA;AACA,6BAA6B,mBAAO,CAAC,oEAAwB;AAC7D;AACA;;AAEA;AACA,uBAAuB,mBAAO,CAAC,sEAAyB;AACxD;AACA;;AAEA;AACA,wBAAwB,mBAAO,CAAC,oEAAwB;AACxD;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,iBAAiB;AAC9B,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,IAAI;AACnB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,IAAI;AACnB,eAAe,IAAI;AACnB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,mDAAS;AAChC;AACA;AACA,iGAAiG,mDAAS;AAC1G;AACA,mBAAmB,mDAAS;AAC5B,SAAS;AACT,mBAAmB,mDAAS;AAC5B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mDAAS;AAChC;AACA,mBAAmB,mDAAS;AAC5B,SAAS;AACT,mBAAmB,mDAAS;AAC5B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mDAAS;AAChC;AACA,mBAAmB,mDAAS;AAC5B,SAAS;AACT,mBAAmB,mDAAS;AAC5B;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB,mDAAS;AACjC;AACA,wBAAwB,mDAAS;AACjC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,qBAAqB;AACrB,iBAAiB;AACjB;AACA;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB;AACA;AACA;AACA,qBAAqB,mDAAS;;AAE9B;AACA;AACA;;AAEA;AACA;AACA,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA,qBAAqB,mDAAS;;AAE9B;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA,qBAAqB,mDAAS,qBAAqB,mDAAS;;AAE5D;AACA;AACA;;AAEA;AACA;AACA,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB;AACA;AACA;AACA,qBAAqB,mDAAS;;AAE9B;AACA;AACA;;AAEA;AACA;AACA,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB;AACA;AACA;AACA,qBAAqB,mDAAS;;AAE9B;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB;AACA;AACA;AACA,qBAAqB,mDAAS;;AAE9B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,eAAe,UAAU;AACzB,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,eAAe,UAAU;AACzB,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB;AACA;AACA;AACA,8BAA8B,mDAAS;AACvC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,eAAe,KAAK;AACpB,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,eAAe,UAAU;AACzB,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,UAAU;AACzB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,mDAAS;;AAE9B;AACA;AACA;;AAEA;AACA;AACA,qBAAqB,mDAAS;;AAE9B;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,mDAAS,wBAAwB,mDAAS;;AAE/D;AACA;AACA;;AAEA;AACA,E;;;;;;;;;;;;ACxtBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACkD;AACb;AACX;AACS;;AAEnC;AACA;AACA,gBAAgB,mBAAO,CAAC,wFAAkC,EAAE;AAC5D,oBAAoB,mBAAO,CAAC,gFAA8B,EAAE;AAC5D,gBAAgB,mBAAO,CAAC,sFAAiC,EAAE;AAC3D,mBAAmB,mBAAO,CAAC,8FAAqC;;AAEhE;AACA;AACO;;AAEP;AACO,qBAAqB,mDAAS;AAC9B,mBAAmB,mDAAS;;AAEnC;AACO;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEP;AACO;;AAEP;AACO;AACP;AACA;;AAEO;AACP;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;AACA;;AAEO;AACP;AACA,gCAAgC,wDAAW;AAC3C;;AAEO;AACP;AACA,gCAAgC,wDAAW;AAC3C;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA,YAAY,wDAAW;AACvB;;AAEO;AACP;AACA,YAAY,wDAAW;AACvB;;AAEO;AACP,wCAAwC,wDAAW;AACnD,YAAY,wDAAW;AACvB;;AAEO;;AAEA;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,0BAA0B,mDAAS;AACnC;AACA,uBAAuB,mDAAS;AAChC;AACA;;AAEO;AACP,4FAA4F,OAAO,MAAM,UAAU;AACnH;AACA,sBAAsB,mDAAS;AAC/B;AACA;;AAEO;AACP;AACA,QAAQ,4CAAK;AACb;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;;AAEA;AACO;AACP;AACA;;AAEO;AACP;AACA,kBAAkB,mBAAO,CAAC,kFAA+B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,mDAAS;AAC5B,8BAA8B,mDAAS;AACvC,+BAA+B,mDAAS;AACxC,gCAAgC,mDAAS;AACzC;AACA,KAAK;;AAEL;AACA,kFAAkF,sCAAsC;AACxH;AACA;AACA;AACA;AACA,YAAY,wDAAW;AACvB;AACA;AACA,SAAS;AACT,wDAAwD,uBAAuB;AAC/E;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEO;AACP;AACA;AACA,cAAc,sEAAiB;AAC/B;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,wDAAW;AAC/B,8BAA8B,mDAAS;AACvC,oCAAoC,mDAAS;AAC7C;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA,0BAA0B,mDAAS;;AAEnC,gCAAgC,mDAAS;AACzC,aAAa;AACb;AACA;AACA;AACA,iBAAiB;AACjB;AACA;;AAEA;AACA,0BAA0B,mDAAS;;AAEnC,gCAAgC,mDAAS;AACzC;;AAEA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA,sCAAsC,SAAS;AAC/C,6BAA6B,wDAAW,aAAa,mDAAS,MAAM,mDAAS;AAC7E;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gGAAgG,cAAc,MAAM,oDAAoD;AACxK;;AAEA;AACA;AACA,8BAA8B,mDAAS;AACvC;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA,aAAa,wDAAW;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC7VA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACqC;AACC;AACrB;AACjB,aAAa,mBAAO,CAAC,6DAAmB;;AAExC;AACA;AACA;AACA;;AAEA;;AAEO;AACP;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA,eAAe,mDAAS;AACxB,KAAK;AACL;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;AACA,KAAK;AACL;AACA,4BAA4B,oDAAO;AACnC;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChNA;AAAA;AAAA,gFAAgF;AAChF,2EAA2E;AAC3E,gEAAgE;AAEzD,IAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;CAClB,CAAC;AAEF;;;;;GAKG;AACH,mEAAmE;;;;;;;;;;;;;;;;;;;;;;;;ACdpB;AAIU;;;AAEzD,IAAI,qEAAW,CAAC,UAAU,EAAE;IAC1B,oEAAc,EAAE,CAAC;CAClB;AAED,2EAAwB,uBAAgB,CAAC,6EAAU;KAChD,KAAK,CAAC,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAhB,CAAgB,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;ACXlC,e;;;;;;;;;;;ACAA,e;;;;;;;;;;;ACAA,e;;;;;;;;;;;ACAA,e","file":"main.js","sourcesContent":["var map = {\n\t\"./af\": \"./node_modules/moment/locale/af.js\",\n\t\"./af.js\": \"./node_modules/moment/locale/af.js\",\n\t\"./ar\": \"./node_modules/moment/locale/ar.js\",\n\t\"./ar-dz\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-dz.js\": \"./node_modules/moment/locale/ar-dz.js\",\n\t\"./ar-kw\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-kw.js\": \"./node_modules/moment/locale/ar-kw.js\",\n\t\"./ar-ly\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ly.js\": \"./node_modules/moment/locale/ar-ly.js\",\n\t\"./ar-ma\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-ma.js\": \"./node_modules/moment/locale/ar-ma.js\",\n\t\"./ar-sa\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-sa.js\": \"./node_modules/moment/locale/ar-sa.js\",\n\t\"./ar-tn\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar-tn.js\": \"./node_modules/moment/locale/ar-tn.js\",\n\t\"./ar.js\": \"./node_modules/moment/locale/ar.js\",\n\t\"./az\": \"./node_modules/moment/locale/az.js\",\n\t\"./az.js\": \"./node_modules/moment/locale/az.js\",\n\t\"./be\": \"./node_modules/moment/locale/be.js\",\n\t\"./be.js\": \"./node_modules/moment/locale/be.js\",\n\t\"./bg\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bg.js\": \"./node_modules/moment/locale/bg.js\",\n\t\"./bm\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bm.js\": \"./node_modules/moment/locale/bm.js\",\n\t\"./bn\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bn.js\": \"./node_modules/moment/locale/bn.js\",\n\t\"./bo\": \"./node_modules/moment/locale/bo.js\",\n\t\"./bo.js\": \"./node_modules/moment/locale/bo.js\",\n\t\"./br\": \"./node_modules/moment/locale/br.js\",\n\t\"./br.js\": \"./node_modules/moment/locale/br.js\",\n\t\"./bs\": \"./node_modules/moment/locale/bs.js\",\n\t\"./bs.js\": \"./node_modules/moment/locale/bs.js\",\n\t\"./ca\": \"./node_modules/moment/locale/ca.js\",\n\t\"./ca.js\": \"./node_modules/moment/locale/ca.js\",\n\t\"./cs\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cs.js\": \"./node_modules/moment/locale/cs.js\",\n\t\"./cv\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cv.js\": \"./node_modules/moment/locale/cv.js\",\n\t\"./cy\": \"./node_modules/moment/locale/cy.js\",\n\t\"./cy.js\": \"./node_modules/moment/locale/cy.js\",\n\t\"./da\": \"./node_modules/moment/locale/da.js\",\n\t\"./da.js\": \"./node_modules/moment/locale/da.js\",\n\t\"./de\": \"./node_modules/moment/locale/de.js\",\n\t\"./de-at\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-at.js\": \"./node_modules/moment/locale/de-at.js\",\n\t\"./de-ch\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de-ch.js\": \"./node_modules/moment/locale/de-ch.js\",\n\t\"./de.js\": \"./node_modules/moment/locale/de.js\",\n\t\"./dv\": \"./node_modules/moment/locale/dv.js\",\n\t\"./dv.js\": \"./node_modules/moment/locale/dv.js\",\n\t\"./el\": \"./node_modules/moment/locale/el.js\",\n\t\"./el.js\": \"./node_modules/moment/locale/el.js\",\n\t\"./en-SG\": \"./node_modules/moment/locale/en-SG.js\",\n\t\"./en-SG.js\": \"./node_modules/moment/locale/en-SG.js\",\n\t\"./en-au\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-au.js\": \"./node_modules/moment/locale/en-au.js\",\n\t\"./en-ca\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-ca.js\": \"./node_modules/moment/locale/en-ca.js\",\n\t\"./en-gb\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-gb.js\": \"./node_modules/moment/locale/en-gb.js\",\n\t\"./en-ie\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-ie.js\": \"./node_modules/moment/locale/en-ie.js\",\n\t\"./en-il\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-il.js\": \"./node_modules/moment/locale/en-il.js\",\n\t\"./en-nz\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./en-nz.js\": \"./node_modules/moment/locale/en-nz.js\",\n\t\"./eo\": \"./node_modules/moment/locale/eo.js\",\n\t\"./eo.js\": \"./node_modules/moment/locale/eo.js\",\n\t\"./es\": \"./node_modules/moment/locale/es.js\",\n\t\"./es-do\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-do.js\": \"./node_modules/moment/locale/es-do.js\",\n\t\"./es-us\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es-us.js\": \"./node_modules/moment/locale/es-us.js\",\n\t\"./es.js\": \"./node_modules/moment/locale/es.js\",\n\t\"./et\": \"./node_modules/moment/locale/et.js\",\n\t\"./et.js\": \"./node_modules/moment/locale/et.js\",\n\t\"./eu\": \"./node_modules/moment/locale/eu.js\",\n\t\"./eu.js\": \"./node_modules/moment/locale/eu.js\",\n\t\"./fa\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fa.js\": \"./node_modules/moment/locale/fa.js\",\n\t\"./fi\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fi.js\": \"./node_modules/moment/locale/fi.js\",\n\t\"./fo\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fo.js\": \"./node_modules/moment/locale/fo.js\",\n\t\"./fr\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fr-ca\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ca.js\": \"./node_modules/moment/locale/fr-ca.js\",\n\t\"./fr-ch\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr-ch.js\": \"./node_modules/moment/locale/fr-ch.js\",\n\t\"./fr.js\": \"./node_modules/moment/locale/fr.js\",\n\t\"./fy\": \"./node_modules/moment/locale/fy.js\",\n\t\"./fy.js\": \"./node_modules/moment/locale/fy.js\",\n\t\"./ga\": \"./node_modules/moment/locale/ga.js\",\n\t\"./ga.js\": \"./node_modules/moment/locale/ga.js\",\n\t\"./gd\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gd.js\": \"./node_modules/moment/locale/gd.js\",\n\t\"./gl\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gl.js\": \"./node_modules/moment/locale/gl.js\",\n\t\"./gom-latn\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gom-latn.js\": \"./node_modules/moment/locale/gom-latn.js\",\n\t\"./gu\": \"./node_modules/moment/locale/gu.js\",\n\t\"./gu.js\": \"./node_modules/moment/locale/gu.js\",\n\t\"./he\": \"./node_modules/moment/locale/he.js\",\n\t\"./he.js\": \"./node_modules/moment/locale/he.js\",\n\t\"./hi\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hi.js\": \"./node_modules/moment/locale/hi.js\",\n\t\"./hr\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hr.js\": \"./node_modules/moment/locale/hr.js\",\n\t\"./hu\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hu.js\": \"./node_modules/moment/locale/hu.js\",\n\t\"./hy-am\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./hy-am.js\": \"./node_modules/moment/locale/hy-am.js\",\n\t\"./id\": \"./node_modules/moment/locale/id.js\",\n\t\"./id.js\": \"./node_modules/moment/locale/id.js\",\n\t\"./is\": \"./node_modules/moment/locale/is.js\",\n\t\"./is.js\": \"./node_modules/moment/locale/is.js\",\n\t\"./it\": \"./node_modules/moment/locale/it.js\",\n\t\"./it-ch\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it-ch.js\": \"./node_modules/moment/locale/it-ch.js\",\n\t\"./it.js\": \"./node_modules/moment/locale/it.js\",\n\t\"./ja\": \"./node_modules/moment/locale/ja.js\",\n\t\"./ja.js\": \"./node_modules/moment/locale/ja.js\",\n\t\"./jv\": \"./node_modules/moment/locale/jv.js\",\n\t\"./jv.js\": \"./node_modules/moment/locale/jv.js\",\n\t\"./ka\": \"./node_modules/moment/locale/ka.js\",\n\t\"./ka.js\": \"./node_modules/moment/locale/ka.js\",\n\t\"./kk\": \"./node_modules/moment/locale/kk.js\",\n\t\"./kk.js\": \"./node_modules/moment/locale/kk.js\",\n\t\"./km\": \"./node_modules/moment/locale/km.js\",\n\t\"./km.js\": \"./node_modules/moment/locale/km.js\",\n\t\"./kn\": \"./node_modules/moment/locale/kn.js\",\n\t\"./kn.js\": \"./node_modules/moment/locale/kn.js\",\n\t\"./ko\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ko.js\": \"./node_modules/moment/locale/ko.js\",\n\t\"./ku\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ku.js\": \"./node_modules/moment/locale/ku.js\",\n\t\"./ky\": \"./node_modules/moment/locale/ky.js\",\n\t\"./ky.js\": \"./node_modules/moment/locale/ky.js\",\n\t\"./lb\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lb.js\": \"./node_modules/moment/locale/lb.js\",\n\t\"./lo\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lo.js\": \"./node_modules/moment/locale/lo.js\",\n\t\"./lt\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lt.js\": \"./node_modules/moment/locale/lt.js\",\n\t\"./lv\": \"./node_modules/moment/locale/lv.js\",\n\t\"./lv.js\": \"./node_modules/moment/locale/lv.js\",\n\t\"./me\": \"./node_modules/moment/locale/me.js\",\n\t\"./me.js\": \"./node_modules/moment/locale/me.js\",\n\t\"./mi\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mi.js\": \"./node_modules/moment/locale/mi.js\",\n\t\"./mk\": \"./node_modules/moment/locale/mk.js\",\n\t\"./mk.js\": \"./node_modules/moment/locale/mk.js\",\n\t\"./ml\": \"./node_modules/moment/locale/ml.js\",\n\t\"./ml.js\": \"./node_modules/moment/locale/ml.js\",\n\t\"./mn\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mn.js\": \"./node_modules/moment/locale/mn.js\",\n\t\"./mr\": \"./node_modules/moment/locale/mr.js\",\n\t\"./mr.js\": \"./node_modules/moment/locale/mr.js\",\n\t\"./ms\": \"./node_modules/moment/locale/ms.js\",\n\t\"./ms-my\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms-my.js\": \"./node_modules/moment/locale/ms-my.js\",\n\t\"./ms.js\": \"./node_modules/moment/locale/ms.js\",\n\t\"./mt\": \"./node_modules/moment/locale/mt.js\",\n\t\"./mt.js\": \"./node_modules/moment/locale/mt.js\",\n\t\"./my\": \"./node_modules/moment/locale/my.js\",\n\t\"./my.js\": \"./node_modules/moment/locale/my.js\",\n\t\"./nb\": \"./node_modules/moment/locale/nb.js\",\n\t\"./nb.js\": \"./node_modules/moment/locale/nb.js\",\n\t\"./ne\": \"./node_modules/moment/locale/ne.js\",\n\t\"./ne.js\": \"./node_modules/moment/locale/ne.js\",\n\t\"./nl\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nl-be\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl-be.js\": \"./node_modules/moment/locale/nl-be.js\",\n\t\"./nl.js\": \"./node_modules/moment/locale/nl.js\",\n\t\"./nn\": \"./node_modules/moment/locale/nn.js\",\n\t\"./nn.js\": \"./node_modules/moment/locale/nn.js\",\n\t\"./pa-in\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pa-in.js\": \"./node_modules/moment/locale/pa-in.js\",\n\t\"./pl\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pl.js\": \"./node_modules/moment/locale/pl.js\",\n\t\"./pt\": \"./node_modules/moment/locale/pt.js\",\n\t\"./pt-br\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt-br.js\": \"./node_modules/moment/locale/pt-br.js\",\n\t\"./pt.js\": \"./node_modules/moment/locale/pt.js\",\n\t\"./ro\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ro.js\": \"./node_modules/moment/locale/ro.js\",\n\t\"./ru\": \"./node_modules/moment/locale/ru.js\",\n\t\"./ru.js\": \"./node_modules/moment/locale/ru.js\",\n\t\"./sd\": \"./node_modules/moment/locale/sd.js\",\n\t\"./sd.js\": \"./node_modules/moment/locale/sd.js\",\n\t\"./se\": \"./node_modules/moment/locale/se.js\",\n\t\"./se.js\": \"./node_modules/moment/locale/se.js\",\n\t\"./si\": \"./node_modules/moment/locale/si.js\",\n\t\"./si.js\": \"./node_modules/moment/locale/si.js\",\n\t\"./sk\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sk.js\": \"./node_modules/moment/locale/sk.js\",\n\t\"./sl\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sl.js\": \"./node_modules/moment/locale/sl.js\",\n\t\"./sq\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sq.js\": \"./node_modules/moment/locale/sq.js\",\n\t\"./sr\": \"./node_modules/moment/locale/sr.js\",\n\t\"./sr-cyrl\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr-cyrl.js\": \"./node_modules/moment/locale/sr-cyrl.js\",\n\t\"./sr.js\": \"./node_modules/moment/locale/sr.js\",\n\t\"./ss\": \"./node_modules/moment/locale/ss.js\",\n\t\"./ss.js\": \"./node_modules/moment/locale/ss.js\",\n\t\"./sv\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sv.js\": \"./node_modules/moment/locale/sv.js\",\n\t\"./sw\": \"./node_modules/moment/locale/sw.js\",\n\t\"./sw.js\": \"./node_modules/moment/locale/sw.js\",\n\t\"./ta\": \"./node_modules/moment/locale/ta.js\",\n\t\"./ta.js\": \"./node_modules/moment/locale/ta.js\",\n\t\"./te\": \"./node_modules/moment/locale/te.js\",\n\t\"./te.js\": \"./node_modules/moment/locale/te.js\",\n\t\"./tet\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tet.js\": \"./node_modules/moment/locale/tet.js\",\n\t\"./tg\": \"./node_modules/moment/locale/tg.js\",\n\t\"./tg.js\": \"./node_modules/moment/locale/tg.js\",\n\t\"./th\": \"./node_modules/moment/locale/th.js\",\n\t\"./th.js\": \"./node_modules/moment/locale/th.js\",\n\t\"./tl-ph\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tl-ph.js\": \"./node_modules/moment/locale/tl-ph.js\",\n\t\"./tlh\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tlh.js\": \"./node_modules/moment/locale/tlh.js\",\n\t\"./tr\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tr.js\": \"./node_modules/moment/locale/tr.js\",\n\t\"./tzl\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzl.js\": \"./node_modules/moment/locale/tzl.js\",\n\t\"./tzm\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./tzm-latn\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm-latn.js\": \"./node_modules/moment/locale/tzm-latn.js\",\n\t\"./tzm.js\": \"./node_modules/moment/locale/tzm.js\",\n\t\"./ug-cn\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./ug-cn.js\": \"./node_modules/moment/locale/ug-cn.js\",\n\t\"./uk\": \"./node_modules/moment/locale/uk.js\",\n\t\"./uk.js\": \"./node_modules/moment/locale/uk.js\",\n\t\"./ur\": \"./node_modules/moment/locale/ur.js\",\n\t\"./ur.js\": \"./node_modules/moment/locale/ur.js\",\n\t\"./uz\": \"./node_modules/moment/locale/uz.js\",\n\t\"./uz-latn\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz-latn.js\": \"./node_modules/moment/locale/uz-latn.js\",\n\t\"./uz.js\": \"./node_modules/moment/locale/uz.js\",\n\t\"./vi\": \"./node_modules/moment/locale/vi.js\",\n\t\"./vi.js\": \"./node_modules/moment/locale/vi.js\",\n\t\"./x-pseudo\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./x-pseudo.js\": \"./node_modules/moment/locale/x-pseudo.js\",\n\t\"./yo\": \"./node_modules/moment/locale/yo.js\",\n\t\"./yo.js\": \"./node_modules/moment/locale/yo.js\",\n\t\"./zh-cn\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-cn.js\": \"./node_modules/moment/locale/zh-cn.js\",\n\t\"./zh-hk\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-hk.js\": \"./node_modules/moment/locale/zh-hk.js\",\n\t\"./zh-tw\": \"./node_modules/moment/locale/zh-tw.js\",\n\t\"./zh-tw.js\": \"./node_modules/moment/locale/zh-tw.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./node_modules/moment/locale sync recursive ^\\\\.\\\\/.*$\";","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"./node_modules/web3-eth-accounts/src sync recursive\";","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","import { Subscription } from 'apollo-client/util/Observable';\nimport { OnDestroy } from '@angular/core';\nimport { BigNumber } from 'bignumber.js';\nimport { timer } from '../betokenjs/helpers';\n\nexport class ApolloEnabled implements OnDestroy {\n  querySubscription: Subscription;\n  query: any;\n\n  constructor() {\n  }\n\n  ngOnDestroy() {\n    this.querySubscription.unsubscribe();\n  }\n\n  toBigNumber(n) {\n    return new BigNumber(n);\n  }\n\n  toDateTimeString(unixTimestamp) {\n    return new Date(+unixTimestamp * 1e3).toLocaleString();\n  }\n\n  toDateString(unixTimestamp) {\n    return new Date(+unixTimestamp * 1e3).toLocaleDateString();\n  }\n\n  toDateObject(unixTimestamp) {\n    return new Date(+unixTimestamp * 1e3);\n  }\n\n  getManagerKairoBalance(managerData) {\n    if (timer.phase() == 0) {\n      return new BigNumber(managerData.kairoBalance);\n    } else {\n      return new BigNumber(managerData.kairoBalanceWithStake);\n    }\n  }\n}","<div class=\"main-content vh-100\" *ngIf=\"is_loading\">\n  <div class=\"container vh-100 justify-content-center d-flex align-content-center flex-wrap\">\n    <div class=\"row justify-content-center\">\n      <div class=\"col-12 text-center\">\n        <img class=\"image-fluid d-block mx-auto mb-5 w-50\" src=\"assets/img/animated-logo.svg\" alt=\"Betoken logo\">\n        <div class=\"progress mb-4\" style=\"height: 8px;\">\n          <div class=\"progress-bar progress-bar-striped progress-bar-animated bg-success\" role=\"progressbar\"\n            aria-valuenow=\"75\" aria-valuemin=\"0\" aria-valuemax=\"100\"\n            [ngStyle]=\"{'width': loadProgressPercentage()}\">\n          </div>\n        </div>\n        <h3 class=\"d-block\" i18n=\"@@appFetchingText\">Loading Betoken</h3>\n      </div>\n    </div>\n  </div>\n</div>\n<app-side-nav *ngIf=\"display_header_sidebar && !is_loading\"></app-side-nav>\n<!-- MAIN CONTENT\n================================================== -->\n<div [ngClass]=\"{'main-content custom-sidebar': display_header_sidebar}\" *ngIf=\"!is_loading\">\n  <app-header *ngIf=\"display_header_sidebar\"></app-header>\n  <router-outlet></router-outlet>\n</div> <!-- / .main-content -->","import { Component, Injectable } from '@angular/core';\nimport { Betoken } from '../betokenjs/betoken-obj';\nimport { loadAllData, loadDynamicData } from '../betokenjs/data-controller';\n\n@Injectable()\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html'\n})\nexport class AppComponent {\n  title = 'Betoken';\n  display_header_sidebar = true;\n  is_loading = true;\n  load_progress = 20;\n\n  constructor() {\n    const betoken = new Betoken();\n    betoken.init().then(() => {\n      this.load_progress = 50;\n      return loadAllData(() => {\n        this.load_progress += 10;\n      });\n    }).then(() => {\n      this.load_progress = 100;\n      setInterval(loadDynamicData, 120 * 1000); // refresh everything every 2 minutes\n      this.is_loading = false;\n    });\n  }\n\n  loadProgressPercentage() {\n    return `${this.load_progress}%`;\n  }\n\n  setHeaderSidebarDisplay(val) {\n    this.display_header_sidebar = val;\n  }\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { CollapseModule } from 'ngx-bootstrap/collapse';\nimport { AccordionModule, TooltipModule } from 'ngx-bootstrap';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { RouterModule, Routes } from '@angular/router';\nimport { HashLocationStrategy, LocationStrategy } from '@angular/common';\n\nimport { AppComponent } from './app.component';\nimport { HeaderComponent } from './header/header.component';\nimport { SideNavComponent } from './side-nav/side-nav.component';\nimport { DashboardComponent } from './dashboard/dashboard.component';\n\nimport { InvestmentsComponent } from './investments/investments.component';\nimport { UpgradeComponent } from './upgrade/upgrade.component';\nimport { CommissionsComponent } from './commissions/commissions.component';\nimport { RankingsComponent } from './rankings/rankings.component';\nimport { InvestorComponent } from './investor/investor.component';\nimport { ManageronboardingComponent } from './manager-onboarding/manageronboarding.component';\nimport { InvestoronboardingComponent } from './investor-onboarding/investoronboarding.component';\nimport { MarketComponent } from './market/market.component';\nimport { GraphQLModule } from './graphql.module';\nimport { HttpClientModule } from '@angular/common/http';\n\nconst routes: Routes = [\n  {\n    path: '',\n    redirectTo: '/dashboard',\n    pathMatch: 'full'\n  },\n  {\n    path: 'dashboard',\n    component: DashboardComponent,\n    pathMatch: 'full'\n  },\n  {\n    path: 'investments',\n    component: InvestmentsComponent,\n    pathMatch: 'full'\n  },\n  {\n    path: 'upgrades',\n    component: UpgradeComponent,\n    pathMatch: 'full'\n  },\n  {\n    path: 'commissions',\n    component: CommissionsComponent,\n    pathMatch: 'full'\n  },\n  {\n    path: 'rankings',\n    component: RankingsComponent,\n    pathMatch: 'full'\n  },\n  {\n    path: 'invest',\n    component: InvestorComponent,\n    pathMatch: 'full'\n  },\n  {\n    path: 'market',\n    component: MarketComponent,\n    pathMatch: 'full'\n  },\n  {\n    path: 'investing-dashboard',\n    redirectTo: '/invest',\n    pathMatch: 'full'\n  },\n  {\n    path: 'start',\n    component: InvestoronboardingComponent,\n    pathMatch: 'full'\n  },\n  {\n    path: 'start-managing',\n    component: ManageronboardingComponent,\n    pathMatch: 'full'\n  }\n\n];\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    HeaderComponent,\n    SideNavComponent,\n    DashboardComponent,\n    InvestmentsComponent,\n    UpgradeComponent,\n    CommissionsComponent,\n    RankingsComponent,\n    InvestorComponent,\n    InvestoronboardingComponent,\n    ManageronboardingComponent,\n    MarketComponent,\n  ],\n  imports: [\n    AccordionModule.forRoot(),\n    BrowserModule,\n    CollapseModule.forRoot(),\n    TooltipModule.forRoot(),\n    BrowserAnimationsModule,\n    RouterModule.forRoot(routes),\n    GraphQLModule,\n    HttpClientModule\n  ],\n  providers: [{ provide: LocationStrategy, useClass: HashLocationStrategy }],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","<!-- HEADER -->\n<div class=\"header\">\n  <div class=\"container-fluid px-md-5\">\n    <!-- Body -->\n    <div class=\"header-body\">\n      <div class=\"row align-items-end\">\n        <div class=\"col\">\n          <!-- Title -->\n          <h1 class=\"header-title\" i18n=\"@@commissionsHeaderTitle\">\n            Commissions\n          </h1>\n        </div>\n      </div> <!-- / .row -->\n    </div> <!-- / .header-body -->\n\n  </div>\n</div> <!-- / .header -->\n\n<!-- CARDS -->\n<div class=\"container-fluid pb-6 px-md-5\">\n  <div class=\"card-deck mb-4\">\n    <!-- Card -->\n    <div class=\"card\" data-toggle=\"tooltip\" data-html=\"true\" i18n-title=\"@@commissionsExpectedCommissionThisMonthAttrTitle\"\n      title=\"<strong>20%</strong> of the fund's profit and <strong>0.1%</strong> of the AUM is set aside as commissions every month, which is paid to managers proportional to the Kairo tokens they hold. The estimate displayed here is calculated using the current fund ROI.\">\n      <div class=\"card-body\">\n        <div class=\"row align-items-center\">\n          <div class=\"col\">\n\n            <!-- Title -->\n            <h6 class=\"card-title text-uppercase text-muted mb-2\" i18n=\"@@commissionsExpectedCommissionThisMonth\">\n              Your Expected Commission This Month\n            </h6>\n\n            <!-- Heading -->\n            <span class=\"h2 mb-0\">\n              {{commissionAmount.toFormat(6)}} DAI\n            </span>\n\n          </div>\n          <div class=\"col-auto\">\n\n            <!-- Icon -->\n            <span class=\"h2 fe fe-award text-muted mb-0\"></span>\n\n          </div>\n        </div> <!-- / .row -->\n\n      </div>\n    </div>\n    <!-- Card -->\n    <div class=\"card\" data-toggle=\"tooltip\" data-html=\"true\" i18n-title=\"@@commissionsTotalCommissionsReceivedAttrTitle\"\n      title=\"The total amount of commission you have received throughout your manager career.\">\n      <div class=\"card-body\">\n        <div class=\"row align-items-center\">\n          <div class=\"col\">\n\n            <!-- Title -->\n            <h6 class=\"card-title text-uppercase text-muted mb-2\" i18n=\"@@totalCommissionsReceived\">\n              Total Commission Received\n            </h6>\n\n            <!-- Heading -->\n            <span class=\"h2 mb-0\">\n              {{totalCommissionReceived.toFormat(6)}} DAI\n            </span>\n\n          </div>\n          <div class=\"col-auto\">\n\n            <!-- Icon -->\n            <span class=\"h2 fe fe-dollar-sign text-muted mb-0\"></span>\n\n          </div>\n        </div> <!-- / .row -->\n\n      </div>\n    </div>\n  </div>\n  <div class=\"row\">\n    <div class=\"col-12\">\n      <!-- Card -->\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <div class=\"row align-items-center\">\n            <div class=\"col\">\n\n              <!-- Title -->\n              <h4 class=\"card-header-title\" i18n=\"@@commissionsHistoryTitle\">\n                Your Commission History\n              </h4>\n\n            </div>\n            <div class=\"col-auto\">\n              <!-- Refresh -->\n              <button class=\"btn btn-sm btn-white\" type=\"button\" name=\"button\" (click)=\"refreshDisplay()\">\n                <i class=\"fe fe-refresh-cw align-middle\" *ngIf=\"isLoading == false\"></i>\n                <div class=\"spinner-grow spinner-grow-sm\" role=\"status\" *ngIf=\"isLoading\">\n                  <span class=\"sr-only\" i18n=\"@@refreshBtnLoad\">Loading...</span>\n                </div>\n              </button>\n            </div>\n          </div> <!-- / .row -->\n        </div>\n        <div class=\"table-responsive\">\n          <table class=\"table table-sm table-nowrap card-table\">\n            <thead>\n              <tr>\n                <th class=\"text-muted\" i18n=\"@@commissionsTheadCycleNb\">\n                  Cycle Number\n                </th>\n                <th class=\"text-muted\" i18n=\"@@amount\">\n                  Amount ($DAI)\n                </th>\n                <th class=\"text-muted\" i18n=\"@@timeStamp\">\n                  Timestamp\n                </th>\n                <th class=\"text-muted\" i18n=\"@@transaction\">\n                  Transaction\n                </th>\n              </tr>\n            </thead>\n            <tbody class=\"list\" id=\"commissions-table\">\n              <tr *ngFor=\"let entry of commissionHistory\">\n                <td class=\"align-middle\">\n                  {{entry.cycleNumber}}\n                </td>\n                <td class=\"align-middle\">\n                  {{toBigNumber(entry.amountInDAI).toFormat(18)}}\n                </td>\n                <td class=\"align-middle\">\n                  {{toDateTimeString(entry.timestamp)}}\n                </td>\n                <td class=\"align-middle\">\n                  <div class=\"input-group-append\">\n                    <a class=\"btn btn-white h-100 d-flex align-items-center\"\n                      href=\"https://etherscan.io/tx/{{entry.txHash}}\" target=\"_blank\"><i\n                        class=\"fe fe-external-link\"></i></a>\n                  </div>\n                </td>\n              </tr>\n              <tr *ngIf=\"commissionHistory.length == 0\">\n                <td colspan=\"4\" class=\"text-center\">\n                  <h3 class=\"my-4\" i18n=\"@@commissionsNoComYet\">You have not received any commission yet</h3>\n                  <img class=\"w-50 mx-auto d-block\" src=\"assets/img/illustrations/undraw_empty_xct9.svg\"\n                    alt=\"zero-state-illustration\">\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div> <!-- / .row -->\n  <a href=\"https://github.com/solidified-platform/audits/blob/master/Audit%20Report%20-%20%20Betoken%20%5B20.05.2019%5D.pdf\"\n    target=\"_blank\">\n    <div class=\"row align-items-center justify-content-center\">\n      <div class=\"col-auto mb-2 mb-lg-0\">\n        <div class=\"avatar avatar-sm\">\n          <img class=\"avatar-img rounded-circle bg-secondary\" src=\"assets/img/solidified-logo.png\"\n            alt=\"Solidified logo\">\n        </div>\n      </div>\n      <div class=\"col-auto\">\n        <p class=\"small text-secondary mb-0 text-center\" i18n=\"@@solidifiedAudit\">Betoken Smart Contracts are audited and secured by\n          Solidified</p>\n      </div>\n      <div class=\"col-auto\">\n        <i class=\"fe fe-arrow-right text-secondary\"></i>\n      </div>\n    </div>\n  </a>\n</div>\n\n<!-- Redeem modal -->\n<div class=\"modal fade fixed-right\" id=\"modalRedeem\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modalRedeem\"\n  aria-hidden=\"true\">\n  <div class=\"modal-dialog modal-dialog-vertical bg-white\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header border-0\">\n        <!-- Step0 -->\n        <h4 class=\"modal-title\" *ngIf=\"step == 0\" i18n=\"@@commissionsRedeemModalStep0Title\">\n          Redeem your commissions\n        </h4>\n        <!-- Step1 title -->\n        <h4 class=\"modal-title\" *ngIf=\"step == 1\" i18n=\"@@modalTitleConfirmTx\">\n          Confirm transaction\n        </h4>\n        <!-- Step2 title -->\n        <h4 class=\"modal-title\" *ngIf=\"step == 2\" i18n=\"@@modalTitleProcessingTx\">\n          Processing transaction\n        </h4>\n        <!-- Step3 title -->\n        <h4 class=\"modal-title\" *ngIf=\"step == 3\" i18n=\"@@modalTitleTxConfirmed\">\n          Transaction confirmed\n        </h4>\n        <!-- Error title -->\n        <h4 class=\"modal-title\" *ngIf=\"step == -1\" i18n=\"@@modalTitleError\">\n          That's an error\n        </h4>\n        <!-- Close -->\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" i18n-aria-label=\"@@modalAriaLabelClose\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">×</span>\n        </button>\n      </div>\n      <!-- Intermission, buying allowed -->\n      <div class=\"card-header py-0 border-0\" style=\"min-height: 24px;\">\n        <div class=\"progress\" style=\"height: 8px;\">\n          <div [ngClass]=\"{'bg-success': step >= 0, 'bg-secondary': step !== 0}\" class=\"progress-bar\" role=\"progressbar\"\n            style=\"width: 25%\" aria-valuenow=\"25\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n          <div [ngClass]=\"{'bg-success': step >= 1, 'bg-secondary': step !== 1}\" class=\"progress-bar border-left\"\n            role=\"progressbar\" style=\"width: 25%\" aria-valuenow=\"25\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n          <div [ngClass]=\"{'bg-success': step >= 2, 'bg-secondary': step !== 2}\" class=\"progress-bar border-left\"\n            role=\"progressbar\" style=\"width: 25%\" aria-valuenow=\"25\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n          <div [ngClass]=\"{'bg-success': step >= 3, 'bg-secondary': step !== 3}\" class=\"progress-bar border-left\"\n            role=\"progressbar\" style=\"width: 25%\" aria-valuenow=\"25\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n        </div>\n      </div>\n      <div class=\"modal-body\">\n        <!-- commissions amount -->\n        <div class=\"row\" *ngIf=\"step === 0\">\n          <div class=\"col\">\n            <h6 class=\"header-pretitle text-secondary\" i18n=\"@@commissionsRedeemModalBodyStep1Title\">\n              This month's commission\n            </h6>\n            <h3 class=\"display-3 mb-0\">\n              {{commissionAmount.toFormat(4)}} DAI\n            </h3>\n          </div>\n        </div>\n        <!-- Advanced option -->\n        <div class=\"row justify-content-center\" *ngIf=\"step === 0\">\n          <div class=\"col\">\n            <div id=\"accordion\">\n              <!-- question -->\n              <div class=\"card border-0 shadow-none mb-0\">\n                <div class=\"card-header border-0 shadow-none px-0\" id=\"headingOne\">\n                  <a href=\"\" class=\"text-secondary\" data-toggle=\"collapse\" data-target=\"#collapseOne\"\n                    aria-expanded=\"false\" aria-controls=\"collapseOne\">\n                    <div class=\"row align-items-center no-gutters\">\n                      <div class=\"col mr-auto\">\n                        <span class=\"card-text text-muted small\" i18n=\"@@modalAdvancedOptionTitle\">\n                          Advanced\n                        </span>\n                      </div>\n                      <div class=\"col-auto\">\n                        <i class=\"fe fe-plus\"></i>\n                      </div>\n                    </div>\n                  </a>\n                </div>\n                <div id=\"collapseOne\" class=\"collapse\" aria-labelledby=\"headingOne\" data-parent=\"#accordion\">\n                  <div class=\"card-body p-0 pb-4\">\n                    <div class=\"row align-items-center\">\n                      <div class=\"col\">\n                        <h6 class=\"header-pretitle\" i18n=\"@@commissionsRedeemModalAdvancedOptionSubtitle\">\n                          Redeem commisssion for a particular cycle\n                        </h6>\n                        <p class=\"small\" i18n=\"@@commissionsRedeemModalAdvancedOptionText\">Only use this when normal redemption fails</p>\n                        <form>\n                          <input type=\"number\" min=\"0\" [max]=\"cycle - 1\" class=\"form-control form-control-lg mb-2\"\n                            i18n-aria-describedby=\"@@commissionsRedeemModalAdvancedOptionTextAriaDescribedby\" aria-describedby=\"cycle for which to redeem commission\"\n                            placeholder=\"0\" id=\"redeem-commission-cycle-input\">\n                        </form>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <button type=\"submit\" class=\"btn btn-success btn-lg btn-block mb-2\" aria-label=\"Redeem in BTKS\"\n          (click)=\"redeemCommission(0)\" *ngIf=\"step === 0\" i18n=\"@@commissionsRedeemModalCtaRedeemBtks\">\n          Redeem in $BTKS\n        </button>\n        <button type=\"submit\" class=\"btn btn-white btn-lg btn-block\" aria-label=\"Redeem in DAI\"\n          (click)=\"redeemCommission(1)\" *ngIf=\"step === 0\" i18n=\"@@commissionsRedeemModalCtaRedeemDAI\">\n          Redeem in $DAI\n        </button>\n        <!-- Do you know section step 1 -->\n        <div class=\"card bg-light border mt-4 mb-0\" *ngIf=\"step === 0\">\n          <div class=\"card-body\">\n\n            <h4 class=\"mb-2\" i18n=\"@@commissionsDoYouKnowTitle\">\n              Do you know?\n            </h4>\n\n            <p class=\"small text-muted mb-0\" i18n=\"@@commissionsDoYouKnowText\">\n              You can redeem your commissions in Betoken fund shares (BTKS) - meaning you swap your commissions for an\n              equivalent number of shares in the fund. By doing so, you will make the fund Assets Under Management (AUM)\n              grow quicker. A bigger AUM means more money to manage in the next cycle, and more commissions for you.\n            </p>\n\n          </div>\n        </div>\n\n        <img class=\"image-fluid d-block mx-auto mb-4\" src=\"assets/img/animated-logo.svg\" alt=\"Betoken logo\"\n          style=\"width: 88px;\" *ngIf=\"step == 1 || step === 2\">\n\n        <!-- Confirm redeem body -->\n        <p class=\"text-center text-muted mb-5\" *ngIf=\"step === 1\" i18n=\"@@modalBodyTextStep1\">\n          Confirm the transaction in your wallet’s interface to save it on the Ethereum blockchain. It's fine to stick\n          with these defaults gas limit and price.\n        </p>\n        <!-- Processing redeem body -->\n        <p class=\"text-center text-muted mb-5\" *ngIf=\"step === 2\" i18n=\"@@modalBodyTextTxBroadcasted\">\n          Your transaction is being saved on the Ethereum blockchain.\n        </p>\n        <hr *ngIf=\"step === 2\">\n        <form *ngIf=\"step === 2\">\n          <div class=\"form-group\">\n            <label for=\"exampleFormControlInput1\" i18n=\"@@modalBodyTxHash\">Transaction hash</label>\n            <div class=\"input-group mb-3\">\n              <input type=\"text\" class=\"form-control form-control-lg\" value=\"{{transactionId}}\" i18n-aria-label=\"@@commissionsRedeemModalBodyTxHashStep2ArialLabel\"\n                aria-label=\"Transaction hash\">\n              <div class=\"input-group-append\">\n                <a class=\"btn btn-white h-100 d-flex align-items-center\"\n                  href=\"https://etherscan.io/tx/{{transactionId}}\" target=\"_blank\"><i\n                    class=\"fe fe-external-link\"></i></a>\n              </div>\n            </div>\n          </div>\n        </form>\n        <!-- Redeem confirmed body -->\n        <p class=\"h1 text-center\" *ngIf=\"step === 3\">\n          <i class=\"fe fe-check-circle text-success\"></i>\n        </p>\n        <p class=\"text-center text-muted mb-5\" *ngIf=\"step === 3\">\n          <ng-container i18n=\"@@commissionsRedeemModalBodyTextStep3a\">You redeeemed</ng-container>&nbsp;<span class=\"text-secondary\">{{commissionAmount}}</span>&nbsp;$DAI&nbsp;<ng-container i18n=\"@@@@commissionsRedeemModalBodyTextStep3b\">(or equivalent Betoken Shares)</ng-container>.\n        </p>\n        <hr *ngIf=\"step === 3\">\n        <form *ngIf=\"step === 3\">\n          <div class=\"form-group\">\n            <label for=\"exampleFormControlInput1\" i18n=\"@@modalBodyTxHash\">Transaction hash</label>\n            <div class=\"input-group mb-3\">\n              <input type=\"text\" class=\"form-control form-control-lg\" value=\"{{transactionId}}\"\n                aria-label=\"Transaction hash\">\n              <div class=\"input-group-append\">\n                <a class=\"btn btn-white h-100 d-flex align-items-center\"\n                  href=\"https://etherscan.io/tx/{{transactionId}}\" target=\"_blank\"><i\n                    class=\"fe fe-external-link\"></i></a>\n              </div>\n            </div>\n          </div>\n        </form>\n\n        <!-- error -->\n        <div *ngIf=\"step == -1\">\n          <p class=\"h1 text-center\">\n            <i class=\"fe fe-alert-circle text-danger\"></i>\n          </p>\n          <p class=\"text-center text-muted mb-5\" i18n=\"@@modalErrorText\">\n            The operation has resulted in an error. Please try again.\n          </p>\n          <p class=\"text-center text-muted mb-5\" i18n=\"@@modalErrorMsg\">\n            Error message: {{errorMsg}}\n          </p>\n        </div>\n\n        <!-- close modal button -->\n        <button type=\"submit\" class=\"btn btn-block btn-white mt-auto\" data-dismiss=\"modal\" i18n-aria-label=\"@@modalAriaLabelClose\"\n          aria-label=\"Close\" *ngIf=\"step === 3\" i18n=\"@@modalCtaClose\">\n          Close\n        </button>\n        <button type=\"submit\" class=\"btn btn-block btn-white mt-auto\" i18n=\"@@modalTryAgainAriaLabel\" aria-label=\"Try again\" *ngIf=\"step == -1\"\n          (click)=\"resetModals()\" i18n=\"@@modalTryAgain\">\n          Try again\n        </button>\n      </div>\n\n    </div>\n  </div>\n</div><!-- / modal -->\n","import { Component, OnInit } from '@angular/core';\nimport {\n    user,\n    manager_actions\n} from '../../betokenjs/helpers';\n\nimport { ApolloEnabled } from '../apollo';\nimport { Apollo } from 'apollo-angular';\nimport gql from 'graphql-tag';\n\nimport { } from 'jquery';\nimport BigNumber from 'bignumber.js';\nimport { isNull, isUndefined } from 'util';\ndeclare var $: any;;\n@Component({\n    selector: 'app-account',\n    templateUrl: './commissions.component.html'\n})\nexport class CommissionsComponent extends ApolloEnabled implements OnInit {\n    commissionHistory: Array<Object>;\n    commissionAmount: BigNumber;\n    totalCommissionReceived: BigNumber;\n    transactionId: String;\n    step: Number;\n    cycle: Number;\n    errorMsg: String;\n\n    isLoading: Boolean;\n\n    constructor(private apollo: Apollo) {\n        super();\n\n        this.commissionHistory = new Array<Object>();\n        this.commissionAmount = new BigNumber(0);\n        this.totalCommissionReceived = new BigNumber(0);\n        this.transactionId = '';\n        this.step = 0;\n        this.cycle = 0;\n        this.errorMsg = \"\";\n\n        this.isLoading = true;\n    }\n\n    ngOnInit() {\n        $('#modalRedeem').on('hidden.bs.modal', () => {\n            this.resetModals();\n        });\n        $('[data-toggle=\"tooltip\"]').tooltip();\n        this.createQuery();\n    }\n\n    createQuery() {\n        let userAddress = user.address().toLowerCase();\n        this.query = this.apollo\n            .watchQuery({\n                pollInterval: 300000,\n                fetchPolicy: 'cache-and-network',\n                query: gql`\n                    {\n                        fund(id: \"BetokenFund\") {\n                            kairoTotalSupply\n                            cyclePhase\n                            cycleTotalCommission\n                            aum\n                            totalFundsInDAI\n                            cycleNumber\n                            totalFundsAtPhaseStart\n                        }\n                        manager(id: \"${userAddress}\") {\n                            kairoBalance\n                            totalCommissionReceived\n                            kairoBalanceWithStake\n                            commissionHistory(orderBy: timestamp, orderDirection: desc) {\n                                timestamp\n                                cycleNumber\n                                amountInDAI\n                                txHash\n                            }\n                        }\n                    }\n                `\n            });\n        this.querySubscription = this.query.valueChanges.subscribe((result) => this.handleQuery(result));\n    }\n\n    handleQuery({ data, loading }) {\n        this.isLoading = isUndefined(loading) || loading;\n\n        if (!loading) {\n            let fund = data['fund'];\n            let manager = data['manager'];\n\n            this.cycle = +fund.cycleNumber;\n\n            if (!isNull(manager)) {\n                this.totalCommissionReceived = new BigNumber(manager.totalCommissionReceived);\n                this.commissionHistory = manager.commissionHistory;\n\n                // calculate expected commission\n                if (+fund.kairoTotalSupply > 0) {\n                    let userValue = new BigNumber(manager.kairoBalanceWithStake);\n                    if (fund.cyclePhase === 'INTERMISSION') {\n                        // Actual commission that will be redeemed\n                        this.commissionAmount = new BigNumber(manager.kairoBalance).div(fund.kairoTotalSupply).times(fund.cycleTotalCommission);\n                    } else {\n                        // Expected commission based on previous average ROI\n                        let actualKairoSupply = new BigNumber(fund.kairoTotalSupply).div(fund.totalFundsInDAI).times(fund.aum);\n                        let totalProfit = new BigNumber(fund.aum).minus(fund.totalFundsAtPhaseStart);\n                        totalProfit = BigNumber.max(totalProfit, 0);\n                        let commission = totalProfit.div(actualKairoSupply).times(userValue).times(user.commission_rate());\n                        let assetFee = new BigNumber(fund.aum).div(actualKairoSupply).times(userValue).times(user.asset_fee_rate());\n                        this.commissionAmount = commission.plus(assetFee);\n                    }\n                }\n            }\n        }\n    }\n\n    refreshDisplay() {\n        this.isLoading = true;\n        this.query.refetch().then((result) => this.handleQuery(result));\n    }\n\n    resetModals() {\n        this.step = 0;\n    }\n\n    redeemCommission(option) {\n        let cycle = +$('#redeem-commission-cycle-input').val();\n\n        let pending = (transactionHash) => {\n            this.transactionId = transactionHash;\n            if (this.step != 0) {\n                this.step = 2;\n            }\n        }\n\n        let confirm = () => {\n            if (this.step != 0) {\n                this.step = 3;\n            }\n            this.refreshDisplay();\n        }\n\n        let error = (e) => {\n            if (this.step != 0) {\n                this.step = -1;\n                this.errorMsg = e.toString();\n            }\n        }\n\n        var inShares = (option == 0);\n        if (cycle == 0) {\n            manager_actions.redeem_commission(inShares, pending, confirm, error);\n        } else {\n            manager_actions.redeem_commission_for_cycle(inShares, cycle, pending, confirm, error);\n        }\n\n        this.step = 1;\n    }\n}\n","<!-- HEADER -->\n<div class=\"header bg-dark pb-5\">\n  <div class=\"container-fluid px-md-5\">\n\n    <!-- Body -->\n    <div class=\"header-body\">\n      <!-- Title -->\n      <h1 class=\"header-title text-white\" i18n=\"@@dashboardHeaderTitle\">\n        Your Stats\n      </h1>\n    </div>\n\n    <!-- Body -->\n    <div class=\"header-body\">\n      <div class=\"card-deck mb-4\">\n        <!-- Card -->\n        <div class=\"card\" data-toggle=\"tooltip\" data-html=\"true\" i18n-title=\"@@portfolioValueAttrTitle\" title=\"Amount of Betoken's AUM you manage. The more Kairo tokens you own, the more money you will manage.\">\n          <div class=\"card-body\">\n            <div class=\"row align-items-center\">\n              <div class=\"col\">\n\n                <!-- Title -->\n                <h6 class=\"card-title text-uppercase text-muted mb-2\" i18n=\"@@portfolioValueTitle\">\n                  Your Portfolio Value\n                </h6>\n\n                <!-- Heading -->\n                <span class=\"h2 mb-0\">\n                  {{portfolioValueInDAI.toFormat(4)}} DAI\n                </span>\n\n              </div>\n              <div class=\"col-auto\">\n\n                <!-- Icon -->\n                <span class=\"h2 fe fe-pie-chart text-muted mb-0\"></span>\n\n              </div>\n            </div> <!-- / .row -->\n\n          </div>\n        </div>\n        <!-- Card -->\n        <div class=\"card\" data-toggle=\"tooltip\" data-html=\"true\"  i18n-title=\"@@kroBalanceAttrTitle\" title=\"The more Kairo tokens you own, the more money you will manage, the more commission you will receive. You will be able to earn Kairo tokens by making profitable investments for the Betoken fund.\">\n          <div class=\"card-body\">\n            <div class=\"row align-items-center\">\n              <div class=\"col\">\n\n                <!-- Title -->\n                <h6 class=\"card-title text-uppercase text-muted mb-2\" i18n=\"@@kroBalanceTitle\">\n                  Your Kairo Balance\n                </h6>\n\n                <!-- Heading -->\n                <span class=\"h2 mb-0\">\n                  {{userValue.toFormat(4)}} KRO\n                </span>\n\n                <!-- Badge -->\n                <span class=\"badge\" [ngClass]=\"{'badge-soft-success': userROI.gte(0), 'badge-soft-danger': userROI.lt(0)}\">\n                  {{userROI.toFormat(4)}}%\n                </span>\n\n              </div>\n              <div class=\"col-auto\">\n\n                <!-- Icon -->\n                <span class=\"h2 fe fe-zap text-muted mb-0\"></span>\n\n              </div>\n            </div> <!-- / .row -->\n\n          </div>\n        </div>\n        <!-- Card -->\n        <div class=\"card\" data-toggle=\"tooltip\" data-html=\"true\"  i18n-title=\"@@estimateCommissionAttrTitle\" title=\"<strong>20%</strong> of the fund's profit and <strong>0.1%</strong> of the AUM is set aside as commissions every month, which is paid to managers proportional to the Kairo tokens they hold. The estimate displayed here is calculated using the current fund ROI.\">\n          <div class=\"card-body\">\n            <div class=\"row align-items-center\">\n              <div class=\"col\">\n\n                <!-- Title -->\n                <h6 class=\"card-title text-uppercase text-muted mb-2\" i18n=\"@@estimateCommissionTitle\">\n                  Your Estimated Commission This Month\n                </h6>\n\n                <!-- Heading -->\n                <span class=\"h2 mb-0\">\n                  {{expectedCommission.toFormat(4)}} DAI\n                </span>\n\n              </div>\n              <div class=\"col-auto\">\n\n                <!-- Icon -->\n                <span class=\"h2 fe fe-award text-muted mb-0\"></span>\n\n              </div>\n            </div> <!-- / .row -->\n\n          </div>\n        </div>\n        <!-- Card -->\n        <div class=\"card\">\n          <div data-toggle=\"tooltip\"  i18n-title=\"@@dashboardYourRankingAttrTitle\" title=\"Your ranking among Betoken's managers based on your Kairo tokens balance\">\n            <div class=\"card-body\">\n              <div class=\"row align-items-center\">\n                <div class=\"col\">\n\n                  <!-- Title -->\n                  <h6 class=\"card-title text-uppercase text-muted mb-2\" i18n=\"@@dashboardYourRankingTitle\">\n                    Your Ranking\n                  </h6>\n\n                  <!-- Heading -->\n                  <span class=\"h2 mb-0\">\n                    {{userRanking}}\n                  </span>\n\n                </div>\n                <div class=\"col-auto\">\n\n                  <!-- Icon -->\n                  <span class=\"h2 fe fe-user text-muted mb-0\"></span>\n\n                </div>\n              </div> <!-- / .row -->\n\n            </div>\n          </div>\n        </div>\n      </div> <!-- / .card-deck -->\n      <div class=\"row align-items-end\">\n        <div class=\"col\">\n          <!-- Title -->\n          <h1 class=\"header-title text-white\" i18n=\"@@dashboardBetokenStatsTitle\">\n            Betoken Stats\n          </h1>\n        </div>\n        <div class=\"col-auto\">\n\n          <!-- Nav -->\n          <ul class=\"nav nav-tabs header-tabs\">\n\n            <li class=\"nav-item\" data-toggle=\"chart\">\n              <a href=\"#\" class=\"nav-link active\" data-toggle=\"tab\" (click)=\"switchChartTab(0)\">\n                <h6 class=\"header-pretitle text-secondary\" i18n=\"@@btksPriceTitle\">\n                  Betoken Shares Price\n                </h6>\n                <h3 class=\"text-white mb-0\">\n                  {{sharesPrice.toFormat(4)}} DAI\n                </h3>\n              </a>\n            </li>\n            <li class=\"nav-item\" data-toggle=\"chart\">\n              <a href=\"#\" class=\"nav-link\" data-toggle=\"tab\" (click)=\"switchChartTab(1)\">\n                <h6 class=\"header-pretitle text-secondary\" i18n=\"@@aumTitle\">\n                  AUM\n                </h6>\n                <h3 class=\"text-white mb-0\">\n                  {{AUM.toFormat(4)}} DAI\n                </h3>\n              </a>\n            </li>\n          </ul>\n\n        </div>\n      </div> <!-- / .row -->\n    </div> <!-- / .header-body -->\n\n    <!-- Footer -->\n    <div class=\"header-footer\">\n\n      <!-- Chart -->\n      <div class=\"chart\">\n        <canvas id=\"roi-chart\" class=\"chart-canvas\">\n        </canvas>\n      </div>\n\n    </div>\n\n  </div>\n</div> <!-- / .header -->\n\n<!-- CARDS -->\n<div class=\"container-fluid mt-n6 pb-6 px-md-5\">\n  <div class=\"card-deck mb-0 mb-md-4\">\n    <!-- Card -->\n    <div class=\"card\" data-toggle=\"tooltip\" data-html=\"true\">\n      <div class=\"card-body\">\n        <div class=\"row align-items-center\">\n          <div class=\"col\">\n\n            <!-- Title -->\n            <h6 class=\"card-title text-uppercase text-muted mb-2\" i18n=\"@@dashboardRoiTitle\">\n              ROI (Current Cycle)\n            </h6>\n\n            <!-- Heading -->\n            <span class=\"badge badge-xl\"\n              [ngClass]=\"{'badge-soft-success': currMoROI.gte(0), 'badge-soft-danger': currMoROI.lt(0)}\">\n              {{currMoROI.toFormat(4)}}%\n            </span>\n\n          </div>\n          <div class=\"col-auto\">\n\n            <!-- Icon -->\n            <span class=\"h2 fe fe-activity text-muted mb-0\"></span>\n\n          </div>\n        </div> <!-- / .row -->\n\n      </div>\n    </div>\n    <!-- Card -->\n    <div class=\"card\" data-toggle=\"tooltip\" data-html=\"true\">\n      <div class=\"card-body\">\n        <div class=\"row align-items-center\">\n          <div class=\"col\">\n\n            <!-- Title -->\n            <h6 class=\"card-title text-uppercase text-muted mb-2\" i18n=\"@@dashboardRoiSinceInceptionTitle\">\n              ROI (Since Inception)\n            </h6>\n\n            <!-- Heading -->\n            <span class=\"badge badge-xl\"\n              [ngClass]=\"{'badge-soft-success': avgMonthReturn.gte(0), 'badge-soft-danger': avgMonthReturn.lt(0)}\">\n              {{avgMonthReturn.toFormat(4)}}%\n            </span>\n\n          </div>\n          <div class=\"col-auto\">\n\n            <!-- Icon -->\n            <span class=\"h2 fe fe-activity text-muted mb-0\"></span>\n\n          </div>\n        </div> <!-- / .row -->\n\n      </div>\n    </div>\n    <!-- Card -->\n    <div class=\"card\" data-toggle=\"tooltip\" data-html=\"true\" i18n-title=\"@@standardDeviationAttrTitle\" title=\"Standard deviation represents the volatility of an asset. The number shown here is the sample standard deviation of Betoken Shares' price since inception.\">\n      <div class=\"card-body\">\n        <div class=\"row align-items-center\">\n          <div class=\"col\">\n\n            <!-- Title -->\n            <h6 class=\"card-title text-uppercase text-muted mb-2\" i18n=\"@@standardDeviation\">\n              Standard Deviation\n            </h6>\n\n            <!-- Heading -->\n            <span class=\"h2 mb-0\">\n              {{standardDeviation}}%\n            </span>\n\n          </div>\n          <div class=\"col-auto\">\n\n            <!-- Icon -->\n            <span class=\"h2 fe fe-bar-chart-2 text-muted mb-0\"></span>\n\n          </div>\n        </div> <!-- / .row -->\n\n      </div>\n    </div>\n    <!-- Card -->\n    <div class=\"card\" data-toggle=\"tooltip\" data-html=\"true\" i18n-title=\"@@dashboardTotalFundManagersAttrTitle\" title=\"Number of fund managers actively managing Betoken's assets.\">\n      <div class=\"card-body\">\n        <div class=\"row align-items-center\">\n          <div class=\"col\">\n\n            <!-- Title -->\n            <h6 class=\"card-title text-uppercase text-muted mb-2\" i18n=\"@@dashboardTotalFundManagersTitle\">\n              Total fund managers\n            </h6>\n\n            <!-- Heading -->\n            <span class=\"h2 mb-0\">\n              {{totalUser}}\n            </span>\n\n          </div>\n          <div class=\"col-auto\">\n\n            <!-- Icon -->\n            <span class=\"h2 fe fe-users text-muted mb-0\"></span>\n\n          </div>\n        </div> <!-- / .row -->\n\n      </div>\n    </div>\n  </div> <!-- / .row -->\n  <a href=\"https://github.com/solidified-platform/audits/blob/master/Audit%20Report%20-%20%20Betoken%20%5B20.05.2019%5D.pdf\" target=\"_blank\">\n    <div class=\"row align-items-center justify-content-center\">\n      <div class=\"col-auto mb-2 mb-lg-0\">\n        <div class=\"avatar avatar-sm\">\n          <img class=\"avatar-img rounded-circle bg-secondary\" src=\"assets/img/solidified-logo.png\" alt=\"Solidified logo\">\n        </div>\n      </div>\n      <div class=\"col-auto\">\n        <p class=\"small text-secondary mb-0 text-center\" i18n=\"@@solidifiedAudit\">Betoken Smart Contracts are audited and secured by Solidified</p>\n      </div>\n      <div class=\"col-auto\">\n        <i class=\"fe fe-arrow-right text-secondary\"></i>\n      </div>\n    </div>\n  </a>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { BigNumber } from 'bignumber.js';\nimport { Chart } from 'chart.js';\n\ndeclare var $: any;;\n\nimport {\n  user, timer\n} from '../../betokenjs/helpers';\n\nimport { ApolloEnabled } from '../apollo';\nimport { Apollo } from 'apollo-angular';\nimport gql from 'graphql-tag';\nimport { isNull } from 'util';\n\n@Component({\n  selector: 'app-invest',\n  templateUrl: './dashboard.component.html'\n})\n\nexport class DashboardComponent extends ApolloEnabled implements OnInit {\n  userRanking: String;\n  userValue: BigNumber;\n  userROI: BigNumber;\n  expectedCommission: BigNumber;\n  sharesPrice: BigNumber;\n  avgMonthReturn: BigNumber;\n  currMoROI: BigNumber;\n  totalUser: Number;\n  AUM: BigNumber;\n  sortinoRatio: BigNumber;\n  standardDeviation: BigNumber;\n  portfolioValueInDAI: BigNumber;\n\n  hasDrawnChart: boolean;\n  performanceChart: any;\n  chartTabId: Number;\n  shouldDrawChart: Boolean;\n  sharesPriceHistory: any;\n  aumHistory: any;\n\n  constructor(private apollo: Apollo) {\n    super();\n\n    this.userRanking = '';\n    this.userValue = new BigNumber(0);\n    this.userROI = new BigNumber(0);\n    this.expectedCommission = new BigNumber(0);\n    this.sharesPrice = new BigNumber(0);\n    this.avgMonthReturn = new BigNumber(0);\n    this.currMoROI = new BigNumber(0);\n    this.totalUser = 0;\n    this.AUM = new BigNumber(0);\n    this.sortinoRatio = new BigNumber(0);\n    this.standardDeviation = new BigNumber(0);\n    this.portfolioValueInDAI = new BigNumber(0);\n\n    this.hasDrawnChart = false;\n    this.chartTabId = 0;\n    this.shouldDrawChart = true;\n  }\n\n  ngOnInit() {\n    this.createQuery();\n    $('[data-toggle=\"tooltip\"]').tooltip();\n  }\n\n  createQuery() {\n    let userAddress = user.address().toLowerCase();\n    this.query = this.apollo\n      .watchQuery({\n        pollInterval: 300000,\n        fetchPolicy: 'cache-and-network',\n        query: gql`\n          {\n            fund(id: \"BetokenFund\") {\n              aum\n              kairoTotalSupply\n              totalFundsInDAI\n              cyclePhase\n              cycleTotalCommission\n              totalFundsAtPhaseStart\n              sharesPrice\n              sharesPriceHistory(orderBy: timestamp, orderDirection: asc, first: 1000) {\n                timestamp\n                value\n              }\n              aumHistory(orderBy: timestamp, orderDirection: asc, first: 1000) {\n                timestamp\n                value\n              }\n            }\n            manager(id: \"${userAddress}\") {\n              kairoBalance\n              kairoBalanceWithStake\n              baseStake\n            }\n            managers(orderBy: \"${timer.phase() == 0 ? 'kairoBalance' : 'kairoBalanceWithStake'}\", orderDirection: desc, first: 1000) {\n              id\n            }\n          }\n        `\n      });\n    this.querySubscription = this.query.valueChanges.subscribe((result) => this.handleQuery(result));\n  }\n\n  handleQuery({ data, loading }) {\n    if (!loading) {\n      let fund = data['fund'];\n      let manager = data['manager'];\n      let managers = data['managers'];\n\n      if (!isNull(manager)) {\n        this.userValue = this.getManagerKairoBalance(manager);\n        this.userROI = this.userValue.div(manager.baseStake).minus(1).times(100);\n        // calculate expected commission\n        if (+fund.kairoTotalSupply > 0) {\n          if (fund.cyclePhase === 'INTERMISSION') {\n            // Actual commission that will be redeemed\n            this.expectedCommission = new BigNumber(manager.kairoBalance).div(fund.kairoTotalSupply).times(fund.cycleTotalCommission);\n          } else {\n            // Expected commission based on previous average ROI\n            let actualKairoSupply = new BigNumber(fund.kairoTotalSupply).div(fund.totalFundsInDAI).times(fund.aum);\n            let totalProfit = new BigNumber(fund.aum).minus(fund.totalFundsAtPhaseStart);\n            totalProfit = BigNumber.max(totalProfit, 0);\n            let commission = totalProfit.div(actualKairoSupply).times(this.userValue).times(user.commission_rate());\n            let assetFee = new BigNumber(fund.aum).div(actualKairoSupply).times(this.userValue).times(user.asset_fee_rate());\n            this.expectedCommission = commission.plus(assetFee);\n          }\n        }\n      }\n\n      this.AUM = new BigNumber(fund.aum);\n      let userAddress = user.address().toLowerCase();\n      this.userRanking = managers.findIndex((x) => x.id === userAddress) + 1;\n      this.totalUser = managers.length;\n      this.sharesPrice = new BigNumber(fund.sharesPrice);\n      this.currMoROI = this.AUM.div(fund.totalFundsAtPhaseStart).minus(1).times(100);\n      if (fund.cyclePhase === 'INTERMISSION') {\n        this.currMoROI = new BigNumber(0);\n      }\n      this.portfolioValueInDAI = this.userValue.div(fund.kairoTotalSupply).times(fund.totalFundsInDAI);\n\n      // draw chart\n      this.sharesPriceHistory = fund.sharesPriceHistory;\n      this.aumHistory = fund.aumHistory;\n      this.calcStats();\n      this.chartDraw(this.chartTabId);\n    }\n  }\n\n  refreshDisplay() {\n    this.query.refetch().then((result) => this.handleQuery(result));\n  }\n\n  switchChartTab(id) {\n    this.chartTabId = id;\n    this.chartDraw(id);\n  }\n\n  calcStats() {\n    let BONDS_MONTHLY_INTEREST = 2.4662697e-3 // 3% annual interest rate\n    let NUM_DECIMALS = 4;\n    let sharesPriceList = this.sharesPriceHistory.map((x) => new BigNumber(x.value).dp(NUM_DECIMALS));\n\n    // calculate stats for Betoken\n    let calcMean = function (list) {\n      return list.reduce(function (accumulator, curr) {\n        return new BigNumber(accumulator).plus(curr);\n      }, new BigNumber(0)).div(list.length);\n    };\n    let calcSampleStd = function (list) {\n      var mean, sampleVar;\n      mean = calcMean(list);\n      sampleVar = list.reduce(function (accumulator, curr) {\n        return new BigNumber(accumulator).plus(new BigNumber(curr - mean).pow(2));\n      }, new BigNumber(0)).div(list.length - 1);\n      return sampleVar.sqrt();\n    };\n    let calcDownsideStd = (list, minAcceptableRate) => {\n      let sampleVar = list.reduce(\n        (accumulator, curr) => (new BigNumber(accumulator)).plus(new BigNumber(BigNumber.min(curr - minAcceptableRate, 0)).pow(2))\n        , new BigNumber(0)).div(list.length - 1);\n      let sampleStd = sampleVar.sqrt();\n      return sampleStd;\n    }\n\n    // Get cumulative data & calc std\n    this.standardDeviation = calcSampleStd(sharesPriceList).dp(NUM_DECIMALS);\n\n    if (sharesPriceList.length > 0) {\n      this.avgMonthReturn = this.sharesPrice.div(sharesPriceList[0]).minus(1).times(100);\n    }\n  }\n\n  chartDraw(id) {\n    let self = this;\n    let NUM_DECIMALS = 4;\n    let sharesPriceList = this.sharesPriceHistory.map((x) => new BigNumber(x.value).dp(NUM_DECIMALS));\n    sharesPriceList.push(this.sharesPrice.dp(NUM_DECIMALS));\n\n    // draw chart\n    if (!this.hasDrawnChart) {\n      this.hasDrawnChart = true;\n\n      const canvas: any = document.getElementById('roi-chart');\n      const ctx = canvas.getContext('2d');\n      var gradientFill = ctx.createLinearGradient(0, 0, 0, 200);\n      gradientFill.addColorStop(0, 'rgba(0, 217, 126, 0.5)');\n      gradientFill.addColorStop(0.5, 'rgba(0, 217, 126, 0.25)');\n      gradientFill.addColorStop(1, 'rgba(0, 217, 126, 0)');\n      let now = new Date();\n\n      // Config\n\n      var fonts = {\n        base: 'Cerebri Sans'\n      }\n\n      var colors = {\n        gray: {\n          300: '#E3EBF6',\n          600: '#95AAC9',\n          700: '#6E84A3',\n          800: '#152E4D',\n          900: '#283E59'\n        },\n        primary: {\n          100: '#D2DDEC',\n          300: '#A6C5F7',\n          700: '#2C7BE5',\n        },\n        black: '#12263F',\n        white: '#FFFFFF',\n        transparent: 'transparent',\n      };\n\n      var colorScheme = (getComputedStyle(document.body).backgroundColor == 'rgb(249, 251, 253)') ? 'light' : 'dark';\n      Chart.defaults.global.defaultFontColor = colors.gray[300];\n      this.performanceChart = new Chart(ctx, {\n\n        type: 'line',\n        data: {\n          labels: this.sharesPriceHistory.map((x) => this.toDateObject(x.timestamp)).concat([now]),\n          datasets: [\n            {\n              label: 'Betoken',\n              borderColor: '#22c88a',\n              fill: true,\n              backgroundColor: gradientFill,\n              data: id === 0 ? sharesPriceList : this.aumHistory.map((x) => new BigNumber(x.value).dp(NUM_DECIMALS)).concat([this.AUM.dp(NUM_DECIMALS)])\n            }\n          ]\n        },\n\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          scales: {\n            xAxes: [{\n              type: 'time',\n              gridLines: {\n                display: false\n              },\n              ticks: {\n                padding: 20\n              },\n              maxBarThickness: 10\n            }],\n            yAxes: [{\n              gridLines: {\n                display: true,\n                borderDash: [2],\n                borderDashOffset: [2],\n                color: colors.gray[900],\n                drawBorder: false,\n                drawTicks: false,\n                lineWidth: 0,\n                zeroLineWidth: 0,\n                zeroLineColor: colors.gray[300],\n                zeroLineBorderDash: [2],\n                zeroLineBorderDashOffset: [2]\n              },\n              ticks: {\n                beginAtZero: false,\n                padding: 10,\n                callback: function (value, index, values) {\n                  return value;\n                }\n              }\n            }]\n          },\n          defaultColor: colors.primary[100],\n          defaultFontColor: colors.primary[100],\n          defaultFontFamily: fonts.base,\n          defaultFontSize: 16,\n          layout: {\n            padding: 0\n          },\n          legend: {\n            display: false,\n            position: 'bottom',\n            labels: {\n              usePointStyle: true,\n              padding: 16\n            }\n          },\n          elements: {\n            point: {\n              radius: 0,\n              backgroundColor: colors.primary[700]\n            },\n            line: {\n              tension: .4,\n              borderWidth: 3,\n              borderColor: colors.primary[700],\n              backgroundColor: colors.transparent,\n              borderCapStyle: 'rounded'\n            },\n            rectangle: {\n              backgroundColor: colors.primary[700]\n            },\n            arc: {\n              backgroundColor: colors.primary[700],\n              borderColor: (colorScheme == 'dark') ? colors.gray[800] : colors.white,\n              borderWidth: 4\n            }\n          },\n          tooltips: {\n            enabled: false,\n            mode: 'index',\n            intersect: false,\n            custom: function (model) {\n\n              // Get tooltip\n              var $tooltip = $('#chart-tooltip');\n\n              // Create tooltip on first render\n              if (!$tooltip.length) {\n                $tooltip = $('<div id=\"chart-tooltip\" class=\"popover bs-popover-top\" role=\"tooltip\"></div>');\n\n                // Append to body\n                $('body').append($tooltip);\n              }\n\n              // Hide if no tooltip\n              if (model.opacity === 0) {\n                $tooltip.css('display', 'none');\n                return;\n              }\n\n              function getBody(bodyItem) {\n                return bodyItem.lines;\n              }\n\n              // Fill with content\n              if (model.body) {\n                var titleLines = model.title || [];\n                var bodyLines = model.body.map(getBody);\n                var html = '';\n\n                // Add arrow\n                html += '<div class=\"arrow\"></div>';\n\n                // Add header\n                titleLines.forEach(function (title) {\n                  html += '<h3 class=\"popover-header text-center\">' + title + '</h3>';\n                });\n\n                // Add body\n                bodyLines.forEach(function (body, i) {\n                  var colors = model.labelColors[i];\n                  var styles = 'background-color: ' + colors.borderColor;\n                  var indicator = '<span class=\"popover-body-indicator\" style=\"' + styles + '\"></span>';\n                  var align = (bodyLines.length > 1) ? 'justify-content-left' : 'justify-content-center';\n                  html += '<div class=\"popover-body d-flex align-items-center ' + align + '\">' + indicator + body + '</div>';\n                });\n\n                $tooltip.html(html);\n              }\n\n              // Get tooltip position\n              var $canvas = $(this._chart.canvas);\n\n              var canvasWidth = $canvas.outerWidth();\n              var canvasHeight = $canvas.outerHeight();\n\n              var canvasTop = $canvas.offset().top;\n              var canvasLeft = $canvas.offset().left;\n\n              var tooltipWidth = $tooltip.outerWidth();\n              var tooltipHeight = $tooltip.outerHeight();\n\n              var top = canvasTop + model.caretY - tooltipHeight - 16;\n              var left = canvasLeft + model.caretX - tooltipWidth / 2;\n\n              // Display tooltip\n              $tooltip.css({\n                'top': top + 'px',\n                'left': left + 'px',\n                'display': 'block',\n              });\n\n            },\n            callbacks: {\n              label: function (item, data) {\n                var label = data.datasets[item.datasetIndex].label || '';\n                var yLabel = item.yLabel;\n                var content = '';\n\n                if (data.datasets.length > 1) {\n                  content += '<span class=\"popover-body-label mr-auto\">' + label + '</span>';\n                }\n\n                content += '<span class=\"popover-body-value\">' + yLabel + '</span>';\n                return content;\n              }\n            },\n          }\n        }\n      });\n\n    } else {\n      this.performanceChart.data.datasets[0].data = id == 0 ? sharesPriceList : this.aumHistory.map((x) => new BigNumber(x.value).dp(NUM_DECIMALS)).concat([this.AUM.dp(NUM_DECIMALS)]);\n      this.performanceChart.update();\n    }\n  }\n}","import {NgModule} from '@angular/core';\nimport {ApolloModule, APOLLO_OPTIONS} from 'apollo-angular';\nimport {HttpLinkModule, HttpLink} from 'apollo-angular-link-http';\nimport {InMemoryCache} from 'apollo-cache-inmemory';\n\nconst uri = 'https://api.thegraph.com/subgraphs/name/betoken/betoken-v1'; // <-- add the URL of the GraphQL server here\nexport function createApollo(httpLink: HttpLink) {\n  return {\n    link: httpLink.create({uri}),\n    cache: new InMemoryCache(),\n  };\n}\n\n@NgModule({\n  exports: [ApolloModule, HttpLinkModule],\n  providers: [\n    {\n      provide: APOLLO_OPTIONS,\n      useFactory: createApollo,\n      deps: [HttpLink],\n    },\n  ],\n})\nexport class GraphQLModule {}\n","<nav class=\"navbar navbar-expand-md navbar-light d-none d-md-flex\" id=\"topbar\">\n  <div class=\"container-fluid px-md-5\">\n\n    <div class=\"navbar-text p-0\">\n      <h6 class=\"header-pretitle text-muted mb-1 time-left-title\">\n        <ng-container i18n=\"@@timeCounterTitle\">Time left</ng-container>&nbsp;<ng-container *ngIf=\"phase == 0\" i18n=\"@@timeCounterActionIntermission\">until managing begins</ng-container><ng-container *ngIf=\"phase == 1\" i18n=\"@@timeCounterActionManage\">to manage</ng-container>\n      </h6>\n      <h4 class=\"header-title text-secondary time-left-value\">\n        {{days}}<ng-container i18n=\"@@timeLeftInDays\">d</ng-container>&nbsp;{{hours}}<ng-container i18n=\"@@timeLeftInHours\">h</ng-container>&nbsp;{{minutes}}<ng-container i18n=\"@@timeLeftInMinutes\">m</ng-container>&nbsp;{{seconds}}<ng-container i18n=\"@@timeLeftInSeconds\">s</ng-container>\n      </h4>\n    </div>\n\n    <!-- User -->\n    <div class=\"navbar-user\">\n      <div class=\"mr-4 d-none d-md-flex\">\n        <!-- Toggle -->\n        <a data-toggle=\"modal\" href=\"#modalLanguage\">\n          <span class=\"icon\">\n            <img src=\"assets/img/icons/baseline-translate-24px.svg\" alt=\"\">\n          </span>\n        </a>\n      </div>\n      <div class=\"mr-4 d-none d-md-flex\">\n        <!-- Toggle -->\n        <a class=\"text-muted mt-3\" data-toggle=\"modal\" href=\"#modalEmailUpdates\">\n          <span class=\"icon active\">\n            <i class=\"fe fe-bell\"></i>\n          </span>\n        </a>\n      </div>\n      <!--Account display-->\n      <button class=\"btn btn-white text-truncate\" style=\"width: 12rem;\" (click)=\"reloadAll()\"\n        *ngIf=\"user_address !== ZERO_ADDR\"><span class=\"text-success\">●</span> {{user_address}}</button>\n      <button class=\"btn btn-white text-truncate\" (click)=\"reloadAll()\" *ngIf=\"user_address == ZERO_ADDR\"><span class=\"text-danger\">●</span>&nbsp;<ng-container i18n=\"@@headerConnectWalletCTA\">Connect Wallet</ng-container></button>\n    </div>\n  </div>\n</nav>\n\n<!-- PREHADER\n================================================== -->\n<div *ngIf=\"errorMsg !== '' \">\n  <div class=\"alert alert-warning rounded-0 mb-0\">\n    {{errorMsg}}\n  </div>\n</div>\n<div *ngIf=\"phase == 1 && 7 > days && !checkRouterURL('/invest')\">\n  <div class=\"alert alert-warning rounded-0 mb-0\">\n    <ng-container i18n=\"@@managerAlert1\">Please note you have only</ng-container>&nbsp;{{days}}&nbsp;<ng-container i18n=\"@@managerAlert2\">days left to manage. You MUST sell all of your investments during this time, or you WILL LOSE your staked Kairo tokens.</ng-container>\n  </div>\n</div>\n\n<!-- Get Updates modal -->\n<div class=\"modal fade fixed-right\" id=\"modalEmailUpdates\" tabindex=\"-1\" role=\"dialog\"\n  i18n-aria-describedby=\"@@headerGetUpdateModalAriaDescribedby\" aria-describedby=\"Get update modal by email\"\n  aria-hidden=\"true\">\n  <div class=\"modal-dialog modal-dialog-vertical bg-white\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header border-0\">\n        <h4 class=\"modal-title\" i18n=\"@@modalBeNotifiedByEmail\">\n          Be notified by email\n        </h4>\n        <!-- Close -->\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" i18n-aria-label=\"@@modalAriaLabelClose\"\n          aria-label=\"Close\">\n          <span aria-hidden=\"true\">×</span>\n        </button>\n      </div>\n      <div class=\"modal-body pb-5\">\n        <div class=\"media mb-4 mb-lg-3\">\n          <i class=\"fe fe-check text-green mr-3\"></i>\n          <div class=\"media-body\">\n            <h6 class=\"header-pretitle\" i18n=\"@@headerGetUpdateModalSubtitle1\">\n              Capital connection\n            </h6>\n            <p i18n=\"@@headerGetUpdateModalText1\">Get updated when you can connect or withdraw your capital.</p>\n          </div>\n        </div>\n        <div class=\"media mb-4 mb-lg-3\">\n          <i class=\"fe fe-check text-green mr-3\"></i>\n          <div class=\"media-body\">\n            <h6 class=\"header-pretitle\" i18n=\"@@headerGetUpdateModalSubtitle2\">\n              Monthly performance results\n            </h6>\n            <p i18n=\"@@headerGetUpdateModalText2\">\n              Get insights into how your holdings perform month by month.\n            </p>\n          </div>\n        </div>\n        <div class=\"media mb-4 mb-lg-3\">\n          <i class=\"fe fe-check text-green mr-3\"></i>\n          <div class=\"media-body\">\n            <h6 class=\"header-pretitle\" i18n=\"@@headerGetUpdateModalSubtitle3\">\n              Manager commissions\n            </h6>\n            <p i18n=\"@@headerGetUpdateModalText3\">\n              Be the first to know when to redeem your manager's commissions.\n            </p>\n          </div>\n        </div>\n        <form action=\"https://fund.us17.list-manage.com/subscribe/post?u=9c0647dcb587985ed6121cdf6&amp;id=150e0f091e\"\n          method=\"post\" id=\"mc-embedded-subscribe-form\" name=\"mc-embedded-subscribe-form\" class=\"validate col mb-5\"\n          target=\"_blank\" novalidate>\n          <div class=\"input-group input-group-lg\">\n            <input class=\"form-control\" type=\"email\" value=\"\" name=\"EMAIL\" id=\"mce-EMAIL\"\n              i18n-placeholder=\"@@modalEmailPlaceholder\" placeholder=\"myemail@address.com\" required>\n            <div style=\"position: absolute; left: -5000px;\" aria-hidden=\"true\"><input type=\"text\"\n                name=\"b_9c0647dcb587985ed6121cdf6_150e0f091e\" tabindex=\"-1\" value=\"\"></div>\n            <div class=\"input-group-append bg-black\">\n              <button class=\"btn btn-dark btn-lg btn-block\" name=\"subscribe\" id=\"mc-embedded-subscribe\">\n                <span class=\"fe fe-send\"></span>\n              </button>\n            </div>\n          </div>\n        </form>\n        <div class=\"row justify-content-center\">\n          <div class=\"col-auto mb-5\">\n            <a href=\"https://t.me/betokenfund\" class=\"btn btn-rounded-circle btn-white mr-3\" target=\"_blank\">\n              <img class=\"mx-auto\" src=\"assets/img/icons/telegram.svg\" alt=\"telegram logo\" height=\"20\">\n            </a>\n            <a href=\"https://twitter.com/betokenfund\" class=\"btn btn-rounded-circle btn-white mr-3\" target=\"_blank\">\n              <img class=\"mx-auto\" src=\"assets/img/icons/twitter.svg\" alt=\"twitter logo\" height=\"20\">\n            </a>\n            <a href=\"https://medium.com/betoken\" class=\"btn btn-rounded-circle btn-white mr-3\" target=\"_blank\">\n              <img class=\"mx-auto\" src=\"assets/img/icons/medium.svg\" alt=\"medium logo\" height=\"20\">\n            </a>\n            <a href=\"https://github.com/Betoken\" class=\"btn btn-rounded-circle btn-white\" target=\"_blank\">\n              <img class=\"mx-auto\" src=\"assets/img/icons/github.svg\" alt=\"medium logo\" height=\"20\">\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div><!-- / modal -->\n\n<!-- Languages modal -->\n<div class=\"modal fade fixed-right\" id=\"modalLanguage\" tabindex=\"-1\" role=\"dialog\"\n  i18n-aria-describedby=\"@@headerLanguageModalAriaDescribedby\" aria-describedby=\"Switch to another language\"\n  aria-hidden=\"true\">\n  <div class=\"modal-dialog modal-dialog-vertical bg-white\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header border-0\">\n        <h4 class=\"modal-title\" i18n=\"@@headerLanguageModalTitle\">\n          Switch to another language\n        </h4>\n        <!-- Close -->\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" i18n-aria-label=\"@@modalAriaLabelClose\"\n          aria-label=\"Close\">\n          <span aria-hidden=\"true\">×</span>\n        </button>\n      </div>\n      <div class=\"modal-body pb-5\">\n        <div class=\"custom-control custom-radio mb-4\">\n          <input type=\"radio\" id=\"English\" name=\"customRadio\" class=\"custom-control-input\" checked>\n          <label class=\"custom-control-label\" for=\"English\" i18n=\"@@switchToEN\">English</label>\n        </div>\n        <div class=\"custom-control custom-radio mb-4\">\n          <input type=\"radio\" id=\"Chinese\" name=\"customRadio\" class=\"custom-control-input\">\n          <label class=\"custom-control-label\" for=\"Chinese\" i18n=\"@@switchToCN\">Chinese</label>\n        </div>\n        <div class=\"custom-control custom-radio mb-4 d-none\">\n          <input type=\"radio\" id=\"French\" name=\"customRadio\" class=\"custom-control-input\">\n          <label class=\"custom-control-label\" for=\"French\" i18n=\"@@switchToFR\">French</label>\n        </div>\n        <div class=\"custom-control custom-radio mb-4 d-none\">\n          <input type=\"radio\" id=\"Russian\" name=\"customRadio\" class=\"custom-control-input\">\n          <label class=\"custom-control-label\" for=\"Russian\" i18n=\"@@switchToRU\">Russian</label>\n        </div>\n        <div class=\"custom-control custom-radio mb-4\">\n          <input type=\"radio\" id=\"Japanese\" name=\"customRadio\" class=\"custom-control-input\">\n          <label class=\"custom-control-label\" for=\"Japanese\" i18n=\"@@switchToJP\">Japanese</label>\n        </div>\n        <div class=\"custom-control custom-radio mb-4 d-none\">\n          <input type=\"radio\" id=\"Spanish\" name=\"customRadio\" class=\"custom-control-input\">\n          <label class=\"custom-control-label\" for=\"Spanish\" i18n=\"@@switchToES\">Spanish</label>\n        </div>\n        <div class=\"custom-control custom-radio mb-4 d-none\">\n          <input type=\"radio\" id=\"Javanese\" name=\"customRadio\" class=\"custom-control-input\">\n          <label class=\"custom-control-label\" for=\"Javanese\" i18n=\"@@switchToJavanese\">Javanese</label>\n        </div>\n        <div class=\"custom-control custom-radio mb-4 d-none\">\n          <input type=\"radio\" id=\"Indonesian\" name=\"customRadio\" class=\"custom-control-input\">\n          <label class=\"custom-control-label\" for=\"Indonesian\" i18n=\"@@switchToIndonesian\">Indonesian</label>\n        </div>\n        <div class=\"custom-control custom-radio mb-4\">\n          <input type=\"radio\" id=\"Portuguese\" name=\"customRadio\" class=\"custom-control-input\">\n          <label class=\"custom-control-label\" for=\"Portuguese\" i18n=\"@@switchToPT\">Portuguese (BR)</label>\n        </div>\n        <div class=\"custom-control custom-radio mb-4 d-none\">\n          <input type=\"radio\" id=\"Sundanese\" name=\"customRadio\" class=\"custom-control-input\">\n          <label class=\"custom-control-label\" for=\"Sundanese\" i18n=\"@@switchToSundanese\">Sundanese</label>\n        </div>\n        <div class=\"custom-control custom-radio mb-4 d-none\">\n          <input type=\"radio\" id=\"Italian\" name=\"customRadio\" class=\"custom-control-input\">\n          <label class=\"custom-control-label\" for=\"Italian\" i18n=\"@@switchToIT\">Italian</label>\n        </div>\n        <div class=\"custom-control custom-radio mb-4 d-none\">\n          <input type=\"radio\" id=\"Korean\" name=\"customRadio\" class=\"custom-control-input\">\n          <label class=\"custom-control-label\" for=\"Korean\" i18n=\"@@switchToKorean\">Korean</label>\n        </div>\n        <div class=\"custom-control custom-radio mb-4 d-none\">\n          <input type=\"radio\" id=\"Hindi\" name=\"customRadio\" class=\"custom-control-input\">\n          <label class=\"custom-control-label\" for=\"Hindi\" i18n=\"@@switchToHindi\">Hindi</label>\n        </div>\n        <div class=\"custom-control custom-radio mb-4 d-none\">\n          <input type=\"radio\" id=\"Thai\" name=\"customRadio\" class=\"custom-control-input\">\n          <label class=\"custom-control-label\" for=\"Thai\" i18n=\"@@switchToThai\">Thai</label>\n        </div>\n        <div class=\"custom-control custom-radio d-none\">\n          <input type=\"radio\" id=\"Vietnamese\" name=\"customRadio\" class=\"custom-control-input\">\n          <label class=\"custom-control-label\" for=\"Vietnamese\" i18n=\"@@switchToVietnamese\">Vietnamese</label>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AppComponent } from '../app.component';\n\nimport { } from 'jquery';\ndeclare var $: any;;\nimport {\n  user, timer, error_notifications, manager_actions, refresh_actions\n} from '../../betokenjs/helpers';\n\nimport { ApolloEnabled } from '../apollo';\nimport { Apollo } from 'apollo-angular';\nimport gql from 'graphql-tag';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html'\n})\n\nexport class HeaderComponent extends ApolloEnabled implements OnInit {\n  ZERO_ADDR = '0x0000000000000000000000000000000000000000';\n\n  days: Number;\n  hours: Number;\n  minutes: Number;\n  seconds: Number;\n  phase: Number;\n\n  user_address: String;\n\n  errorMsg: String;\n\n  /* To copy Text from Textbox */\n  copyInputMessage(inputElement) {\n    inputElement.select();\n    document.execCommand('copy');\n    inputElement.setSelectionRange(0, 0);\n  }\n\n  constructor(private ms: AppComponent, private router: Router, private apollo: Apollo) {\n    super();\n\n    this.days = 0;\n    this.hours = 0;\n    this.minutes = 0;\n    this.seconds = 0;\n    this.phase = -1;\n\n    this.user_address = this.ZERO_ADDR;\n\n    this.errorMsg = '';\n  }\n\n  ngOnInit() {\n    this.refreshHeaderSidebarDisplay();\n    error_notifications.set_error_msg(\"\");\n    this.refreshDisplay();\n    setInterval(() => this.updateTimer(), 1000);\n    setInterval(() => this.refreshHeaderSidebarDisplay(), 1000);\n  }\n\n  updateTimer() {\n    this.days = timer.day();\n    this.hours = timer.hour();\n    this.minutes = timer.minute();\n    this.seconds = timer.second();\n  }\n\n  refreshDisplay() {\n    this.user_address = user.address();\n\n    error_notifications.check_dependency();\n    this.errorMsg = error_notifications.get_error_msg();\n\n    this.phase = timer.phase();\n  }\n\n  refreshHeaderSidebarDisplay() {\n    this.ms.setHeaderSidebarDisplay(!this.checkRouterURL('/start') && !this.checkRouterURL('/start-managing'));\n  }\n\n  checkRouterURL(route) {\n    return this.router.url === route;\n  }\n\n  nextPhase() {\n    manager_actions.nextPhase();\n  }\n\n  async reloadAll() {\n    await refresh_actions.reload_all();\n    this.refreshDisplay();\n  }\n}\n","<!-- HEADER -->\n<div class=\"header\">\n  <div class=\"container-fluid px-md-5\">\n    <!-- Body -->\n    <div class=\"header-body\">\n      <!-- Title -->\n      <h1 class=\"header-title\" i18n=\"@@investmentsHeaderTitle\">\n        Your Investments\n      </h1>\n    </div> <!-- / .header-body -->\n\n  </div>\n</div> <!-- / .header -->\n\n<!-- CARDS -->\n<div class=\"container-fluid pb-6 px-md-5\">\n  <div class=\"card-deck mb-5\">\n    <!-- Card -->\n    <div class=\"card\" data-toggle=\"tooltip\" data-html=\"true\" i18n-title=\"@@portfolioValueAttrTitle\" title=\"Amount of Betoken's AUM you manage. The more Kairo tokens you own, the more money you will manage.\">\n      <div class=\"card-body\">\n        <div class=\"row align-items-center\">\n          <div class=\"col\">\n            <!-- Title -->\n            <h6 class=\"card-title text-uppercase text-muted mb-2\" i18n=\"@@portfolioValueTitle\">\n              Your Portfolio Value\n            </h6>\n            <!-- Heading -->\n            <span class=\"h2 mb-0\">\n              {{portfolioValueInDAI.toFormat(6)}} DAI\n            </span>\n          </div>\n          <div class=\"col-auto\">\n            <!-- Icon -->\n            <span class=\"h2 fe fe-pie-chart text-muted mb-0\"></span>\n          </div>\n        </div> <!-- / .row -->\n\n      </div>\n    </div>\n    <!-- Card -->\n    <div class=\"card\" data-toggle=\"tooltip\" data-html=\"true\" i18n-title=\"@@kroBalanceAttrTitle\" title=\"The more Kairo tokens you own, the more money you will manage, the more commission you will receive. You can earn Kairo tokens by making profitable investments for the Betoken fund.\">\n      <div class=\"card-body\">\n        <div class=\"row align-items-center\">\n          <div class=\"col\">\n\n            <!-- Title -->\n            <h6 class=\"card-title text-uppercase text-muted mb-2\" i18n=\"@@kroBalanceTitle\">\n              Your Kairo tokens Balance\n            </h6>\n\n            <!-- Heading -->\n            <span class=\"h2 mb-0\">\n              {{userValue.toFormat(6)}} KRO\n            </span>\n            <!-- Badge -->\n            <span class=\"badge\"\n              [ngClass]=\"{'badge-soft-success': userROI.gte(0), 'badge-soft-danger': userROI.lt(0)}\">\n              {{userROI.toFormat(4)}}%\n            </span>\n\n          </div>\n          <div class=\"col-auto\">\n\n            <!-- Icon -->\n            <span class=\"h2 fe fe-zap text-muted mb-0\"></span>\n\n          </div>\n        </div> <!-- / .row -->\n\n      </div>\n    </div>\n    <!-- Card -->\n    <div class=\"card\" data-toggle=\"tooltip\" data-html=\"true\" i18n-title=\"@@investmentsRiskTakenAttrTitle\" title=\"The more Kairo tokens you stake, the more of Betoken's money you put at work, the more commissions you earn.\">\n      <div class=\"card-body\">\n        <div class=\"row align-items-center\">\n          <div class=\"col\">\n            <div class=\"row no-gutters\">\n              <div class=\"col-auto\">\n                <!-- Title -->\n                <h6 class=\"card-title text-uppercase text-muted mb-0\" i18n=\"@@investmentsRiskTakenTitle\">\n                  Risk Taken\n                </h6>\n              </div>\n              <div class=\"col-auto mt-n2\">\n                <a class=\"text-muted ml-2\"\n                  href=\"https://betoken.gitbook.io/docs/manage-the-fund/how-does-risk-threshold-work\" title=\"Learn more\"\n                  target=\"_blank\">\n                  <span class=\"fe fe-help-circle\"></span>\n                </a>\n              </div>\n            </div>\n\n            <div class=\"row align-items-center no-gutters\">\n              <div class=\"col-auto mb-2\">\n\n                <!-- Heading -->\n                <span class=\"h2 mr-2 mb-0\">\n                  {{riskTakenPercentage.toFormat(2)}}%\n                </span>\n\n              </div>\n              <div class=\"col-12\">\n\n                <!-- Progress -->\n                <div class=\"progress progress-sm\">\n                  <div class=\"progress-bar\" role=\"progressbar\"\n                    [ngStyle]=\"{'width': riskTakenPercentage.toFormat(2) + '%'}\" aria-valuenow=\"100\" aria-valuemin=\"0\"\n                    aria-valuemax=\"100\"></div>\n                </div>\n\n              </div>\n            </div> <!-- / .row -->\n\n          </div>\n          <div class=\"col-auto\">\n\n            <!-- Icon -->\n            <span class=\"h2 fe fe-database text-muted mb-0\"></span>\n\n          </div>\n        </div> <!-- / .row -->\n\n      </div>\n    </div>\n    <!-- Card -->\n    <div class=\"card\" data-toggle=\"tooltip\" data-html=\"true\" i18n-title=\"@@estimateCommissionAttrTitle\" title=\"<strong>20%</strong> of the fund's profit and <strong>0.1%</strong> of the AUM is set aside as commissions every month, which is paid to managers proportional to the Kairo tokens they hold. The estimate displayed here is calculated using the current fund ROI.\">\n      <div class=\"card-body\">\n        <div class=\"row align-items-center\">\n          <div class=\"col\">\n\n            <!-- Title -->\n            <h6 class=\"card-title text-uppercase text-muted mb-2\" i18n=\"@@estimateCommissionTitle\">\n              Your Estimated Commission This Month\n            </h6>\n\n            <!-- Heading -->\n            <span class=\"h2 mb-0\">\n              {{expectedCommission.toFormat(6)}} DAI\n            </span>\n\n          </div>\n          <div class=\"col-auto\">\n\n            <!-- Icon -->\n            <span class=\"h2 fe fe-award text-muted mb-0\"></span>\n\n          </div>\n        </div> <!-- / .row -->\n\n      </div>\n    </div>\n  </div> <!-- / .row -->\n  <div class=\"row\">\n    <div class=\"col-12\">\n      <!-- Active trades -->\n      <div class=\"card list-group\">\n        <div class=\"card-header list-group-item border-top-0 border-left-0 border-right-0\">\n          <div class=\"row align-items-center\">\n            <div class=\"col\">\n              <!-- Title -->\n              <h4 class=\"mb-0\" i18n=\"@@investmentsActiveInvestmentsTableTitle\">\n                Active Investments\n              </h4>\n            </div>\n            <div class=\"col-auto d-flex\">\n              <!--Tabs-->\n              <div class=\"nav nav-pills btn-group btn-group-sm mr-2\" role=\"tablist\" i18n-aria-label=\"@@investmentsActiveInvestmentsPortfolioViewAriaLabel\" aria-label=\"Portfolio view\" *ngIf=\"activeInvestmentList.length > 0\">\n                <button class=\"nav-link btn btn-white active border-right-0\" id=\"pills-investments-tab\" data-toggle=\"pill\"\n                  href=\"#pills-investments\" role=\"tab\" aria-controls=\"pills-investments\" aria-selected=\"true\"><i\n                    class=\"fe fe-list align-middle\"></i></button>\n                <button class=\"nav-link btn btn-white border-left-0\" id=\"pills-portfolio-tab\" data-toggle=\"pill\"\n                  href=\"#pills-portfolio\" role=\"tab\" aria-controls=\"pills-portfolio\" aria-selected=\"false\"><i\n                    class=\"fe fe-pie-chart align-middle\"></i></button>\n              </div>\n              <!-- Refresh -->\n              <button class=\"btn btn-sm btn-white\" type=\"button\" name=\"button\" (click)=\"refreshDisplay()\">\n                <i class=\"fe fe-refresh-cw align-middle\" *ngIf=\"!isLoading\"></i>\n                <div class=\"spinner-grow spinner-grow-sm\" role=\"status\" *ngIf=\"isLoading\">\n                  <span class=\"sr-only\" i18n=\"@@refreshBtnLoad\">Loading...</span>\n                </div>\n              </button>\n            </div>\n          </div> <!-- / .row -->\n        </div>\n        <!--Tabs-->\n        <div class=\"tab-content\" id=\"pills-tabContent\">\n          <div class=\"tab-pane show active\" id=\"pills-investments\" role=\"tabpanel\"\n            aria-labelledby=\"pills-investments-tab\">\n            <!-- Active investments -->\n            <a class=\"list-group-item list-group-item-action border-bottom-0 border-left-0 border-right-0\" href=\"#\"\n              data-toggle=\"modal\" data-target=\"#modalSell\" (click)=\"openSellModal(data)\"\n              *ngFor=\"let data of activeInvestmentList\">\n              <div class=\"row d-flex align-items-center no-gutters\">\n                <div class=\"col-auto\">\n                  <span class=\"avatar avatar-xs\">\n                    <img src={{getTokenLogoUrl(data.tokenSymbol)}} alt=\"{{data.tokenSymbol}} token logo\"\n                      class=\"avatar-img rounded-circle\">\n                  </span>\n                </div>\n                <div class=\"col pl-3\">\n                  <div class=\"row d-flew align-items-center\">\n                    <div class=\"col-auto pr-0\">\n                      <h4 class=\"mb-1 mb-lg-0\">\n                        {{data.tokenSymbol}}<span\n                          class=\"text-secondary d-none d-lg-inline-block ml-1 small font-weight-normal\">•\n                          {{ (getTokenName(data.tokenSymbol).length>24)? (getTokenName(data.tokenSymbol) | slice:0:24)+'..':(getTokenName(data.tokenSymbol)) }}</span>\n                      </h4>\n                    </div>\n                    <div class=\"col-12 col-lg-auto\">\n                      <span *ngIf=\"!isOrderOfType(data, 'BasicOrder')\">\n                        <span class=\"badge\"\n                          [ngClass]=\"{'badge-soft-success': data.safety, 'badge-soft-danger': !data.safety}\">\n                          <span class=\"text-secondary\" *ngIf=\"!data.isShort\"><ng-container i18n=\"@@orderOfTypeLong\">Long</ng-container>&nbsp;{{data.leverage}}x</span><span\n                            class=\"text-secondary\" *ngIf=\"data.isShort\"><ng-container i18n=\"@@orderOfTypeShort\">Short</ng-container>&nbsp;{{data.leverage}}x</span> • <span\n                            *ngIf=\"data.safety\" i18n=\"@@orderSafetySafe\">Safe</span><span *ngIf=\"!data.safety\" i18n=\"@@orderSafetyInDanger\">In Danger</span>\n                        </span>\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"col text-right\">\n                  <div class=\"row d-flew align-items-center justify-content-end\">\n                    <div class=\"col-12 col-lg-auto\">\n                      <span class=\"font-weight-bold\">{{data.currValue.toFormat(4)}} KRO</span>\n                    </div>\n                    <div class=\"col-12 col-lg-auto\">\n                      <!-- Badge ROI -->\n                      <span class=\"badge badge-xl\"\n                        [ngClass]=\"{'badge-soft-success': data.ROI.gte(0), 'badge-soft-danger': data.ROI.lt(0)}\">\n                        {{data.ROI.toFormat(4)}}%\n                      </span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </a>\n          </div>\n          <div class=\"tab-pane\" id=\"pills-portfolio\" role=\"tabpanel\" aria-labelledby=\"pills-portfolio-tab\">\n            <!-- Portfolio overview -->\n            <div class=\"list-group-item list-group-item-action border-bottom-0 border-left-0 border-right-0\"\n              *ngFor=\"let asset of activePortfolio\">\n              <div class=\"row d-flex align-items-center no-gutters\">\n                <div class=\"col-auto\">\n                  <span class=\"avatar avatar-xs\">\n                    <img src={{getTokenLogoUrl(asset.symbol)}} alt=\"token logo\" class=\"avatar-img rounded-circle\">\n                  </span>\n                </div>\n                <div class=\"col pl-3\">\n                  <div class=\"row d-flew align-items-center\">\n                    <div class=\"col-auto pr-0\">\n                      <h4 class=\"mb-1 mb-lg-0\">\n                        {{asset.symbol}}\n                        <span class=\"text-secondary d-none d-lg-inline-block ml-1 small font-weight-normal\">\n                          • {{getTokenName(asset.symbol)}}\n                        </span>\n                      </h4>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"col d-none d-md-inline-block\">\n                  <div class=\"row d-flew align-items-center justify-content-end\">\n                    <div class=\"col-12 col-lg-8 order-2 order-lg-1\">\n                      <div class=\"progress progress-sm\">\n                        <div class=\"progress-bar\" role=\"progressbar\"\n                          [ngStyle]=\"{'width': asset.stake.div(userValue).times(100).toFormat(2) + '%'}\"\n                          aria-valuenow=\"10\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n                      </div>\n                    </div>\n                    <div class=\"col-12 col-lg-4 order-1 order-lg-2\">\n                      <span class=\"font-weight-bold\">{{asset.stake.div(userValue).times(100).toFormat(2)}}%</span>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"col text-right\">\n                  <span class=\"font-weight-bold\">{{asset.stake.toFormat(4)}} KRO</span>\n                  <div class=\"row no-gutters d-flex d-md-none align-items-center justify-content-end\">\n                    <div class=\"col-5 mr-1\">\n                      <span class=\"small\">{{asset.stake.div(userValue).times(100).toFormat(2)}}%</span>\n                    </div>\n                    <div class=\"col-6\">\n                      <div class=\"progress progress-sm\">\n                        <div class=\"progress-bar\" role=\"progressbar\"\n                          [ngStyle]=\"{'width': asset.stake.div(userValue).times(100).toFormat(2) + '%'}\"\n                          aria-valuenow=\"10\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"list-group-item justify-content-center text-center pt-5 border-0\"\n          *ngIf=\"activeInvestmentList.length == 0\">\n          <h3 class=\"mb-4\" i18n=\"@@investmentsNoActiveInvestments\">You have no active investments</h3>\n          <button class=\"btn btn-success mb-5\" routerLink=\"/investments\" type=\"button\" data-toggle=\"modal\"\n            data-target=\"#modalBuy\" *ngIf=\"phase == 1\" i18n=\"@@ctaMakeInvestments\">Make Investments</button>\n          <img class=\"w-50 mx-auto d-block\" src=\"assets/img/illustrations/undraw_empty_xct9.svg\"\n            alt=\"zero-state-illustration\">\n        </div>\n      </div>\n      <!-- Past Investments -->\n      <div class=\"card list-group\" *ngIf=\"inactiveInvestmentList.length > 0\">\n        <div class=\"card-header list-group-item border-top-0 border-left-0 border-right-0\">\n          <div class=\"row align-items-center\">\n            <div class=\"col\">\n              <!-- Title -->\n              <h4 class=\"mb-0\" i18n=\"@@investmentsPastInvestmentsTableTitle\">\n                Past Investments\n              </h4>\n            </div>\n            <div class=\"col-auto\">\n              <!-- Refresh -->\n              <button class=\"btn btn-sm btn-white\" type=\"button\" name=\"button\" (click)=\"refreshDisplay()\">\n                <i class=\"fe fe-refresh-cw align-middle\" *ngIf=\"isLoading == false\"></i>\n                <div class=\"spinner-grow spinner-grow-sm\" role=\"status\" *ngIf=\"isLoading\">\n                  <span class=\"sr-only\" i18n=\"@@refreshBtnLoad\">Loading...</span>\n                </div>\n              </button>\n            </div>\n          </div> <!-- / .row -->\n        </div>\n        <div class=\"list-group-item border-bottom-0 border-left-0 border-right-0\"\n          *ngFor=\"let data of inactiveInvestmentList\">\n          <div class=\"row d-flex align-items-center no-gutters\">\n            <div class=\"col-auto\">\n              <span class=\"avatar avatar-xs\">\n                <img src={{getTokenLogoUrl(data.tokenSymbol)}} alt=\"{{data.tokenSymbol}} token logo\"\n                  class=\"avatar-img rounded-circle\">\n              </span>\n            </div>\n            <div class=\"col pl-3\">\n              <div class=\"row d-flew align-items-center\">\n                <div class=\"col-auto pr-0\">\n                  <h4 class=\"mb-1 mb-lg-0\">\n                    {{data.tokenSymbol}}<span\n                      class=\"text-secondary d-none d-lg-inline-block ml-1 small font-weight-normal\">•\n                      {{ (getTokenName(data.tokenSymbol).length>24)? (getTokenName(data.tokenSymbol) | slice:0:24)+'..':(getTokenName(data.tokenSymbol)) }}</span>\n                  </h4>\n                </div>\n                <div class=\"col-12 col-lg-auto\">\n                  <span *ngIf=\"!isOrderOfType(data, 'BasicOrder')\">\n                    <span class=\"badge badge-soft-secondary\" *ngIf=\"!data.isShort\"><ng-container i18n=\"@@orderOfTypeLong\">Long</ng-container>&nbsp;{{data.leverage}}x</span><span\n                      class=\"badge badge-soft-secondary\" *ngIf=\"data.isShort\"><ng-container i18n=\"@@orderOfTypeShort\">Short</ng-container>&nbsp;{{data.leverage}}x</span>\n                  </span>\n                </div>\n              </div>\n            </div>\n            <div class=\"col text-right\">\n              <div class=\"row d-flew align-items-center justify-content-end\">\n                <div class=\"col-12 col-lg-auto\">\n                  <span class=\"font-weight-bold\">{{data.currValue.toFormat(4)}} KRO</span>\n                </div>\n                <div class=\"col-12 col-lg-auto\">\n                  <!-- Badge success -->\n                  <span class=\"badge badge-xl badge-soft-success\" *ngIf=\"+data.ROI >= 0\">\n                    {{data.ROI.toFormat(4)}}%\n                  </span>\n                  <!-- Badge danger -->\n                  <span class=\"badge badge-xl badge-soft-danger\" *ngIf=\"0 > +data.ROI\">\n                    {{data.ROI.toFormat(4)}}%\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div> <!-- / .row -->\n  <a href=\"https://github.com/solidified-platform/audits/blob/master/Audit%20Report%20-%20%20Betoken%20%5B20.05.2019%5D.pdf\"\n    target=\"_blank\">\n    <div class=\"row align-items-center justify-content-center\">\n      <div class=\"col-auto mb-2 mb-lg-0\">\n        <div class=\"avatar avatar-sm\">\n          <img class=\"avatar-img rounded-circle bg-secondary\" src=\"assets/img/solidified-logo.png\"\n            alt=\"Solidified logo\">\n        </div>\n      </div>\n      <div class=\"col-auto\">\n        <p class=\"small text-secondary mb-0 text-center\" i18n=\"@@solidifiedAudit\">Betoken Smart Contracts are audited and secured by Solidified\n        </p>\n      </div>\n      <div class=\"col-auto\">\n        <i class=\"fe fe-arrow-right text-secondary\"></i>\n      </div>\n    </div>\n  </a>\n</div>\n\n\n<!-- Buy modal -->\n<div class=\"modal fade fixed-right\" id=\"modalBuy\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modalBuy\"\n  aria-hidden=\"true\">\n  <div class=\"modal-dialog modal-dialog-vertical bg-white\" role=\"document\">\n    <div class=\"modal-content\" data-toggle=\"lists\" data-lists-values=\"[&quot;name&quot;]\">\n      <div class=\"modal-header border-0\">\n        <!-- Select Asset title -->\n        <h4 class=\"modal-title\" *ngIf=\"createInvestmentPopupStep === 0\" i18n=\"@@investmentsBuyModalTitleStep0\">\n          Select An Asset\n        </h4>\n        <!-- Selected Asset title -->\n        <a class=\"text-secondary\" href=\"#/investments\" (click)=\"resetModals()\">\n          <h4 class=\"modal-title d-flex align-items-center\" *ngIf=\"createInvestmentPopupStep === 1\">\n            <i class=\"fe fe-arrow-left mr-2\"></i>\n            <span class=\"avatar avatar-xs align-middle mr-2\">\n              <img src={{getTokenLogoUrl(selectedTokenSymbol)}} alt=\"logo\" class=\"avatar-img rounded-circle\">\n            </span>\n            <ng-container i18n=\"@@investmentsBuyModalTitleStep1\">Buy</ng-container>&nbsp;{{getTokenName(selectedTokenSymbol)}}\n          </h4>\n        </a>\n        <!-- Confirm asset investment title -->\n        <h4 class=\"modal-title\" *ngIf=\"createInvestmentPopupStep === 2\" i18n=\"@@modalTitleConfirmTx\">\n          Confirm transaction\n        </h4>\n        <!-- Processing title -->\n        <h4 class=\"modal-title\" *ngIf=\"createInvestmentPopupStep === 3\" i18n=\"@@modalTitleProcessingTx\">\n          Processing transaction\n        </h4>\n        <!-- Investment confirmed title -->\n        <h4 class=\"modal-title\" *ngIf=\"createInvestmentPopupStep === 4\" i18n=\"@@modalTitleTxConfirmed\">\n          Transaction confirmed\n        </h4>\n        <!-- Error -->\n        <h4 class=\"modal-title\" *ngIf=\"createInvestmentPopupStep === -1\" i18n=\"@@modalTitleError\">\n          That's an error\n        </h4>\n        <!-- Close -->\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" i18n-aria-label=\"@@modalAriaLabelClose\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">×</span>\n        </button>\n      </div>\n      <!-- progress bar buying -->\n      <div class=\"card-header py-0 border-0\" style=\"min-height: 24px;\">\n        <div class=\"progress\" style=\"height: 8px;\">\n          <div\n            [ngClass]=\"{'bg-success': createInvestmentPopupStep >= 0, 'bg-secondary': createInvestmentPopupStep !== 0}\"\n            class=\"progress-bar\" role=\"progressbar\" style=\"width: 20%\" aria-valuenow=\"20\" aria-valuemin=\"0\"\n            aria-valuemax=\"100\"></div>\n          <div\n            [ngClass]=\"{'bg-success': createInvestmentPopupStep >= 1, 'bg-secondary': createInvestmentPopupStep !== 1}\"\n            class=\"progress-bar border-left\" role=\"progressbar\" style=\"width: 20%\" aria-valuenow=\"20\" aria-valuemin=\"0\"\n            aria-valuemax=\"100\"></div>\n          <div\n            [ngClass]=\"{'bg-success': createInvestmentPopupStep >= 2, 'bg-secondary': createInvestmentPopupStep !== 2}\"\n            class=\"progress-bar border-left\" role=\"progressbar\" style=\"width: 20%\" aria-valuenow=\"20\" aria-valuemin=\"0\"\n            aria-valuemax=\"100\"></div>\n          <div\n            [ngClass]=\"{'bg-success': createInvestmentPopupStep >= 3, 'bg-secondary': createInvestmentPopupStep !== 3}\"\n            class=\"progress-bar border-left\" role=\"progressbar\" style=\"width: 20%\" aria-valuenow=\"20\" aria-valuemin=\"0\"\n            aria-valuemax=\"100\"></div>\n          <div\n            [ngClass]=\"{'bg-success': createInvestmentPopupStep >= 4, 'bg-secondary': createInvestmentPopupStep !== 4}\"\n            class=\"progress-bar border-left\" role=\"progressbar\" style=\"width: 20%\" aria-valuenow=\"20\" aria-valuemin=\"0\"\n            aria-valuemax=\"100\"></div>\n        </div>\n      </div>\n      <!-- Search in list assets -->\n      <div class=\"card-header\" *ngIf=\"createInvestmentPopupStep === 0\">\n        <form>\n          <div class=\"input-group input-group-flush input-group-merge\">\n            <input type=\"search\" class=\"form-control form-control-prepended search\" i18n-placeholder=\"@@investmentsSearchListAssetsPlaceholder\" placeholder=\"Search\"\n              (keyup)=\"filterList($event, 'asset-list', 0)\">\n            <div class=\"input-group-prepend\">\n              <div class=\"input-group-text\">\n                <span class=\"fe fe-search\"></span>\n              </div>\n            </div>\n          </div>\n        </form>\n      </div>\n      <div class=\"modal-body\">\n        <!-- Step 0: select asset -->\n        <ul class=\"list-group list-group-flush list\" id=\"asset-list\" *ngIf=\"createInvestmentPopupStep === 0\">\n          <li class=\"list-group-item px-0\" *ngFor=\"let token of tokenData\">\n            <a class=\"text-secondary\" href=\"#/investments\" (click)=\"selectInvestmentAsset(token.symbol)\">\n              <div class=\"row align-items-center\">\n                <div class=\"col-auto\">\n                  <span class=\"avatar avatar-sm\">\n                    <img src={{token.logoUrl}} alt=\"token logo\" class=\"avatar-img rounded-circle\">\n                  </span>\n                </div>\n                <div class=\"col ml-n2 pl-1\">\n                  <span class=\"mb-1 h4 font-weight-bold\">\n                    {{token.symbol}}\n                    <span class=\"badge badge-soft-primary\" *ngIf=\"isMarginToken(token.symbol)\" style=\"font-size:10px;\" i18n=\"@@investmentsBuyModalAssetLabelMarginTrading\">\n                      Margin Trading\n                    </span>\n                  </span>\n                  <p class=\"small mb-0\">\n                    {{token.name}}\n                  </p>\n                </div>\n                <div class=\"col-auto text-right\">\n\n                  <span>{{token.price.dp(4)}} DAI</span>\n                  <br>\n\n                  <span class=\"badge badge-xl\"\n                    [ngClass]=\"{'badge-soft-success': +getTokenDailyPriceChange(token.symbol) >= 0, 'badge-soft-danger': 0 > +getTokenDailyPriceChange(token.symbol)}\">\n                    {{getTokenDailyPriceChange(token.symbol)}}%\n                  </span>\n\n                </div>\n              </div>\n\n            </a>\n          </li>\n        </ul>\n\n        <!-- Step 1: enter stake amount -->\n        <div *ngIf=\"createInvestmentPopupStep === 1\">\n          <!-- Asset price -->\n          <div class=\"row\">\n\n            <div class=\"col\">\n              <h6 class=\"header-pretitle\" i18n=\"@@price\">\n                Price (DAI)\n              </h6>\n              <h4 class=\"mb-0\">\n                {{assetSymbolToPrice(selectedTokenSymbol).dp(10)}}\n              </h4>\n            </div>\n            <div class=\"col\">\n              <h6 class=\"header-pretitle mb-2\" i18n=\"@@24hChange\">\n                24h change\n              </h6>\n              <span class=\"badge\"\n                [ngClass]=\"{'badge-soft-success': +getTokenDailyPriceChange(selectedTokenSymbol) >= 0, 'badge-soft-danger': 0 > +getTokenDailyPriceChange(selectedTokenSymbol)}\">\n                {{getTokenDailyPriceChange(selectedTokenSymbol)}}%\n              </span>\n            </div>\n          </div>\n          <hr class=\"my-4\">\n\n          <!-- KRO amount to stake -->\n          <h6 class=\"header-pretitle\"><ng-container i18n=\"@@investmentsBuyModalIWantToBuy1\">I want to buy</ng-container>&nbsp;{{getTokenName(selectedTokenSymbol)}}&nbsp;<ng-container i18n=\"@@investmentsBuyModalIWantToBuy2\">by staking</ng-container></h6>\n          <div class=\"row justify-content-center\">\n            <div class=\"col\">\n              <form>\n                <div class=\"input-group mb-2\">\n                  <input type=\"number\" min=\"0.0\" max={{kairoBalance.toFormat(18)}} class=\"form-control form-control-lg\"\n                    aria-describedby=\"Kairo token amount to stake\" placeholder=\"0.0 KRO\" id=\"kairo-input\"\n                    (input)=\"continueEnabled = true\">\n                  <div class=\"input-group-append\">\n                    <button class=\"btn btn-white\" name=\"button\" type=\"button\" (click)=\"maxStake()\" i18n=\"@@modalCtaMax\">Max</button>\n                  </div>\n                </div>\n                <small id=\"kroBalance\"\n                  class=\"form-text text-secondary d-inline-block mb-0 mt-2\">{{kairoBalance.toFormat(18)}}&nbsp;KRO&nbsp;<ng-container i18n=\"@@modalBalanceAvailable\">available</ng-container></small>\n                <small class=\"form-text text-warning d-inline-block mb-0 mt-2\"\n                  *ngIf=\"selectedOrderType.type === 'fulcrum'\">\n                  <ng-container i18n=\"@@investmentsBuyModalFulcrumMinStake\">Minimum stake:</ng-container>&nbsp;{{fulcrumMinStake.toFormat(18)}} KRO\n                </small>\n                <h6 class=\"header-pretitle mt-4\" *ngIf=\"isMarginToken(selectedTokenSymbol)\" i18n=\"@@investmentsBuyModalOrderTypeSelect\">Order type</h6>\n                <select class=\"form-control form-control-lg\" id=\"orderTypeSelect\"\n                  (change)=\"selectOrderType($event.target.selectedIndex)\" *ngIf=\"isMarginToken(selectedTokenSymbol)\">\n                  <option *ngFor=\"let orderType of orderTypes\">{{orderType.text}}</option>\n                </select>\n              </form>\n            </div>\n          </div>\n\n\n          <!-- Max acceptable price -->\n          <div class=\"row justify-content-center\">\n            <div class=\"col\">\n              <div id=\"accordion\">\n                <!-- question -->\n                <div class=\"card border-0 shadow-none mb-0\">\n                  <div class=\"card-header border-0 shadow-none px-0\" id=\"headingOne\">\n                    <a href=\"\" class=\"text-secondary\" data-toggle=\"collapse\" data-target=\"#collapseOne\"\n                      aria-expanded=\"false\" aria-controls=\"collapseOne\">\n                      <div class=\"row align-items-center no-gutters\">\n                        <div class=\"col mr-auto\">\n                          <span class=\"card-text text-muted small\" i18n=\"@@modalAdvancedOptionTitle\">\n                            Advanced\n                          </span>\n                        </div>\n                        <div class=\"col-auto\">\n                          <i class=\"fe fe-plus\"></i>\n                        </div>\n                      </div>\n                    </a>\n                  </div>\n                  <div id=\"collapseOne\" class=\"collapse\" aria-labelledby=\"headingOne\" data-parent=\"#accordion\">\n                    <div class=\"card-body p-0 pb-4\">\n                      <div class=\"row align-items-center\">\n                        <div class=\"col\">\n                          <h6 class=\"header-pretitle\" i18n=\"@@investmentsBuyModalAdvancedOptionSubTitle\">\n                            Max acceptable price\n                          </h6>\n                          <p i18n=\"@@modalAdvancedOptionText\">Your order WON'T be executed if the price goes up by more than:</p>\n                          <form>\n                            <div class=\"input-group input-group-lg\">\n                              <input type=\"number\" class=\"form-control border-right-0\"\n                                aria-describedby=\"maxAcceptablePrice\" min=\"0.0\" value=\"10\" id=\"maxAcceptablePrice\">\n                              <div class=\"input-group-append\">\n                                <span class=\"input-group-text rounded-right border-left-0\"\n                                  id=\"maxAcceptablePriceUnit\">%</span>\n                              </div>\n                            </div>\n                          </form>\n                        </div>\n                      </div>\n\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- All the components below are displayed if leveraged or shorted order option is selected -->\n          <div *ngIf=\"isMarginToken(selectedTokenSymbol) && selectedOrderType.type !== 'basic'\">\n            <hr class=\"mb-4 mt-0\">\n\n            <!-- order details -->\n            <div class=\"card card-inactive my-4\">\n              <div class=\"card-body\">\n                <!-- Payout -->\n                <h6 class=\"header-pretitle\" i18n=\"@@investmentsBuyModalMarginTradingPayoutTitle\">\n                  Payout\n                </h6>\n                <p><ng-container i18n=\"@@investmentsBuyModalMarginTradingPayoutText1\">This order multiplies your returns by</ng-container>&nbsp;{{selectedOrderType.leverage}}x.</p>\n                <!-- IDEA: leveraged order -->\n                <p><ng-container i18n=\"@@investmentsBuyModalMarginTradingPayoutText2a\">\n                  If</ng-container>&nbsp;{{selectedTokenSymbol}}<ng-container i18n=\"@@investmentsBuyModalMarginTradingPayoutText2b\">'s price</ng-container>&nbsp;<span class=\"text-success\">+10%</span>,&nbsp;\n                  <ng-container i18n=\"@@investmentsBuyModalMarginTradingPayoutText2c\">you</ng-container>&nbsp;<span class=\"text-success\" *ngIf=\"selectedOrderType.leverage > 0\"><ng-container i18n=\"@@investmentsBuyModalMarginTradingPayoutText2d\">gain</ng-container>&nbsp;{{10 * selectedOrderType.leverage}}%</span><span class=\"text-danger\" *ngIf=\"0 > selectedOrderType.leverage\"><ng-container i18n=\"@@investmentsBuyModalMarginTradingPayoutText2e\">lose</ng-container>&nbsp;{{-10 * selectedOrderType.leverage}}%</span>.\n                </p>\n                <p>\n                  <ng-container i18n=\"@@investmentsBuyModalMarginTradingPayoutText3a\">If</ng-container>&nbsp;{{selectedTokenSymbol}}<ng-container i18n=\"@@investmentsBuyModalMarginTradingPayoutText3b\">'s price</ng-container>&nbsp;<span class=\"text-danger\">-10%</span>,&nbsp;<ng-container i18n=\"@@investmentsBuyModalMarginTradingPayoutText3c\">you</ng-container>&nbsp;\n                  <span class=\"text-danger\" *ngIf=\"selectedOrderType.leverage > 0\"><ng-container i18n=\"@@investmentsBuyModalMarginTradingPayoutText3d\">lose</ng-container>&nbsp;{{10 * selectedOrderType.leverage}}%</span> <span class=\"text-success\" *ngIf=\"0 > selectedOrderType.leverage\"><ng-container i18n=\"@@investmentsBuyModalMarginTradingPayoutText3e\">gain</ng-container>&nbsp;{{-10 * selectedOrderType.leverage}}%</span>.\n                </p>\n\n                <h6 class=\"header-pretitle\" i18n=\"@@investmentsBuyModalMarginTradingLiquidationTitle\">Liquidation</h6>\n                <p>\n                  <ng-container i18n=\"@@investmentsBuyModalMarginTradingLiquidationText1\">This order could be liquidated if its losses exceed a certain threshold (which will be displayed). If\n                  that happens, a large portion of your stake will be lost.</ng-container>&nbsp;<a href=\"https://betoken.gitbook.io/docs/manage-the-fund/what-would-cause-a-position-of-mine-to-get-liquidated\"\n                    target=\"_blank\"><ng-container i18n=\"@@investmentsBuyModalMarginTradingLiquidationText2\">Learn More</ng-container></a>\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Step 2: confirm transaction -->\n        <img class=\"image-fluid d-block mx-auto mb-4\" src=\"assets/img/animated-logo.svg\" alt=\"Betoken logo\"\n          style=\"width: 88px;\" *ngIf=\"createInvestmentPopupStep == 2 || createInvestmentPopupStep === 3\">\n\n        <p class=\"text-center text-muted mb-5\" *ngIf=\"createInvestmentPopupStep === 2\" i18n=\"@@modalBodyTextStep1\">\n          Confirm the transaction in your wallet’s interface to save it on the Ethereum blockchain. It's fine to stick\n          with these defaults gas limit and price.\n        </p>\n\n        <!-- Step 3: transaction broadcasted -->\n        <!-- Processing operation body -->\n        <p class=\"text-center text-muted mb-5\" *ngIf=\"createInvestmentPopupStep === 3\" i18n=\"@@modalBodyTextTxBroadcasted\">\n          Your transaction is being saved on the Ethereum blockchain.\n        </p>\n\n        <!-- Step 4: transaction confirmed -->\n        <!-- Investment confirmed body -->\n        <div *ngIf=\"createInvestmentPopupStep === 4\">\n          <p class=\"h1 text-center\">\n            <i class=\"fe fe-check-circle text-success\"></i>\n          </p>\n          <p class=\"text-center text-muted mb-5\">\n            <ng-container i18n=\"@@investmentsBuyModalTxConfirmed1\">You staked</ng-container>&nbsp;<span class=\"font-weight-bold text-secondary\">{{stakeAmount}}</span>&nbsp;<ng-container i18n=\"@@investmentsBuyModalTxConfirmed2\">KRO to invest in</ng-container>&nbsp;<span class=\"font-weight-bold text-secondary\">{{getTokenName(selectedTokenSymbol)}}</span>.\n          </p>\n\n        </div>\n\n        <!-- Transaction hash display for steps 3 & 4 -->\n        <hr *ngIf=\"createInvestmentPopupStep === 3 || createInvestmentPopupStep === 4\">\n        <form *ngIf=\"createInvestmentPopupStep === 3 || createInvestmentPopupStep === 4\">\n          <div class=\"form-group\">\n            <label for=\"exampleFormControlInput1\" i18n=\"@@modalBodyTxHash\">Transaction hash</label>\n            <div class=\"input-group mb-3\">\n              <input type=\"text\" class=\"form-control form-control-lg\" value=\"{{transactionId}}\"\n                aria-label=\"Transaction hash\">\n              <div class=\"input-group-append\">\n                <a class=\"btn btn-white h-100 d-flex align-items-center\"\n                  href=\"https://etherscan.io/tx/{{transactionId}}\" target=\"_blank\"><i\n                    class=\"fe fe-external-link\"></i></a>\n              </div>\n            </div>\n          </div>\n        </form>\n\n        <!-- error -->\n        <div *ngIf=\"createInvestmentPopupStep == -1\">\n          <p class=\"h1 text-center\">\n            <i class=\"fe fe-alert-circle text-danger\"></i>\n          </p>\n          <p class=\"text-center text-muted mb-5\" i18n=\"@@modalErrorText\">\n            The operation has resulted in an error. Please try again.\n          </p>\n          <p class=\"text-center text-muted mb-5\">\n            <ng-container i18n=\"@@modalErrorMsg\">Error message:</ng-container>&nbsp;{{errorMsg}}\n          </p>\n        </div>\n      </div>\n      <div class=\"modal-footer\" *ngIf=\"createInvestmentPopupStep === 1\">\n        <!-- Continue button for step 1 -->\n        <button type=\"submit\" class=\"btn btn-block btn-success mt-auto\" aria-label=\"Invest\" (click)=\"createInvestment()\"\n          [disabled]=\"!continueEnabled\" i18n=\"@@modalCtaContinue\">\n          Continue\n        </button>\n      </div>\n      <div class=\"modal-footer\" *ngIf=\"createInvestmentPopupStep === 3\">\n        <!-- Close button for step 3 -->\n        <button type=\"submit\" class=\"btn btn-block btn-white mt-auto\" data-dismiss=\"modal\" i18n-aria-label=\"@@modalAriaLabelClose\" aria-label=\"Close\" i18n=\"@@modalCtaClose\">\n          Close\n        </button>\n      </div>\n      <div class=\"modal-footer\" *ngIf=\"createInvestmentPopupStep === 4\">\n        <!-- Close button for step 4 -->\n        <button type=\"submit\" class=\"btn btn-block btn-white mt-auto\" data-dismiss=\"modal\" i18n-aria-label=\"@@modalAriaLabelClose\" aria-label=\"Close\" i18n=\"@@modalCtaClose\">\n          Close\n        </button>\n      </div>\n      <div class=\"modal-footer\" *ngIf=\"createInvestmentPopupStep == -1\">\n        <!-- Try again button for error -->\n        <button type=\"submit\" class=\"btn btn-block btn-white mt-auto\" i18n=\"@@modalTryAgainAriaLabel\" aria-label=\"Try again\" (click)=\"resetModals()\" i18n=\"@@modalTryAgain\">\n          Try again\n        </button>\n      </div>\n    </div>\n  </div>\n</div><!-- / modal -->\n\n<!-- Sell modal -->\n<div class=\"modal fade fixed-right\" id=\"modalSell\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modalSell\"\n  aria-hidden=\"true\">\n  <div class=\"modal-dialog modal-dialog-vertical bg-white\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header border-0\">\n        <!-- Quantity of asset to sell title -->\n        <h4 class=\"modal-title\" *ngIf=\"sellInvestmentPopupStep === 0\">\n          <span class=\"align-items-center\">\n            <span class=\"avatar avatar-xs align-middle mr-2\">\n              <img src={{getTokenLogoUrl(selectedTokenSymbol)}} alt=\"logo\" class=\"avatar-img rounded-circle\">\n            </span>\n            {{selectedTokenSymbol}}\n            <span class=\"text-secondary ml-2\" *ngIf=\"!isOrderOfType(sellData, 'BasicOrder')\">\n              <span *ngIf=\"!sellData.isShort\" i18n=\"@@orderOfTypeLong\">Long</span><span *ngIf=\"sellData.isShort\" i18n=\"@@orderOfTypeShort\">Short</span>&nbsp;•&nbsp;<ng-container i18n=\"@@investmentsModalSellOrderLeverage\">Leverage</ng-container>\n              {{sellData.leverage}}x\n            </span>\n          </span>\n        </h4>\n        <!-- Confirm asset investment title -->\n        <h4 class=\"modal-title\" *ngIf=\"sellInvestmentPopupStep === 1\" i18n=\"@@modalTitleConfirmTx\">\n          Confirm transaction\n        </h4>\n        <!-- Processing title -->\n        <h4 class=\"modal-title\" *ngIf=\"sellInvestmentPopupStep === 2\" i18n=\"@@modalTitleProcessingTx\">\n          Processing transaction\n        </h4>\n        <!-- Sell order confirmed title -->\n        <h4 class=\"modal-title\" *ngIf=\"sellInvestmentPopupStep === 3\" i18n=\"@@modalTitleTxConfirmed\">\n          Transaction confirmed\n        </h4>\n        <!-- Error -->\n        <h4 class=\"modal-title\" *ngIf=\"sellInvestmentPopupStep == -1\" i18n=\"@@modalTitleError\">\n          That's an error\n        </h4>\n        <!-- Close -->\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" i18n-aria-label=\"@@modalAriaLabelClose\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">×</span>\n        </button>\n      </div>\n      <!-- progress bar selling -->\n      <div class=\"card-header py-0 border-0\" style=\"min-height: 24px;\">\n        <div class=\"progress\" style=\"height: 8px;\">\n          <div [ngClass]=\"{'bg-success': sellInvestmentPopupStep >= 0, 'bg-secondary': sellInvestmentPopupStep !== 0}\"\n            class=\"progress-bar bg-success\" role=\"progressbar\" style=\"width: 25%\" aria-valuenow=\"25\" aria-valuemin=\"0\"\n            aria-valuemax=\"100\"></div>\n          <div [ngClass]=\"{'bg-success': sellInvestmentPopupStep >= 1, 'bg-secondary': sellInvestmentPopupStep !== 1}\"\n            class=\"progress-bar border-left\" role=\"progressbar\" style=\"width: 25%\" aria-valuenow=\"25\" aria-valuemin=\"0\"\n            aria-valuemax=\"100\"></div>\n          <div [ngClass]=\"{'bg-success': sellInvestmentPopupStep >= 2, 'bg-secondary': sellInvestmentPopupStep !== 2}\"\n            class=\"progress-bar border-left\" role=\"progressbar\" style=\"width: 25%\" aria-valuenow=\"25\" aria-valuemin=\"0\"\n            aria-valuemax=\"100\"></div>\n          <div [ngClass]=\"{'bg-success': sellInvestmentPopupStep >= 3, 'bg-secondary': sellInvestmentPopupStep !== 3}\"\n            class=\"progress-bar border-left\" role=\"progressbar\" style=\"width: 25%\" aria-valuenow=\"25\" aria-valuemin=\"0\"\n            aria-valuemax=\"100\"></div>\n        </div>\n      </div>\n\n      <div class=\"modal-body pb-5\">\n        <!--Step 0: enter sell amount-->\n        <time class=\"header-pretitle h6 mb-0\" *ngIf=\"sellInvestmentPopupStep === 0\"><ng-container i18n=\"@@investmentsModalSellOrderBuyTime\">OPENED</ng-container>&nbsp;{{toDateTimeString(sellData.buyTime)}}</time>\n        <hr class=\"mb-4\" *ngIf=\"sellInvestmentPopupStep === 0\">\n        <!-- Asset price -->\n        <div class=\"row mb-4\" *ngIf=\"sellInvestmentPopupStep === 0\">\n          <div class=\"col\">\n            <h6 class=\"header-pretitle\" i18n=\"@@price\">\n              Price (DAI)\n            </h6>\n            <h4 class=\"mb-0\">\n              {{isOrderOfType(sellData, 'BasicOrder') ? toBigNumber(sellData.sellPrice).toFormat(6) : assetSymbolToPrice(sellData.tokenSymbol).toFormat(6)}}\n            </h4>\n            <span class=\"badge\"\n              [ngClass]=\"{'badge-soft-success': sellData.ROI.gte(0), 'badge-soft-danger': sellData.ROI.lt(0)}\"\n              *ngIf=\"isOrderOfType(sellData, 'BasicOrder')\">\n              {{sellData.ROI.toFormat(4)}}%\n            </span>\n          </div>\n          <div class=\"col\" *ngIf=\"isOrderOfType(sellData, 'BasicOrder')\">\n            <h6 class=\"header-pretitle\" i18n=\"@@buyPrice\">\n              Asset buy price\n            </h6>\n            <h4 class=\"mb-0\">\n              {{toBigNumber(sellData.buyPrice).toFormat(6)}}\n            </h4>\n          </div>\n          <div class=\"col\" *ngIf=\"!isOrderOfType(sellData, 'BasicOrder')\">\n            <h6 class=\"header-pretitle mb-1\" i18n=\"@@modalRoi\">\n              ROI\n            </h6>\n            <span class=\"badge\"\n              [ngClass]=\"{'badge-soft-success': sellData.ROI.gte(0), 'badge-soft-danger': sellData.ROI.lt(0)}\">\n              {{sellData.ROI.toFormat(4)}}%\n            </span>\n          </div>\n        </div>\n        <div class=\"row\" *ngIf=\"sellInvestmentPopupStep === 0\">\n          <div class=\"col\">\n            <h6 class=\"header-pretitle\" i18n=\"@@investmentsModalSellStakedKro\">\n              Staked KRO\n            </h6>\n            <h4 class=\"mb-0\">\n              {{formatNumber(sellData.stake, 4)}}\n            </h4>\n          </div>\n          <div class=\"col\">\n            <h6 class=\"header-pretitle\" i18n=\"@@investmentsModalSellKroToRedeem\">\n              KRO to Redeem\n            </h6>\n            <h4 class=\"mb-0\">\n              {{sellData.currValue.toFormat(4)}}\n            </h4>\n          </div>\n        </div>\n        <div *ngIf=\"sellInvestmentPopupStep === 0\">\n          <div class=\"row my-4\" *ngIf=\"isOrderOfType(sellData, 'FulcrumOrder')\">\n            <div class=\"col\">\n              <h6 class=\"header-pretitle\" i18n=\"@@investmentsModalSellMarginPositionPrice\">\n                Margin Position Price\n              </h6>\n              <h4 class=\"mb-0\">\n                {{formatNumber(sellData.sellPrice, 4)}}\n                <span class=\"badge badge-soft-success ml-1\" *ngIf=\"sellData.safety\" i18n=\"@@orderSafetySafe\">\n                  Safe\n                </span>\n                <span class=\"badge badge-soft-danger ml-1\" *ngIf=\"!sellData.safety\" i18n=\"@@orderSafetyInDanger\">\n                  In Danger\n                </span>\n              </h4>\n            </div>\n            <div class=\"col\">\n              <h6 class=\"header-pretitle\" i18n=\"@@investmentsModalSellFulcrumLiquidationPrice\">\n                Liquidation Price\n              </h6>\n              <h4 class=\"mb-0\">\n                {{formatNumber(sellData.liquidationPrice, 4)}}\n              </h4>\n            </div>\n          </div>\n          <div class=\"row\" *ngIf=\"isOrderOfType(sellData, 'FulcrumOrder')\">\n            <div class=\"col\">\n              <p class=\"text-secondary small mb-0\" i18n=\"@@investmentsModalSellFulcrumLiquidationText\">If the margin position price falls below the liquidation price, this\n                order will be liquidated, which will cause huge losses. When the order is in danger of liquidation, sell\n                it.</p>\n            </div>\n          </div>\n        </div>\n\n        <div *ngIf=\"sellInvestmentPopupStep === 0\">\n          <hr class=\"my-4\">\n          <div *ngIf=\"isOrderOfType(sellData, 'BasicOrder') || isOrderOfType(sellData, 'FulcrumOrder')\">\n            <!-- KRO amount to unstake -->\n            <!-- hideen when top up feature is activated -->\n            <h6 class=\"header-pretitle\" i18n=\"@@investmentsModalSellProportionAssetsToSell\">Proportion of assets to sell</h6>\n            <div class=\"row\">\n              <div class=\"col\">\n                <form>\n                  <div class=\"input-group mb-2\">\n                    <input type=\"number\" min=\"0.0\" max=\"100.0\" class=\"form-control form-control-lg border-right-0 pr-0\"\n                      aria-describedby=\"percent of stake to sell\" placeholder=\"0.0\" id=\"sell-percentage-input\"\n                      (input)=\"continueEnabled = true\">\n                    <div class=\"input-group-append\">\n                      <span class=\"input-group-text border-left-0 border-right-0\" id=\"maxSellPercentUnit\">%</span>\n                      <button class=\"btn btn-white\" name=\"button\" type=\"button\" (click)=\"maxSellPercent()\" i18n=\"@@modalCtaMax\">Max</button>\n                    </div>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n          <div *ngIf=\"isOrderOfType(sellData, 'CompoundOrder')\">\n            <div class=\"row align-items-center justify-content-center mt-4 mb-3\">\n              <div class=\"col\">\n                <h6 class=\"header-pretitle mb-0\" i18n=\"@@modalCollateralStatusTitle\">\n                  Collateralization status\n                </h6>\n              </div>\n              <div class=\"col-auto d-flex align-items-center\">\n                <a href=\"\" class=\"btn btn-sm btn-white\" data-toggle=\"modal\" data-target=\"#modalTopUp\" i18n=\"@@modalCtaTopUp\">Top up</a>\n              </div>\n            </div>\n            <div class=\"row align-items-center\">\n              <div class=\"col\">\n                <span class=\"badge badge-soft-success mb-2\" *ngIf=\"sellData.safety\" i18n=\"@@orderSafetySafe\">\n                  Safe\n                </span>\n                <span class=\"badge badge-soft-danger mb-2\" *ngIf=\"!sellData.safety\" i18n=\"@@orderSafetyInDanger\">\n                  In Danger\n                </span>\n                <div class=\"progress\">\n                  <div [ngClass]=\"{'bg-success': sellData.safety, 'bg-danger': !sellData.safety}\" class=\"progress-bar\"\n                    role=\"progressbar\"\n                    [ngStyle]=\"{'width': toBigNumber(sellData.collateralRatio).div(sellData.minCollateralRatio).div(2).times(100).toFormat(2) + '%'}\">\n                    {{toBigNumber(sellData.collateralRatio).times(100).toFormat(0)}}%</div>\n                </div>\n                <div class=\"row no-gutters justify-content-between text-secondary mb-3\">\n                  <div class=\"col text-left\">\n                    <small class=\"h6\">0%</small>\n                    <small class=\"h6 d-block\" i18n=\"@@orderSafetyInDanger\">In Danger</small>\n                  </div>\n                  <div class=\"col text-left position-absolute d-block w-auto\"\n                    style=\"left: 49.0000%;transform: translateX(-50%);\">\n                    <div style=\"display: flex; flex-direction: column;\">\n                      <div style=\"border: 0.5px dashed #6e84a3; width: 1px; height: 8px; align-self: center;\"></div>\n                      <small class=\"h6\">{{sellData.minCollateralRatio.times(100).toFormat(0)}}%&nbsp;•&nbsp;<ng-container i18n=\"@@modalMinCollRatio\">min. collateral ratio</ng-container></small>\n                    </div>\n                  </div>\n                  <div class=\"col text-right\">\n                    <small class=\"h6\">{{sellData.minCollateralRatio.times(2).times(100).toFormat(0)}}%</small>\n                    <small class=\"h6 d-block\" i18n=\"@@orderSafetySafe\">Safe</small>\n                  </div>\n                </div>\n                <p class=\"text-secondary small mb-0\" i18n=\"@@modalTopUpCollateralLiquidationText\">If the order's collateral ratio falls below the minimum, it will be\n                  liquidated, which will cause huge losses.</p>\n              </div>\n            </div>\n          </div>\n          <!-- Min acceptable price -->\n          <div class=\"row justify-content-center mb-4\">\n            <div class=\"col\">\n              <div id=\"accordion\">\n                <!-- question -->\n                <div class=\"card border-0 shadow-none mb-0\">\n                  <div class=\"card-header border-0 shadow-none px-0\" id=\"headingTwo\">\n                    <a href=\"\" class=\"text-secondary\" data-toggle=\"collapse\" data-target=\"#collapseTwo\"\n                      aria-expanded=\"false\" aria-controls=\"collapseTwo\">\n                      <div class=\"row align-items-center no-gutters\">\n                        <div class=\"col mr-auto\">\n                          <span class=\"card-text text-muted small\" i18n=\"@@modalAdvancedOptionTitle\">\n                            Advanced\n                          </span>\n                        </div>\n                        <div class=\"col-auto\">\n                          <i class=\"fe fe-plus\"></i>\n                        </div>\n                      </div>\n                    </a>\n                  </div>\n                  <div id=\"collapseTwo\" class=\"collapse\" aria-labelledby=\"headingTwo\" data-parent=\"#accordion\">\n                    <div class=\"card-body p-0 pb-4\">\n                      <div class=\"row align-items-center\">\n                        <div class=\"col\">\n                          <h6 class=\"header-pretitle\" i18n=\"@@investmentsModalSellAdvancedOptionSubtite\">\n                            Min acceptable price\n                          </h6>\n                          <p i18n=\"@@modalAdvancedOptionText\">Your order WON'T be executed if the price goes down by more than:</p>\n                          <form>\n                            <div class=\"input-group input-group-lg\">\n                              <input type=\"number\" min=\"0.0\" max=\"100.0\" class=\"form-control border-right-0\"\n                                aria-describedby=\"minAcceptablePrice\" min=\"0.0\" max=\"100.0\" value=\"10\"\n                                id=\"minAcceptablePrice\">\n                              <div class=\"input-group-append\">\n                                <span class=\"input-group-text rounded-right border-left-0\"\n                                  id=\"minAcceptablePriceUnit\">%</span>\n                              </div>\n                            </div>\n                          </form>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <!--Step 1: confirm tx in wallet-->\n        <!-- Confirm tx body -->\n        <!-- loader -->\n        <img class=\"image-fluid d-block mx-auto mb-4\" src=\"assets/img/animated-logo.svg\" alt=\"Betoken logo\"\n          style=\"width: 88px;\" *ngIf=\"sellInvestmentPopupStep == 1 || sellInvestmentPopupStep === 2\">\n\n        <p class=\"text-center text-muted mb-5\" *ngIf=\"sellInvestmentPopupStep === 1\" i18n=\"@@modalBodyTextStep1\">\n          Confirm the transaction in your wallet’s interface to save it on the Ethereum blockchain. It's fine to stick\n          with these defaults gas limit and price.\n        </p>\n\n        <!--Step 2: tx broadcasted-->\n        <!-- Tx broadcasted body -->\n        <p class=\"text-center text-muted mb-5\" *ngIf=\"sellInvestmentPopupStep === 2\" i18n=\"@@modalBodyTextTxBroadcasted\">\n          Your transaction is being saved on the Ethereum blockchain.\n        </p>\n\n        <!--Step 3: tx confirmed-->\n        <!-- Asset sold body -->\n        <p class=\"h1 text-center\" *ngIf=\"sellInvestmentPopupStep === 3\">\n          <i class=\"fe fe-check-circle text-success\"></i>\n        </p>\n        <p class=\"text-center text-muted mb-5\" *ngIf=\"sellInvestmentPopupStep === 3\" i18n=\"@@investmentsModalSellTextStep3\">\n          You have successfully sold the investment and redeemed your Kairo tokens.\n        </p>\n        <hr *ngIf=\"sellInvestmentPopupStep === 2 || sellInvestmentPopupStep === 3\">\n        <form *ngIf=\"sellInvestmentPopupStep === 2 || sellInvestmentPopupStep === 3\">\n          <div class=\"form-group\">\n            <label for=\"exampleFormControlInput1\" i18n=\"@@modalBodyTxHash\">Transaction hash</label>\n            <div class=\"input-group mb-3\">\n              <input type=\"text\" class=\"form-control form-control-lg\" value=\"{{transactionId}}\"\n                aria-label=\"Transaction hash\">\n              <div class=\"input-group-append\">\n                <a class=\"btn btn-white h-100 d-flex align-items-center\"\n                  href=\"https://etherscan.io/tx/{{transactionId}}\" target=\"_blank\"><i\n                    class=\"fe fe-external-link\"></i></a>\n              </div>\n            </div>\n          </div>\n        </form>\n\n        <!-- error -->\n        <div *ngIf=\"sellInvestmentPopupStep == -1\">\n          <p class=\"h1 text-center\">\n            <i class=\"fe fe-alert-circle text-danger\"></i>\n          </p>\n          <p class=\"text-center text-muted mb-5\" i18n=\"@@modalErrorText\">\n            The operation has resulted in an error. Please try again.\n          </p>\n          <p class=\"text-center text-muted mb-5\">\n            <ng-container i18n=\"@@modalErrorMsg\">Error message:</ng-container>&nbsp;{{errorMsg}}\n          </p>\n        </div>\n      </div>\n      <div class=\"modal-footer\" *ngIf=\"sellInvestmentPopupStep === 0\">\n        <!-- Continue button for amount to sell Step -->\n        <button type=\"submit\" class=\"btn btn-block btn-success mt-auto\" aria-label=\"Sell\" (click)=\"sell()\"\n          [disabled]=\"!continueEnabled && (isOrderOfType(sellData, 'BasicOrder') || isOrderOfType(sellData, 'FulcrumOrder'))\" i18n=\"@@investmentsModalSellCtaContinue\">\n          Sell Investment\n        </button>\n      </div>\n      <div class=\"modal-footer\" *ngIf=\"sellInvestmentPopupStep === 2 || sellInvestmentPopupStep === 3\">\n        <!-- close button panel after Asset being sold -->\n        <button type=\"submit\" class=\"btn btn-block btn-white mt-auto\" data-dismiss=\"modal\" i18n-aria-label=\"@@modalAriaLabelClose\" aria-label=\"Close\" i18n=\"@@modalCtaClose\">\n          Close\n        </button>\n      </div>\n      <div class=\"modal-footer\" *ngIf=\"sellInvestmentPopupStep == -1\">\n        <!-- Try again button for error -->\n        <button type=\"submit\" class=\"btn btn-block btn-white mt-auto\" i18n=\"@@modalTryAgainAriaLabel\" aria-label=\"Try again\" (click)=\"resetModals()\" i18n=\"@@modalTryAgain\">\n          Try again\n        </button>\n      </div>\n    </div>\n  </div>\n</div><!-- / modal -->\n\n<!-- Top up collateralization modal -->\n<div class=\"modal fade fixed-right\" id=\"modalTopUp\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modalTopUp\"\n  aria-hidden=\"true\" *ngIf=\"isOrderOfType(sellData, 'CompoundOrder')\">\n  <div class=\"modal-dialog modal-dialog-vertical bg-white\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header border-0\">\n        <!-- Collateralization target title -->\n        <h4 class=\"modal-title\" *ngIf=\"topupPopupStep == 0\" i18n=\"@@investmentsModalTopUpStep0\">\n          Top up your order\n        </h4>\n        <!-- Confirm top up title -->\n        <h4 class=\"modal-title\" *ngIf=\"topupPopupStep == 1\" i18n=\"@@modalTitleConfirmTx\">\n          Confirm transaction\n        </h4>\n        <!-- Processing top up title -->\n        <h4 class=\"modal-title\" *ngIf=\"topupPopupStep == 2\" i18n=\"@@modalTitleProcessingTx\">\n          Processing transaction\n        </h4>\n        <!-- Top up order confirmed title -->\n        <h4 class=\"modal-title\" *ngIf=\"topupPopupStep == 3\" i18n=\"@@modalTitleTxConfirmed\">\n          Transaction confirmed\n        </h4>\n        <!-- Error -->\n        <h4 class=\"modal-title\" *ngIf=\"topupPopupStep == -1\" i18n=\"@@modalTitleError\">\n          That's an error\n        </h4>\n        <!-- Close -->\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" i18n-aria-label=\"@@modalAriaLabelClose\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">×</span>\n        </button>\n      </div>\n      <!-- progress bar selling -->\n      <div class=\"card-header py-0 border-0\" style=\"min-height: 24px;\">\n        <div class=\"progress\" style=\"height: 8px;\">\n          <div [ngClass]=\"{'bg-success': topupPopupStep >= 0, 'bg-secondary': topupPopupStep !== 0}\"\n            class=\"progress-bar bg-success\" role=\"progressbar\" style=\"width: 25%\" aria-valuenow=\"25\" aria-valuemin=\"0\"\n            aria-valuemax=\"100\"></div>\n          <div [ngClass]=\"{'bg-success': topupPopupStep >= 1, 'bg-secondary': topupPopupStep !== 1}\"\n            class=\"progress-bar border-left\" role=\"progressbar\" style=\"width: 25%\" aria-valuenow=\"25\" aria-valuemin=\"0\"\n            aria-valuemax=\"100\"></div>\n          <div [ngClass]=\"{'bg-success': topupPopupStep >= 2, 'bg-secondary': topupPopupStep !== 2}\"\n            class=\"progress-bar border-left\" role=\"progressbar\" style=\"width: 25%\" aria-valuenow=\"25\" aria-valuemin=\"0\"\n            aria-valuemax=\"100\"></div>\n          <div [ngClass]=\"{'bg-success': topupPopupStep >= 3, 'bg-secondary': topupPopupStep !== 3}\"\n            class=\"progress-bar border-left\" role=\"progressbar\" style=\"width: 25%\" aria-valuenow=\"25\" aria-valuemin=\"0\"\n            aria-valuemax=\"100\"></div>\n        </div>\n      </div>\n\n      <div class=\"modal-body pb-5\">\n        <!--Step 0: enter top up amount-->\n        <div *ngIf=\"topupPopupStep == 0\">\n          <div class=\"row align-items-center justify-content-center mb-3\">\n            <div class=\"col\">\n              <h6 class=\"header-pretitle mb-0\" i18n=\"@@modalCollateralStatusTitle\">\n                Collateralization status\n              </h6>\n            </div>\n          </div>\n          <div class=\"row align-items-center\">\n            <div class=\"col\">\n              <span class=\"badge badge-soft-success mb-2\" *ngIf=\"sellData.safety\" i18n=\"@@orderSafetySafe\">\n                Safe\n              </span>\n              <span class=\"badge badge-soft-danger mb-2\" *ngIf=\"!sellData.safety\" i18n=\"@@orderSafetyInDanger\">\n                In Danger\n              </span>\n              <div class=\"progress\">\n                <div [ngClass]=\"{'bg-success': sellData.safety, 'bg-danger': !sellData.safety}\" class=\"progress-bar\"\n                  role=\"progressbar\"\n                  [ngStyle]=\"{'width': toBigNumber(sellData.collateralRatio).div(sellData.minCollateralRatio).div(2).times(100).toFormat(2) + '%'}\">\n                  {{toBigNumber(sellData.collateralRatio).times(100).toFormat(0)}}%</div>\n              </div>\n              <div class=\"row no-gutters justify-content-between text-secondary mb-3\">\n                <div class=\"col text-left\">\n                  <small class=\"h6\">0%</small>\n                  <small class=\"h6 d-block\" i18n=\"@@orderSafetyInDanger\">In danger</small>\n                </div>\n                <div class=\"col text-left position-absolute d-block w-auto\"\n                  style=\"left: 49.0000%;transform: translateX(-50%);\">\n                  <div style=\"display: flex; flex-direction: column;\">\n                    <div style=\"border: 0.5px dashed #6e84a3; width: 1px; height: 8px; align-self: center;\"></div>\n                    <small class=\"h6\">{{sellData.minCollateralRatio.times(100).toFormat(0)}}%&nbsp;•&nbsp;<ng-container i18n=\"@@modalMinCollRatio\">min. collateral ratio</ng-container></small>\n                  </div>\n                </div>\n                <div class=\"col text-right\">\n                  <small class=\"h6\">{{sellData.minCollateralRatio.times(2).times(100).toFormat(0)}}%</small>\n                  <small class=\"h6 d-block\" i18n=\"@@orderSafetySafe\">Safe</small>\n                </div>\n              </div>\n              <p class=\"text-secondary small mb-0\" i18n=\"@@modalTopUpCollateralLiquidationText\">If the order's collateral ratio falls below the minimum, it will be\n                liquidated, which will cause huge losses.</p>\n            </div>\n          </div>\n\n          <hr class=\"my-4\">\n\n          <!-- Collateralization target -->\n          <h6 class=\"header-pretitle\" i18n=\"@@investmentsModalTopUpCollateralTarget\">Collateralization target</h6>\n          <div class=\"row mb-4\">\n            <div class=\"col\">\n              <form>\n                <div class=\"input-group mb-2\">\n                  <input type=\"number\" min=\"0.0\" class=\"form-control form-control-lg border-right-0 pr-0\"\n                    aria-describedby=\"percent of collateralization target\" placeholder=\"0.0\"\n                    id=\"collateral-ratio-target-input\" (input)=\"continueEnabled = true\">\n                  <div class=\"input-group-append\">\n                    <span class=\"input-group-text border-left-0 border-right-0\"\n                      id=\"desiredCollateralizationUnit\">%</span>\n                    <button class=\"btn btn-white\" name=\"button\" type=\"button\"\n                      *ngIf=\"toBigNumber(sellData.currCash).lt(sellData.currBorrow)\" (click)=\"maxTopupTarget()\" i18n=\"@@modalCtaMax\">Max</button>\n                  </div>\n                </div>\n                <small id=\"kroBalance\" class=\"form-text text-secondary d-inline-block mb-0 mt-1\"\n                  *ngIf=\"toBigNumber(sellData.currCash).lt(sellData.currBorrow)\">{{toBigNumber(sellData.currCollateral).div(toBigNumber(sellData.currBorrow).minus(sellData.currCash)).times(100).toFormat(0)}}%&nbsp;•&nbsp;<ng-container i18n=\"@@investmentsModalTopUpMaxPossibleCollRatio\">Max possible collateral ratio</ng-container></small>\n              </form>\n            </div>\n          </div>\n        </div>\n\n        <!--Step 1: confirm tx in wallet-->\n        <!-- Confirm tx body -->\n        <!-- loader -->\n        <img class=\"image-fluid d-block mx-auto mb-4\" src=\"assets/img/animated-logo.svg\" alt=\"Betoken logo\"\n          style=\"width: 88px;\" *ngIf=\"topupPopupStep == 1 || topupPopupStep === 2\">\n        <p class=\"text-center text-muted mb-5\" *ngIf=\"topupPopupStep === 1\" i18n=\"@@modalBodyTextStep1\">\n          Confirm the transaction in your wallet’s interface to save it on the Ethereum blockchain. It's fine to stick\n          with these defaults gas limit and price.\n        </p>\n\n        <!--Step 2: tx broadcasted-->\n        <!-- Tx broadcasted body -->\n        <p class=\"text-center text-muted mb-5\" *ngIf=\"topupPopupStep == 2\" i18n=\"@@modalBodyTextTxBroadcasted\">\n          Your transaction is being saved on the Ethereum blockchain.\n        </p>\n\n        <!--Step 3: tx confirmed-->\n        <!-- Asset sold body -->\n        <div *ngIf=\"topupPopupStep == 3\">\n          <p class=\"h1 text-center\">\n            <i class=\"fe fe-check-circle text-success\"></i>\n          </p>\n          <p class=\"text-center text-muted mb-5\" i18n=\"@@investmentsModalTopUpTextStep3\">\n            You have successfully topped up the order.\n          </p>\n        </div>\n\n        <hr *ngIf=\"topupPopupStep === 2 || topupPopupStep === 3\">\n        <form *ngIf=\"topupPopupStep === 2 || topupPopupStep === 3\">\n          <div class=\"form-group\">\n            <label i18n=\"@@modalBodyTxHash\">Transaction hash</label>\n            <div class=\"input-group mb-3\">\n              <input type=\"text\" class=\"form-control form-control-lg\" value=\"{{transactionId}}\"\n                aria-label=\"Transaction hash\">\n              <div class=\"input-group-append\">\n                <a class=\"btn btn-white h-100 d-flex align-items-center\"\n                  href=\"https://etherscan.io/tx/{{transactionId}}\" target=\"_blank\"><i\n                    class=\"fe fe-external-link\"></i></a>\n              </div>\n            </div>\n          </div>\n        </form>\n\n        <!-- error -->\n        <div *ngIf=\"topupPopupStep == -1\">\n          <p class=\"h1 text-center\">\n            <i class=\"fe fe-alert-circle text-danger\"></i>\n          </p>\n          <p class=\"text-center text-muted mb-5\" i18n=\"@@modalErrorText\">\n            The operation has resulted in an error. Please try again.\n          </p>\n          <p class=\"text-center text-muted mb-5\">\n            <ng-container i18n=\"@@modalErrorMsg\">Error message:</ng-container>&nbsp;{{errorMsg}}\n          </p>\n        </div>\n      </div>\n      <div class=\"modal-footer\" *ngIf=\"topupPopupStep === 0\">\n        <!-- Continue button for amount to sell Step -->\n        <button type=\"submit\" class=\"btn btn-block btn-success mt-auto\" aria-label=\"Topup\" (click)=\"topup()\"\n          [disabled]=\"!continueEnabled\" i18n=\"@@modalCtaContinue\">\n          Continue\n        </button>\n      </div>\n      <div class=\"modal-footer\" *ngIf=\"topupPopupStep === 2 || topupPopupStep === 3\">\n        <!-- close button panel after Asset being sold -->\n        <button type=\"submit\" class=\"btn btn-block btn-white mt-auto\" data-dismiss=\"modal\" i18n-aria-label=\"@@modalAriaLabelClose\" aria-label=\"Close\" i18n=\"@@modalCtaClose\">\n          Close\n        </button>\n      </div>\n      <div class=\"modal-footer\" *ngIf=\"topupPopupStep == -1\">\n        <!-- Try again button for error -->\n        <button type=\"submit\" class=\"btn btn-block btn-white mt-auto\" i18n=\"@@modalTryAgainAriaLabel\" aria-label=\"Try again\"\n          (click)=\"topupPopupStep = 0\" i18n=\"@@modalTryAgain\">\n          Try again\n        </button>\n      </div>\n    </div>\n  </div>\n</div><!-- / modal -->\n","import { Component, OnInit } from '@angular/core';\nimport { user, timer, manager_actions, tokens } from '../../betokenjs/helpers';\nimport BigNumber from 'bignumber.js';\nimport { isUndefined, isNull } from 'util';\n\nimport { ApolloEnabled } from '../apollo';\nimport { Apollo } from 'apollo-angular';\nimport gql from 'graphql-tag';\n\ndeclare var $: any;\n\n@Component({\n    selector: 'app-proposal',\n    templateUrl: './investments.component.html'\n})\n\nexport class InvestmentsComponent extends ApolloEnabled implements OnInit {\n    COL_RATIO_MODIFIER = 4 / 3;\n    UNSAFE_COL_RATIO_MULTIPLIER = 1.1;\n\n    createInvestmentPopupStep: Number;\n    sellInvestmentPopupStep: Number;\n    nextPhasePopupStep: Number;\n    topupPopupStep: Number;\n\n    portfolioValueInDAI: BigNumber;\n    riskTakenPercentage: BigNumber;\n    userValue: BigNumber;\n    expectedCommission: BigNumber;\n    kairoBalance: BigNumber;\n    userROI: BigNumber;\n    phase: Number;\n    kairoPrice: BigNumber;\n\n    selectedTokenSymbol: String;\n    stakeAmount: BigNumber;\n    transactionId: String;\n    continueEnabled: Boolean;\n    orderTypes: Array<Object>;\n    selectedOrderType: Object;\n    fulcrumMinStake: BigNumber;\n\n    sellId: Number;\n    sellData: Object;\n\n    activeInvestmentList: Array<Object>;\n    inactiveInvestmentList: Array<Object>;\n    tokenData: Array<Object>;\n    activePortfolio: Array<Object>;\n\n    errorMsg: String;\n\n    isLoading: Boolean;\n\n    constructor(private apollo: Apollo) {\n        super();\n\n        this.createInvestmentPopupStep = 0;\n        this.sellInvestmentPopupStep = 0;\n        this.nextPhasePopupStep = 0;\n        this.topupPopupStep = 0;\n\n        this.portfolioValueInDAI = new BigNumber(0);\n        this.riskTakenPercentage = new BigNumber(0);\n        this.userValue = new BigNumber(0);\n        this.expectedCommission = new BigNumber(0);\n        this.kairoBalance = new BigNumber(0);\n        this.userROI = new BigNumber(0);\n        this.phase = 0;\n        this.kairoPrice = new BigNumber(0);\n\n        this.selectedTokenSymbol = 'ETH';\n        this.stakeAmount = new BigNumber(0);\n        this.transactionId = '';\n        this.selectedOrderType = {\n            text: 'Basic Order',\n            leverage: 1,\n            type: 'basic'\n        };\n        this.continueEnabled = false;\n        this.fulcrumMinStake = new BigNumber(0);\n\n        this.sellId = 0;\n        this.sellData = {\n            stake: new BigNumber(0),\n            ROI: new BigNumber(0),\n            currValue: new BigNumber(0),\n            type: \"basic\",\n            buyTime: new Date(),\n            collateralRatio: new BigNumber(0),\n            minCollateralRatio: new BigNumber(0),\n            currCollateral: new BigNumber(0),\n            currBorrow: new BigNumber(0),\n            currCash: new BigNumber(0),\n            leverage: 0,\n            tokenSymbol: \"ETH\"\n        };\n\n        this.activeInvestmentList = new Array<Object>();\n        this.inactiveInvestmentList = new Array<Object>();\n        this.tokenData = new Array<Object>();\n        this.activePortfolio = new Array<Object>();\n\n        this.errorMsg = \"\";\n\n        this.isLoading = true;\n    }\n\n    ngOnInit() {\n        $('#modalBuy').on('hidden.bs.modal', () => {\n            this.resetModals();\n        });\n        $('#modalSell').on('hidden.bs.modal', () => {\n            this.resetModals();\n        });\n        $('#modalTopUp').on('hidden.bs.modal', () => {\n            this.resetModals();\n        });\n        $('[data-toggle=\"tooltip\"]').tooltip();\n\n        this.tokenData = tokens.token_data().filter((x) => tokens.not_stablecoin(x.symbol));\n        this.createQuery();\n    }\n\n    resetModals() {\n        this.stakeAmount = new BigNumber(0);\n        this.selectedOrderType = {\n            text: 'Basic Order',\n            leverage: 1,\n            type: 'basic'\n        };\n        this.createInvestmentPopupStep = 0;\n        this.sellInvestmentPopupStep = 0;\n        this.nextPhasePopupStep = 0;\n        this.topupPopupStep = 0;\n        this.continueEnabled = false;\n        this.fulcrumMinStake = new BigNumber(0);\n    }\n\n    // Refresh info\n\n    createQuery() {\n        let userAddress = user.address().toLowerCase();\n        this.query = this.apollo\n            .watchQuery({\n                pollInterval: 300000,\n                fetchPolicy: 'cache-and-network',\n                query: gql`\n                    {\n                        fund(id: \"BetokenFund\") {\n                            aum\n                            cyclePhase\n                            totalFundsInDAI\n                            kairoTotalSupply\n                            cycleTotalCommission\n                            totalFundsAtPhaseStart\n                            kairoPrice\n                        }\n                        manager(id: \"${userAddress}\") {\n                            kairoBalance\n                            kairoBalanceWithStake\n                            baseStake\n                            riskTaken\n                            riskThreshold\n                        }\n                        activeBasicOrders: basicOrders(where: {owner: \"${userAddress}\", cycleNumber: \"${timer.cycle()}\", isSold: false}) {\n                            idx\n                            tokenAddress\n                            stake\n                            tokenAmount\n                            buyPrice\n                            sellPrice\n                            buyTime\n                            cycleNumber\n                        }\n                        inactiveBasicOrders: basicOrders(where: {owner: \"${userAddress}\", cycleNumber: \"${timer.cycle()}\", isSold: true}) {\n                            tokenAddress\n                            stake\n                            buyPrice\n                            sellPrice\n                        }\n                        activeFulcrumOrders: fulcrumOrders(where: {owner: \"${userAddress}\", cycleNumber: \"${timer.cycle()}\", isSold: false}) {\n                            idx\n                            tokenAddress\n                            stake\n                            tokenAmount\n                            buyPrice\n                            sellPrice\n                            buyTime\n                            liquidationPrice\n                            isShort\n                        }\n                        inactiveFulcrumOrders: fulcrumOrders(where: {owner: \"${userAddress}\", cycleNumber: \"${timer.cycle()}\", isSold: true}) {\n                            tokenAddress\n                            stake\n                            buyPrice\n                            sellPrice\n                            isShort\n                        }\n                        activeCompoundOrders: compoundOrders(where: {owner: \"${userAddress}\", cycleNumber: \"${timer.cycle()}\", isSold: false}) {\n                            idx\n                            tokenAddress\n                            stake\n                            collateralAmountInDAI\n                            collateralRatio\n                            currProfit\n                            currBorrow\n                            currCash\n                            currCollateral\n                            marketCollateralFactor\n                            outputAmount\n                            buyTime\n                            isShort\n                            orderAddress\n                        }\n                        inactiveCompoundOrders: compoundOrders(where: {owner: \"${userAddress}\", cycleNumber: \"${timer.cycle()}\", isSold: true}) {\n                            tokenAddress\n                            stake\n                            collateralAmountInDAI\n                            currProfit\n                            outputAmount\n                            isShort\n                            marketCollateralFactor\n                        }\n                    }\n                `\n            });\n        this.querySubscription = this.query.valueChanges.subscribe((result) => this.handleQuery(result));\n    }\n\n    handleQuery({ data, loading }) {\n        this.isLoading = isUndefined(loading) || loading;\n\n        if (!loading) {\n            let fund = data['fund'];\n            let manager = data['manager'];\n\n            this.phase = fund.cyclePhase === 'INTERMISSION' ? 0 : 1;\n            this.kairoPrice = new BigNumber(fund.kairoPrice);\n\n            if (!isNull(manager)) {\n                this.userValue = this.getManagerKairoBalance(manager);\n                this.userROI = this.userValue.div(manager.baseStake).minus(1).times(100);\n                this.riskTakenPercentage = BigNumber.min(new BigNumber(manager.riskTaken).div(manager.riskThreshold).times(100), 100);\n                this.portfolioValueInDAI = this.userValue.div(fund.kairoTotalSupply).times(fund.totalFundsInDAI);\n                this.kairoBalance = new BigNumber(manager.kairoBalance);\n                // calculate expected commission\n                if (+fund.kairoTotalSupply > 0) {\n                    if (this.phase == 0) {\n                        // Actual commission that will be redeemed\n                        this.expectedCommission = this.kairoBalance.div(fund.kairoTotalSupply).times(fund.cycleTotalCommission);\n                    } else {\n                        // Expected commission based on previous average ROI\n                        let actualKairoSupply = new BigNumber(fund.kairoTotalSupply).div(fund.totalFundsInDAI).times(fund.aum);\n                        let totalProfit = new BigNumber(fund.aum).minus(fund.totalFundsAtPhaseStart);\n                        totalProfit = BigNumber.max(totalProfit, 0);\n                        let commission = totalProfit.div(actualKairoSupply).times(this.userValue).times(user.commission_rate());\n                        let assetFee = new BigNumber(fund.aum).div(actualKairoSupply).times(this.userValue).times(user.asset_fee_rate());\n                        this.expectedCommission = commission.plus(assetFee);\n                    }\n                }\n            }\n\n            let activeBasicOrders = data['activeBasicOrders'].map((x) => {\n                x.tokenSymbol = this.getOrderTokenSymbol(x);\n                x.ROI = new BigNumber(x.sellPrice).div(x.buyPrice).minus(1).times(100);\n                x.currValue = new BigNumber(x.stake).times(x.ROI.div(100).plus(1));\n                return x;\n            });\n            let activeFulcrumOrders = data['activeFulcrumOrders'].map((x) => {\n                x.tokenSymbol = this.getOrderTokenSymbol(x);\n                x.ROI = new BigNumber(x.sellPrice).div(x.buyPrice).minus(1).times(100);\n                x.currValue = new BigNumber(x.stake).times(x.ROI.div(100).plus(1));\n                x.leverage = tokens.ptoken_address_to_info(x.tokenAddress).leverage;\n                x.safety = new BigNumber(x.liquidationPrice).minus(x.sellPrice).div(x.sellPrice).abs().gt(this.UNSAFE_COL_RATIO_MULTIPLIER - 1);\n                return x;\n            });\n            let activeCompoundOrders = data['activeCompoundOrders'].map((x) => {\n                x.tokenSymbol = this.getOrderTokenSymbol(x);\n                x.ROI = new BigNumber(x.currProfit).div(x.collateralAmountInDAI).times(100);\n                x.currValue = new BigNumber(x.stake).times(x.ROI.div(100).plus(1));\n                x.minCollateralRatio = new BigNumber(1).div(x.marketCollateralFactor);\n                x.leverage = x.isShort ? x.minCollateralRatio.times(this.COL_RATIO_MODIFIER).pow(-1).dp(4).toNumber() : new BigNumber(1).plus(x.minCollateralRatio.times(this.COL_RATIO_MODIFIER).pow(-1)).dp(4).toNumber();\n                x.safety = new BigNumber(x.collateralRatio).gt(x.minCollateralRatio.times(this.UNSAFE_COL_RATIO_MULTIPLIER));\n                return x;\n            });\n            let inactiveBasicOrders = data['inactiveBasicOrders'].map((x) => {\n                x.tokenSymbol = this.getOrderTokenSymbol(x);\n                x.ROI = new BigNumber(x.sellPrice).div(x.buyPrice).minus(1).times(100);\n                x.currValue = new BigNumber(x.stake).times(x.ROI.div(100).plus(1));\n                return x;\n            });\n            let inactiveFulcrumOrders = data['inactiveFulcrumOrders'].map((x) => {\n                x.tokenSymbol = this.getOrderTokenSymbol(x);\n                x.ROI = new BigNumber(x.sellPrice).div(x.buyPrice).minus(1).times(100);\n                x.currValue = new BigNumber(x.stake).times(x.ROI.div(100).plus(1));\n                x.leverage = tokens.ptoken_address_to_info(x.tokenAddress).leverage;\n                return x;\n            });\n            let inactiveCompoundOrders = data['inactiveCompoundOrders'].map((x) => {\n                x.tokenSymbol = this.getOrderTokenSymbol(x);\n                x.ROI = new BigNumber(x.currProfit).div(x.collateralAmountInDAI).times(100);\n                x.currValue = new BigNumber(x.stake).times(x.ROI.div(100).plus(1));\n                let minCollateralRatio = new BigNumber(1).div(x.marketCollateralFactor);\n                x.leverage = x.isShort ? minCollateralRatio.times(this.COL_RATIO_MODIFIER).pow(-1).dp(4).toNumber() : new BigNumber(1).plus(minCollateralRatio.times(this.COL_RATIO_MODIFIER).pow(-1)).dp(4).toNumber();\n                return x;\n            });\n\n            this.activeInvestmentList = activeBasicOrders.concat(activeFulcrumOrders).concat(activeCompoundOrders).sort((a, b) => new BigNumber(b['buyTime']).minus(a['buyTime']).toNumber());\n            this.inactiveInvestmentList = inactiveBasicOrders.concat(inactiveFulcrumOrders).concat(inactiveCompoundOrders).sort((a, b) => new BigNumber(b['buyTime']).minus(a['buyTime']).toNumber());\n\n            // convert active investments into portfolio format\n            this.activePortfolio = [];\n            let recordStake = (_symbol, _stake) => {\n                let assetIdx = this.activePortfolio.findIndex((x) => x['symbol'] === _symbol);\n                if (assetIdx == -1) {\n                    // asset not recorded\n                    this.activePortfolio.push({\n                        symbol: _symbol,\n                        stake: new BigNumber(0)\n                    });\n                    assetIdx = this.activePortfolio.length - 1;\n                }\n                this.activePortfolio[assetIdx]['stake'] = this.activePortfolio[assetIdx]['stake'].plus(_stake);\n            }\n            for (let inv of this.activeInvestmentList) {\n                recordStake(inv['tokenSymbol'], inv['currValue']);\n            }\n            // record unstaked KRO as well\n            this.activePortfolio.push({\n                symbol: 'DAI',\n                stake: this.kairoBalance\n            });\n            // sort in descending order of stake\n            this.activePortfolio.sort((a, b) => new BigNumber(b['stake']).minus(a['stake']).toNumber());\n        }\n    }\n\n    refreshDisplay() {\n        this.isLoading = true;\n\n        this.query.refetch().then((result) => this.handleQuery(result));\n    }\n\n    formatNumber(n, decimals) {\n        return new BigNumber(n).toFormat(decimals);\n    }\n\n    // Create investment\n\n    selectInvestmentAsset(symbol) {\n        this.selectedTokenSymbol = symbol;\n        this.createInvestmentPopupStep = 1;\n\n        // generate list of order types\n        let orderTypes = new Array();\n        const basicOrder = {\n            text: 'Basic Order',\n            leverage: 1,\n            type: 'basic'\n        };\n        orderTypes.push(basicOrder);\n        if (tokens.is_compound_token(symbol)) {\n            const longOrder = {\n                text: 'Long • Leverage 1.5625x (Compound)',\n                leverage: 1.5625,\n                type: 'compound',\n                isShort: false\n            }\n            const shortOrder = {\n                text: 'Short • Leverage 0.5625x (Compound)',\n                leverage: -0.5625,\n                type: 'compound',\n                isShort: true\n            }\n            orderTypes.push(longOrder);\n            orderTypes.push(shortOrder);\n        }\n        if (tokens.is_fulcrum_token(symbol)) {\n            let pTokens = tokens.asset_symbol_to_ptokens(symbol);\n            for (let pToken of pTokens) {\n                let option = {\n                    text: `${pToken.type ? 'Short' : 'Long'} • Leverage ${pToken.leverage}x (Fulcrum)`,\n                    leverage: pToken.type ? -pToken.leverage : pToken.leverage,\n                    type: 'fulcrum',\n                    tokenAddress: pToken.address\n                }\n                orderTypes.push(option);\n            }\n        }\n\n        this.orderTypes = orderTypes;\n    }\n\n    selectOrderType(typeId) {\n        this.selectedOrderType = this.orderTypes[typeId];\n        if (this.selectedOrderType['type'] === 'fulcrum') {\n            this.fulcrumMinStake = tokens.fulcrum_min_stake(this.selectedTokenSymbol, (this.selectedOrderType['leverage'] < 0), this.kairoPrice);\n        }\n    }\n\n    async createInvestment() {\n        this.stakeAmount = new BigNumber($('#kairo-input').val());\n        let maxAcceptablePriceProp = new BigNumber($('#maxAcceptablePrice').val()).div(100);\n\n        this.createInvestmentPopupStep = 2;\n\n        let pending = (transactionHash) => {\n            if (this.createInvestmentPopupStep !== 0) {\n                this.transactionId = transactionHash;\n                this.createInvestmentPopupStep = 3;\n            }\n        }\n\n        let confirm = () => {\n            if (this.createInvestmentPopupStep !== 0) {\n                this.createInvestmentPopupStep = 4;\n            }\n            this.refreshDisplay();\n        }\n\n        let error = (e) => {\n            if (this.createInvestmentPopupStep != 0) {\n                this.createInvestmentPopupStep = -1;\n                this.errorMsg = e.toString();\n            }\n        }\n\n        switch (this.selectedOrderType['type']) {\n            case 'basic':\n                let tokenPrice = tokens.asset_symbol_to_price(this.selectedTokenSymbol);\n                let maxPrice = tokenPrice.plus(tokenPrice.times(maxAcceptablePriceProp));\n                manager_actions.new_investment_with_symbol(this.selectedTokenSymbol, this.stakeAmount, new BigNumber(0), maxPrice, pending, confirm, error);\n                break;\n            case 'compound':\n                let tokenPrice1 = tokens.asset_symbol_to_price(this.selectedTokenSymbol);\n                let maxPrice1 = tokenPrice1.plus(tokenPrice1.times(maxAcceptablePriceProp));\n                manager_actions.new_compound_order(this.selectedOrderType['isShort'], this.selectedTokenSymbol, this.stakeAmount, new BigNumber(0), maxPrice1, pending, confirm, error);\n                break;\n            case 'fulcrum':\n                let tokenPrice2 = await tokens.get_ptoken_price(this.selectedOrderType['tokenAddress'], tokens.asset_symbol_to_price(this.selectedTokenSymbol));\n                let maxPrice2 = tokenPrice2.plus(tokenPrice2.times(maxAcceptablePriceProp));\n                manager_actions.new_investment_with_address(this.selectedOrderType['tokenAddress'], this.stakeAmount, new BigNumber(0), maxPrice2, pending, confirm, error);\n                break;\n        }\n    }\n\n    // Sell investment\n\n    openSellModal(data) {\n        this.sellId = +data.idx;\n        this.sellData = data;\n        this.selectedTokenSymbol = data.tokenSymbol;\n    }\n\n    async sell() {\n        let sellPercentage = new BigNumber($('#sell-percentage-input').val()).div(100);\n        let minAcceptablePriceProp = new BigNumber($('#minAcceptablePrice').val()).div(100);\n        this.sellInvestmentPopupStep = 1;\n\n        let pendingSell = (transactionHash) => {\n            if (this.sellInvestmentPopupStep !== 0) {\n                this.sellInvestmentPopupStep = 2;\n                this.transactionId = transactionHash;\n            }\n        }\n\n        let confirmSell = () => {\n            if (this.sellInvestmentPopupStep !== 0) {\n                this.sellInvestmentPopupStep = 3;\n            }\n            this.refreshDisplay();\n        }\n\n        let error = (e) => {\n            if (this.sellInvestmentPopupStep != 0) {\n                this.sellInvestmentPopupStep = -1;\n                this.errorMsg = e.toString();\n            }\n        }\n\n        switch (this.sellData['__typename']) {\n            case 'BasicOrder':\n                // basic order\n                let tokenPrice = this.assetSymbolToPrice(this.selectedTokenSymbol);\n                let minPrice = tokenPrice.minus(tokenPrice.times(minAcceptablePriceProp));\n                manager_actions.sell_investment(this.sellId, sellPercentage, minPrice, tokenPrice.times(100000), pendingSell, confirmSell, error);\n                break;\n            case 'FulcrumOrder':\n                // fulcrum order\n                let tokenPrice1 = new BigNumber(this.sellData['sellPrice']);\n                let minPrice1 = tokenPrice1.minus(tokenPrice1.times(minAcceptablePriceProp));\n                manager_actions.sell_investment(this.sellId, sellPercentage, minPrice1, tokenPrice1.times(100000), pendingSell, confirmSell, error);\n                break;\n            case 'CompoundOrder':\n                // compound order\n                let tokenPrice2 = this.assetSymbolToPrice(this.selectedTokenSymbol);\n                let minPrice2 = tokenPrice2.minus(tokenPrice2.times(minAcceptablePriceProp));\n                manager_actions.sell_compound_order(this.sellId, minPrice2, tokenPrice2.times(100000), pendingSell, confirmSell, error);\n                break;\n        }\n\n    }\n\n    // Top up Compound order\n    topup() {\n        let targetColRatio = new BigNumber($('#collateral-ratio-target-input').val()).div(100);\n        let repayAmount = new BigNumber(this.sellData['currBorrow']).minus(new BigNumber(this.sellData['currCollateral']).div(targetColRatio));\n        this.topupPopupStep = 1;\n\n        let pending = (transactionHash) => {\n            if (this.topupPopupStep !== 0) {\n                this.topupPopupStep = 2;\n                this.transactionId = transactionHash;\n            }\n        }\n\n        let confirm = () => {\n            if (this.topupPopupStep !== 0) {\n                this.topupPopupStep = 3;\n            }\n            this.sellData['collateralRatio'] = targetColRatio;\n            this.refreshDisplay();\n        }\n\n        let error = (e) => {\n            if (this.topupPopupStep != 0) {\n                this.topupPopupStep = -1;\n                this.errorMsg = e.toString();\n            }\n        }\n\n        manager_actions.repay_compound_order(this.sellId, repayAmount, pending, confirm, error);\n    }\n\n    // UI helpers\n\n    maxStake() {\n        $('#kairo-input').val(this.kairoBalance.toString());\n        this.continueEnabled = true;\n    }\n\n    maxSellPercent() {\n        $('#sell-percentage-input').val('100.0');\n        this.continueEnabled = true;\n    }\n\n    maxTopupTarget() {\n        $('#collateral-ratio-target-input').val(this.sellData['currCollateral'].div(this.sellData['currBorrow'].minus(this.sellData['currCash'])).times(100).toFixed(0));\n        this.continueEnabled = true;\n    }\n\n    filterList = (event, listID, searchID) => {\n        let searchInput = event.target.value.toLowerCase();\n        let entries = $(`#${listID} li`);\n        for (let i = 0; i < entries.length; i++) { // skip first item (titles etc.)\n            let entry = entries[i];\n            let searchTarget = entry.children[searchID];\n            if (searchTarget) {\n                if (searchTarget.innerText.toLowerCase().indexOf(searchInput) > -1)\n                    entry.style.display = \"\";\n                else\n                    entry.style.display = \"none\";\n            }\n        }\n    }\n\n    assetSymbolToPrice(symbol) {\n        return tokens.asset_symbol_to_price(symbol);\n    }\n\n    getOrderTokenSymbol(orderData) {\n        switch (orderData.__typename) {\n            case 'BasicOrder':\n                return tokens.asset_address_to_symbol(orderData.tokenAddress);\n            case 'FulcrumOrder':\n                return tokens.ptoken_address_to_symbol(orderData.tokenAddress);\n            case 'CompoundOrder':\n                return tokens.ctoken_address_to_symbol(orderData.tokenAddress);\n        }\n    }\n\n    getTokenName(token) {\n        let result = tokens.asset_symbol_to_name(token);\n        if (isUndefined(result)) {\n            return '';\n        }\n        return result;\n    }\n\n    getTokenLogoUrl(token) {\n        let result = tokens.asset_symbol_to_logo_url(token);\n        if (isUndefined(result)) {\n            return '';\n        }\n        return result;\n    }\n\n    getTokenDailyPriceChange(token) {\n        let result = tokens.asset_symbol_to_daily_price_change(token);\n        return result.isNaN() ? 'Not available' : result.toFormat(4);\n    }\n\n    isMarginToken(token) {\n        return tokens.is_compound_token(token) || tokens.is_fulcrum_token(token);\n    }\n\n    isOrderOfType(orderData, type) {\n        return orderData.__typename === type;\n    }\n}\n","<!-- MAIN CONTENT -->\n<div class=\"main-content\">\n  <div class=\"container px-lg-7\">\n    <div class=\"row justify-content-center my-5\">\n      <div class=\"col-11 col-md-12\">\n        <img class=\"image-fluid mb-4\" src=\"assets/img/illustrations/betoken-particuls.svg\" alt=\"Betoken particuls\"\n          style=\"max-width: 88px;\">\n      </div>\n    </div>\n    <div class=\"row justify-content-center mb-6\">\n      <div class=\"col-11 col-lg-6 pr-lg-4 order-2 order-lg-1\">\n        <h5 class=\"header-pretitle d-none d-lg-block\" i18n=\"@@investorOnboardingHeaderPreTitle\">\n          Welcome To\n        </h5>\n        <h1 class=\"display-2 font-weight-bold d-none d-lg-block\" i18n=\"@@investorOnboardingHeaderTitle\">Betoken Fund</h1>\n        <p class=\"lead font-weight-bold mb-5 d-none d-lg-block\" i18n=\"@@investorOnboardingHeaderSubtitle\">If you think 2 brains are better than one...How about\n          hundreds of talented asset managers working for you? Worldwide!</p>\n        <div class=\"media mb-4 mb-lg-3\">\n          <i class=\"fe fe-check text-green mr-3\"></i>\n          <div class=\"media-body\">\n            <h6 class=\"header-pretitle\" i18n=\"@@investorOnboardingIntroSubtitle1\">\n              Crowd-powered finance\n            </h6>\n            <p>\n              <ng-container i18n=\"@@investorOnboardingIntroText1a\">Your capital is automatically distributed among</ng-container>&nbsp;<a href=\"https://betoken.fund/portal/#/rankings\"\n                target=\"_blank\"><ng-container i18n=\"@@investorOnboardingIntroText1b\">Betoken’s community of managers</ng-container></a>.&nbsp;<ng-container i18n=\"@@investorOnboardingIntroText1c\">The best of them will have the most influence over\n              how that capital is put to work.</ng-container>\n            </p>\n          </div>\n        </div>\n        <div class=\"media\">\n          <i class=\"fe fe-check text-green mr-3\"></i>\n          <div class=\"media-body\">\n            <h6 class=\"header-pretitle\" i18n=\"@@investorOnboardingIntroSubtitle2\">\n              70+ assets\n            </h6>\n            <p i18n=\"@@investorOnboardingIntroText2\">\n              By depositing your capital on Betoken protocol, you gain exposure to ETH, WBTC, BAT, MKR and 70+ ERC20\n              tokens.\n            </p>\n          </div>\n        </div>\n        <div class=\"media\">\n          <i class=\"fe fe-check text-green mr-3\"></i>\n          <div class=\"media-body\">\n            <h6 class=\"header-pretitle\" i18n=\"@@investorOnboardingIntroSubtitle3\">\n              No limits, no hidden fees\n            </h6>\n            <p>\n              <ng-container i18n=\"@@investorOnboardingIntroText3a\">Betoken allows anyone to buy or sell any amount of Betoken Shares, and Betoken's fee structure is\n              completely transparent.</ng-container>&nbsp;<a\n                href=\"https://betoken.gitbook.io/docs/deposit-withdraw/what-is-the-fees-structure\"\n                target=\"_blank\"><ng-container i18n=\"@@investorOnboardingIntroText3b\">More about fees, lockup, and liquidity</ng-container><i class=\"fe fe-arrow-right ml-2\"></i></a>\n            </p>\n          </div>\n        </div>\n        <div class=\"media\">\n          <i class=\"fe fe-check text-green mr-3\"></i>\n          <div class=\"media-body\">\n            <h6 class=\"header-pretitle\" i18n=\"@@investorOnboardingIntroSubtitle4\">\n              Non-custodial\n            </h6>\n            <p i18n=\"@@investorOnboardingIntroText4\">\n              You always stay in control, it’s written on the blockchain. All user funds are locked in smart contracts,\n              no one but you has direct access to those funds.\n            </p>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-11 col-lg-6 pl-lg-4 order-1 order-lg-2\">\n        <h5 class=\"header-pretitle d-block d-lg-none\" i18n=\"@@investorOnboardingHeaderPreTitle\">\n          Welcome To\n        </h5>\n        <h1 class=\"display-4 font-weight-bold d-block d-lg-none\" i18n=\"@@investorOnboardingHeaderTitle\">Betoken Fund</h1>\n        <p class=\"lead font-weight-bold mb-4 d-block d-lg-none\" i18n=\"@@investorOnboardingHeaderSubtitle\">If you think 2 brains are better than one...How about\n          hundreds of talented asset managers working for you? Worldwide! Get started by depositing your capital!</p>\n        <div class=\"card mb-6\">\n          <div class=\"card-header d-flex text-center text-md-left\">\n            <!-- cta -->\n            <span class=\"text-truncate d-block\" *ngIf=\"user_address !== ZERO_ADDR\"><span class=\"text-success\">●</span>\n              {{user_address}}</span>\n            <span class=\"text-truncate\" *ngIf=\"user_address == ZERO_ADDR\"><span class=\"text-danger\">●</span>&nbsp;<ng-container i18n=\"@@investorOnboardingConnectStatus\">No Wallet Connected</ng-container></span>\n          </div>\n          <div class=\"card-body text-center text-md-left\">\n            <button class=\"btn btn-block btn-lg btn-success\" type=\"button\" data-toggle=\"modal\"\n              data-target=\"#modalInvestorBuy\" *ngIf=\"user_address != ZERO_ADDR\" i18n=\"@@ctaGetStarted\">Get Started</button>\n          </div>\n          <a href=\"https://github.com/solidified-platform/audits/blob/master/Audit%20Report%20-%20%20Betoken%20%5B20.05.2019%5D.pdf\"\n            target=\"_blank\">\n            <div class=\"card-footer\">\n              <div class=\"row align-items-center\">\n                <div class=\"col-auto\">\n                  <div class=\"avatar avatar-sm\">\n                    <img class=\"avatar-img rounded-circle bg-secondary\" src=\"assets/img/solidified-logo.png\"\n                      alt=\"Solidified logo\">\n                  </div>\n                </div>\n                <div class=\"col\">\n                  <p class=\"small text-secondary mb-0\" i18n=\"@@solidifiedAudit\">Betoken Smart Contracts are audited and secured by Solidified</p>\n                </div>\n                <div class=\"col-auto\">\n                  <i class=\"fe fe-arrow-right text-secondary\"></i>\n                </div>\n              </div>\n            </div>\n          </a>\n        </div>\n        <div class=\"card card-inactive mb-6\">\n          <div class=\"card-body\">\n            <h3 id=\"disclaimer\" i18n=\"@@disclaimerTitle\">Disclaimer</h3>\n            <p class=\"text-muted\" i18n=\"@@disclaimertext1\">\n              Nothing herein constitutes an offer to sell, or the solicitation of an offer to buy, any securities or\n              tokens.\n            </p>\n            <p class=\"text-muted\" i18n=\"@@disclaimertext2\">\n              Betoken enables capital deposit, withdrawal, and managing using smart contracts which are open source. Betoken does\n              not take custody of tokens and is only a collaborative hub for investors and managers. Betoken is not a\n              licensed bank, broker-dealer, investment advisor or an exchange. Betoken uses partner protocols (Kyber,\n              Compound, bZx, Maker DAO) to power its own ecosystem.\n            </p>\n            <p class=\"text-danger\" i18n=\"@@disclaimertext3\">\n              💀 This project is in beta. Use at your own risk.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"container mt-3\">\n    <div class=\"row justify-content-center\">\n      <div class=\"col-11 col-lg-6\">\n        <h1 class=\"text-center\" i18n=\"@@faqTitle\">Frequently asked questions</h1>\n        <div id=\"accordion\">\n          <!-- question -->\n          <div class=\"card\">\n            <div class=\"card-header\" id=\"headingOne\">\n              <a href=\"\" class=\"text-secondary\" data-toggle=\"collapse\" data-target=\"#collapseOne\" aria-expanded=\"false\"\n                aria-controls=\"collapseOne\">\n                <div class=\"row align-items-center no-gutters\">\n                  <div class=\"col mr-auto\">\n                    <h3 class=\"card-text\" i18n=\"@@investorOnboardingFaqQ1\">\n                      Can I buy and sell Betoken Shares at any time?\n                    </h3>\n                  </div>\n                  <div class=\"col-auto\">\n                    <i class=\"fe fe-plus\"></i>\n                  </div>\n                </div>\n              </a>\n            </div>\n            <div id=\"collapseOne\" class=\"collapse\" aria-labelledby=\"headingOne\" data-parent=\"#accordion\">\n              <div class=\"card-body\">\n                <ng-container i18n=\"@@investorOnboardingFaqA1a\">Yes. Betoken's protocol is 100% liquid. You can buy and sell Betoken shares at any time in 2 ways:</ng-container>\n                <ol>\n                  <li><ng-container i18n=\"@@investorOnboardingFaqA1b\">During Betoken's 3 days\n                      intermission phase that happens every 27 days, you can buy and sell Betoken shares directly on the\n                    investor dashboard.</ng-container></li>\n                  <li><ng-container i18n=\"@@investorOnboardingFaqA1c\">During Betoken's management phase (27 days), Betoken shares token is freely tradable on decentralized exchanges (Fork Delta, Uniswap).\n                    Depending of the market conditions, the price may be different from what's displayed on the investor\n                    dashboard.</ng-container></li>\n                </ol>\n              </div>\n            </div>\n            <div class=\"card-header border-bottom\" id=\"headingTwo\">\n              <a href=\"\" class=\"text-secondary\" data-toggle=\"collapse\" data-target=\"#collapseTwo\" aria-expanded=\"false\"\n                aria-controls=\"collapseTwo\">\n                <div class=\"row align-items-center no-gutters\">\n                  <div class=\"col mr-auto\">\n                    <h3 class=\"card-text\" i18n=\"@@investorOnboardingFaqQ2\">\n                      How can I buy Betoken Shares?\n                    </h3>\n                  </div>\n                  <div class=\"col-auto\">\n                    <i class=\"fe fe-plus\"></i>\n                  </div>\n                </div>\n              </a>\n            </div>\n            <div id=\"collapseTwo\" class=\"collapse\" aria-labelledby=\"headingTwo\" data-parent=\"#accordion\">\n              <div class=\"card-body\" i18n=\"@@investorOnboardingFaqA2\">\n                <p>Click on the Get Started button and follow the instructions. You'll be able to use Ether or any of\n                  our 70+ supported ERC-20 tokens to buy Betoken Shares.</p>\n              </div>\n            </div>\n            <div class=\"card-header border-bottom\" id=\"headingThree\">\n              <a href=\"\" class=\"text-secondary\" data-toggle=\"collapse\" data-target=\"#collapseThree\"\n                aria-expanded=\"false\" aria-controls=\"collapseThree\">\n                <div class=\"row align-items-center no-gutters\">\n                  <div class=\"col mr-auto\">\n                    <h3 class=\"card-text\" i18n=\"@@investorOnboardingFaqQ3\">\n                      What is the fees structure?\n                    </h3>\n                  </div>\n                  <div class=\"col-auto\">\n                    <i class=\"fe fe-plus\"></i>\n                  </div>\n                </div>\n              </a>\n            </div>\n            <div id=\"collapseThree\" class=\"collapse\" aria-labelledby=\"headingThree\" data-parent=\"#accordion\">\n              <div class=\"card-body\">\n                <h3 i18n=\"@@investorOnboardingFaqA3Title1\">Management fees</h3>\n                <p i18n=\"@@investorOnboardingFaqA3Text1\">After the management phase is over (every 27 days):</p>\n                <h4 i18n=\"@@investorOnboardingFaqA3Title2\">IF the fund is profitable OR not profitable</h4>\n                <ul i18n=\"@@investorOnboardingFaqA3Text2\">\n                  <li>0.1% of the total Betoken funds is set aside and distributed among fund manager holding Kairo tokens.\n                  </li>\n                  <li>In order to provide funding for its maintenance and future development, Betoken protocol will mint\n                    Betoken Shares and send them to the current development team. The amount will be equal to 0.1% of\n                    the current Betoken Shares total supply, and it will occur at the end of every investment cycle.\n                  </li>\n                </ul>\n                <h4 i18n=\"@@investorOnboardingFaqA3Title3\">ONLY IF the fund is profitable</h4>\n                <p i18n=\"@@investorOnboardingFaqA3text3\">20% of the total Betoken's monthly profits is set aside as commission and distributed among fund\n                  managers holding Kairo tokens proportional to the amount they hold and their risk profile. The commission is\n                  taken into account IF and ONLY IF the fund is profitable during the actual investment cycle.</p>\n                <h3 i18n=\"@@investorOnboardingFaqA3Title4\">Redemptions fee</h3>\n                <p i18n=\"@@investorOnboardingFaqA3Text4\">Redemptions incur no withdrawal fee.</p>\n              </div>\n            </div>\n            <div class=\"card-header border-bottom-0\" id=\"headingFour\">\n              <a href=\"\" class=\"text-secondary\" data-toggle=\"collapse\" data-target=\"#collapseFour\" aria-expanded=\"false\"\n                aria-controls=\"collapseFour\">\n                <div class=\"row align-items-center no-gutters\">\n                  <div class=\"col mr-auto\">\n                    <h3 class=\"card-text\" i18n=\"@@investorOnboardingFaqQ4\">\n                      How can I follow the activity of the fund?\n                    </h3>\n                  </div>\n                  <div class=\"col-auto\">\n                    <i class=\"fe fe-plus\"></i>\n                  </div>\n                </div>\n              </a>\n            </div>\n            <div id=\"collapseFour\" class=\"collapse\" aria-labelledby=\"headingFour\" data-parent=\"#accordion\">\n              <div class=\"card-body\" i18n=\"@@investorOnboardingFaqA4\">\n                You have access to a dashboard where you\n                can view your capital account.\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n    <div class=\"row justify-content-center\">\n      <div class=\"col-11 col-lg-6\">\n        <div class=\"card bg-green\">\n          <div class=\"card-body text-center\">\n            <h3 class=\"text-white\" i18n=\"@@faqGetHelptitle\">Can’t find what you’re looking for?</h3>\n            <a class=\"btn btn-white mr-3\" href=\"https://t.me/betokenfund\">Telegram</a>\n            <a class=\"btn btn-white mr-3\" href=\"https://betoken.gitbook.io/docs/\" i18n=\"@@faqCtaHelpCenter\">Help Center</a>\n          </div>\n        </div>\n        <ul class=\"nav justify-content-center my-4\">\n          <li class=\"nav-item\">\n            <a href=\"https://betoken.fund\" class=\"nav-link text-center text-secondary\" i18n=\"@@footerNavHome\">Home</a>\n          </li>\n          <li class=\"nav-item\">\n            <a href=\"https://medium.com/betoken\" class=\"nav-link text-center text-secondary\" i18n=\"@@footerNavBlog\">Blog</a>\n          </li>\n        </ul>\n        <p class=\"text-center text-secondary\"><ng-container i18n=\"@@contactUs\">Contact us at</ng-container>&nbsp;<a class=\"text-secondary\"\n            href=\"mailto:hello@betoken.fund?subject=Hey\">hello@betoken.fund</a></p>\n      </div>\n    </div>\n\n    <!-- Buy BTKS modal -->\n    <div class=\"modal fade fixed-right\" id=\"modalInvestorBuy\" tabindex=\"-1\" role=\"dialog\"\n      aria-labelledby=\"modalInvestorBuy\" aria-hidden=\"true\">\n      <div class=\"modal-dialog modal-dialog-vertical bg-white\" role=\"document\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header border-0\">\n            <div *ngIf=\"phase == 0\">\n              <!-- Confirm rules title -->\n              <h4 class=\"modal-title\" *ngIf=\"buyStep == 0\" i18n=\"@@modalTitleConfirmRules\">\n                Please confirm before continuing\n              </h4>\n              <!-- BTKS amount title -->\n              <h4 class=\"modal-title\" *ngIf=\"buyStep == 1\" i18n=\"@@modalTitleBtksAmount\">\n                How many Betoken shares do you want to buy?\n              </h4>\n              <!-- BTKS Confirm buy title -->\n              <h4 class=\"modal-title\" *ngIf=\"buyStep == 2\" i18n=\"@@modalTitleConfirmTx\">\n                Confirm transaction\n              </h4>\n              <!-- BTKS Processing buy title -->\n              <h4 class=\"modal-title\" *ngIf=\"buyStep == 3\" i18n=\"@@modalTitleProcessingTx\">\n                Processing transaction\n              </h4>\n              <!-- BTKS confirmed buy title -->\n              <h4 class=\"modal-title\" *ngIf=\"buyStep == 4\" i18n=\"@@modalTitleTxConfirmed\">\n                Transaction confirmed\n              </h4>\n            </div>\n            <!-- Wait until next intermission title -->\n            <h4 class=\"modal-title\" *ngIf=\"phase == 1\" i18n=\"@@modalTitleOpNotPermitted\">\n              Operation not permitted\n            </h4>\n            <!-- Error -->\n            <h4 class=\"modal-title\" *ngIf=\"buyStep == -1\" i18n=\"@@modalTitleError\">\n              That's an error\n            </h4>\n            <!-- Close -->\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" i18n-aria-label=\"@@modalAriaLabelClose\" aria-label=\"Close\">\n              <span aria-hidden=\"true\">×</span>\n            </button>\n          </div>\n          <!-- Manage phase, buying not allowed -->\n          <div class=\"modal-body\" *ngIf=\"phase == 1\">\n            <img class=\"mb-4 image-fluid w-75 mx-auto d-block\" src=\"assets/img/illustrations/undraw_queue_qt30.svg\"\n              alt=\"\">\n            <!-- Time left until operation allowed -->\n            <h6 class=\"header-pretitle text-secondary mb-2 text-center\" i18n=\"@@modalSubtitleTimeLeft\">\n              Time left until operation allowed\n            </h6>\n            <h4 class=\"header-title mb-4 text-center\">\n              {{days}}<ng-container i18n=\"@@timeLeftInDays\">d</ng-container>&nbsp;{{hours}}<ng-container i18n=\"@@timeLeftInHours\">h</ng-container>&nbsp;{{minutes}}<ng-container i18n=\"@@timeLeftInMinutes\">m</ng-container>&nbsp;{{seconds}}<ng-container i18n=\"@@timeLeftInSeconds\">s</ng-container>&nbsp;<a class=\"text-muted ml-2\"\n                href=\"https://betoken.gitbook.io/docs/betoken-investment-cycle\" i18n-title=\"@@modalTimeLeftUnitsTitleAttribute\" title=\"Learn more\" target=\"_blank\"><span\n                  class=\"fe fe-help-circle\"></span></a>\n            </h4>\n            <form\n              action=\"https://fund.us17.list-manage.com/subscribe/post?u=9c0647dcb587985ed6121cdf6&amp;id=150e0f091e\"\n              method=\"post\" id=\"mc-embedded-subscribe-form\" name=\"mc-embedded-subscribe-form\"\n              class=\"validate mb-4 text-center\" target=\"_blank\" novalidate>\n              <label class=\"text-secondary\" for=\"mce-EMAIL\" i18n=\"@@modalBeNotifiedByEmail\">Be notified by email 👇</label>\n              <div class=\"input-group input-group-lg\">\n                <input class=\"form-control\" type=\"email\" value=\"\" name=\"EMAIL\" id=\"mce-EMAIL\"\n                 i18n-placeholder=\"@@modalEmailPlaceholder\" placeholder=\"myemail@address.com\" required>\n                <div style=\"position: absolute; left: -5000px;\" aria-hidden=\"true\"><input type=\"text\"\n                    name=\"b_9c0647dcb587985ed6121cdf6_150e0f091e\" tabindex=\"-1\" value=\"\"></div>\n                <div class=\"input-group-append bg-black\">\n                  <button class=\"btn btn-dark btn-lg btn-block\" name=\"subscribe\" id=\"mc-embedded-subscribe\">\n                    <span class=\"fe fe-send\"></span>\n                  </button>\n                </div>\n              </div>\n            </form>\n            <div class=\"row text-center mb-4\">\n              <div class=\"col\">\n                <p class=\"text-secondary mb-2 text-center\" i18n=\"@@modalFollowUs\">Or follow us</p>\n                <a href=\"https://t.me/betokenfund\" class=\"btn btn-rounded-circle btn-white mr-3\" target=\"_blank\">\n                  <img class=\"mx-auto\" src=\"assets/img/icons/telegram.svg\" alt=\"telegram logo\" height=\"20\">\n                </a>\n                <a href=\"https://twitter.com/betokenfund\" class=\"btn btn-rounded-circle btn-white mr-3\" target=\"_blank\">\n                  <img class=\"mx-auto\" src=\"assets/img/icons/twitter.svg\" alt=\"twitter logo\" height=\"20\">\n                </a>\n                <a href=\"https://medium.com/betoken\" class=\"btn btn-rounded-circle btn-white mr-3\" target=\"_blank\">\n                  <img class=\"mx-auto\" src=\"assets/img/icons/medium.svg\" alt=\"medium logo\" height=\"20\">\n                </a>\n                <a href=\"https://github.com/Betoken\" class=\"btn btn-rounded-circle btn-white\" target=\"_blank\">\n                  <img class=\"mx-auto\" src=\"assets/img/icons/github.svg\" alt=\"medium logo\" height=\"20\">\n                </a>\n              </div>\n            </div>\n            <!-- Close button for buyStep 5 and buying not allowed page -->\n            <button type=\"submit\" class=\"btn btn-block btn-white mt-auto\" data-dismiss=\"modal\" i18n-aria-label=\"@@modalAriaLabelClose\" aria-label=\"Close\" i18n=\"@@modalCtaClose\">\n              Close\n            </button>\n          </div>\n\n          <!-- Intermission, buying allowed -->\n          <div *ngIf=\"phase == 0\">\n            <div class=\"card-header py-0 border-0\" style=\"min-height: 24px;\">\n              <div class=\"progress\" style=\"height: 8px;\">\n                <div [ngClass]=\"{'bg-success': buyStep >= 0, 'bg-secondary': buyStep !== 0}\" class=\"progress-bar\"\n                  role=\"progressbar\" style=\"width: 20%\" aria-valuenow=\"20\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n                <div [ngClass]=\"{'bg-success': buyStep >= 1, 'bg-secondary': buyStep !== 1}\"\n                  class=\"progress-bar border-left\" role=\"progressbar\" style=\"width: 20%\" aria-valuenow=\"20\"\n                  aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n                <div [ngClass]=\"{'bg-success': buyStep >= 2, 'bg-secondary': buyStep !== 2}\"\n                  class=\"progress-bar border-left\" role=\"progressbar\" style=\"width: 20%\" aria-valuenow=\"20\"\n                  aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n                <div [ngClass]=\"{'bg-success': buyStep >= 3, 'bg-secondary': buyStep !== 3}\"\n                  class=\"progress-bar border-left\" role=\"progressbar\" style=\"width: 20%\" aria-valuenow=\"20\"\n                  aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n                <div [ngClass]=\"{'bg-success': buyStep >= 4, 'bg-secondary': buyStep !== 4}\"\n                  class=\"progress-bar border-left\" role=\"progressbar\" style=\"width: 20%\" aria-valuenow=\"20\"\n                  aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n              </div>\n            </div>\n\n            <div class=\"modal-body\">\n              <!-- before starting confirm rules -->\n              <div *ngIf=\"buyStep == 0\">\n                <div class=\"custom-control custom-checkbox mb-4\">\n                  <input type=\"checkbox\" class=\"custom-control-input\" id=\"rule1\"\n                    (change)=\"checkboxes[0] = !checkboxes[0]\">\n                  <label class=\"custom-control-label small text-secondary\" for=\"rule1\" i18n=\"@@modalRule1\">You are NEITHER a citizen or\n                    resident of, NOR currently located in any of the following states or territories, NOR an entity\n                    formed under the laws of: Afghanistan, Cuba, Democratic People's Republic of Korea, Iran, Iraq,\n                    People’s Republic of China, Russian Federation, Somalia, Sudan, Syria, United Arab Emirates, United\n                    States of America, Venezuela, Yemen.</label>\n                </div>\n                <div class=\"custom-control custom-checkbox mb-4\">\n                  <input type=\"checkbox\" class=\"custom-control-input\" id=\"rule2\"\n                    (change)=\"checkboxes[1] = !checkboxes[1]\">\n                  <label class=\"custom-control-label small text-secondary\" for=\"rule2\"><ng-container i18n=\"@@modalRule2\">You have read and understood our</ng-container>&nbsp;<a href=\"#/disclaimer\" data-dismiss=\"modal\" i18n-aria-label=\"@@modalAriaLabelClose\" aria-label=\"Close\" i18n=\"@@modalDisclaimerCta\">disclaimer</a>.</label>\n                </div>\n                <div class=\"custom-control custom-checkbox mb-4\">\n                  <input type=\"checkbox\" class=\"custom-control-input\" id=\"rule3\"\n                    (change)=\"checkboxes[2] = !checkboxes[2]\">\n                  <label class=\"custom-control-label small text-danger\" for=\"rule3\" i18n=\"@@modalRule3\">💀 You understand that Betoken\n                    Protocol is in beta. Use at your own risk.</label>\n                </div>\n              </div>\n\n              <!-- Step 1: enter amount -->\n\n              <!-- Quantity of share to buy -->\n              <div *ngIf=\"buyStep == 1\">\n                <h6 class=\"header-pretitle\" i18n=\"@@price\">\n                  Price (DAI)\n                </h6>\n                <h4 class=\"mb-5\">\n                  {{sharesPrice.toFormat(4)}}\n                </h4>\n                <h6 class=\"header-pretitle text-secondary\" i18n=\"@@investorOnboardingBuyBtksModalIWantToBuyWith\">I want to buy Betoken shares with</h6>\n                <div class=\"row justify-content-center mb-4\">\n                  <div class=\"col\">\n                    <form>\n                      <div class=\"form-group row mb-2\">\n                        <div class=\"col\">\n                          <div class=\"input-group\">\n                            <input aria-describedby=\"Betoken Shares Amount to buy\"\n                              class=\"form-control form-control-lg pr-0\" type=\"number\" placeholder=\"0.0\"\n                              id=\"sharesAmountToBuy\"\n                              (input)=\"refreshBuyOrderDetails($event.target.value); continueEnabled = true;\">\n                            <div class=\"input-group-append\">\n                              <button class=\"btn btn-white\" name=\"button\" type=\"button\"\n                                (click)=\"maxBuyAmount()\" i18n=\"@@modalCtaMax\">Max</button>\n                            </div>\n                          </div>\n                        </div>\n                        <div class=\"col\">\n                          <select class=\"form-control form-control-lg\" id=\"buyTokenSelect\"\n                            (change)=\"selectBuyToken($event.target.value)\">\n                            <option *ngFor=\"let token of tokenData\">{{token.symbol}}</option>\n                          </select>\n                        </div>\n                      </div>\n                      <small class=\"form-text text-secondary d-inline-block mb-0\">{{selectedTokenBalance.toFormat(4)}}\n                        {{selectedTokenSymbol}}&nbsp;<ng-container i18n=\"@@modalBalanceAvailable\">available</ng-container></small>\n                    </form>\n                  </div>\n                </div>\n                <div class=\"table-responsive\">\n                  <table class=\"table mb-4\">\n                    <thead>\n                      <tr>\n                        <th class=\"px-0 bg-transparent border-top-0\">\n                          <span class=\"h6\" i18n=\"@@modalTitleOrderDetail\">Order Details</span>\n                        </th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      <tr>\n                        <td class=\"px-0 small align-baseline text-muted\" i18n=\"@@modalBtksToReceive\">\n                          Betoken shares to receive\n                        </td>\n                        <td class=\"px-0 text-right small align-baseline\">\n                          {{buySharesAmount.toFormat(4)}} BTKS\n                        </td>\n                      </tr>\n                      <tr>\n                        <td class=\"px-0 small align-baseline text-muted\" i18n=\"@@modalTotalCost\">\n                          Total cost\n                        </td>\n                        <td class=\"px-0 text-right h3 align-baseline\">\n                          {{buyTokenAmount.toFormat(6)}} {{selectedTokenSymbol}}\n                        </td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n\n\n              <!-- Step 2: confirm transaction -->\n              <!-- loader -->\n              <img class=\"image-fluid d-block mx-auto mb-4\" src=\"assets/img/animated-logo.svg\" alt=\"Betoken logo\"\n                style=\"width: 88px;\" *ngIf=\"buyStep == 2 || buyStep === 3\">\n              <p class=\"text-center text-muted mb-5\" *ngIf=\"buyStep == 2\" i18n=\"@@modalBodyTextStep1\">\n                Confirm the transaction in your wallet’s interface to save it on the Ethereum blockchain. It's fine to\n                stick with these defaults gas limit and price.\n              </p>\n\n              <!-- Step 3: transaction broadcasted -->\n              <!-- Processing transaction body -->\n              <div *ngIf=\"buyStep == 3\">\n                <p class=\"text-center text-muted mb-5\" i18n=\"@@modalBodyTextTxBroadcasted\">\n                  Your transaction is being saved on the Ethereum blockchain.\n                </p>\n                <hr>\n                <form>\n                  <div class=\"form-group\">\n                    <label for=\"exampleFormControlInput1\" i18n=\"@@modalBodyTxHash\">Transaction hash</label>\n                    <div class=\"input-group mb-3\">\n                      <input type=\"text\" class=\"form-control form-control-lg\" value=\"{{transactionId}}\"\n                       i18n-aria-label=\"@@investorOnboardingBuyBtksModalTxHashStep3AriaLabel\" aria-label=\"Transaction hash\">\n                      <div class=\"input-group-append\">\n                        <a class=\"btn btn-white h-100 d-flex align-items-center\"\n                          href=\"https://etherscan.io/tx/{{transactionId}}\" target=\"_blank\"><i\n                            class=\"fe fe-external-link\"></i></a>\n                      </div>\n                    </div>\n                  </div>\n                </form>\n              </div>\n\n              <!-- Step 4: transaction confirmed -->\n              <!-- Investment confirmed body -->\n              <div *ngIf=\"buyStep == 4\">\n                <p class=\"h1 text-center\">\n                  <i class=\"fe fe-check-circle text-success\"></i>\n                </p>\n                <p class=\"text-center text-muted mb-5\">\n                  <ng-container i18n=\"@@investorOnboardingBuyBtksModalTextStep4a\">You bought</ng-container>&nbsp;<span class=\"font-weight-bold text-secondary\">{{buySharesAmount.toFormat(4)}}</span>&nbsp;BTKS&nbsp;<ng-container i18n=\"@@investorOnboardingBuyBtksModalTextStep4b\">using</ng-container>&nbsp;<span class=\"font-weight-bold text-secondary\">{{buyTokenAmount.toFormat(4)}}</span>&nbsp;{{selectedTokenSymbol}}.\n                </p>\n                <a target=\"_blank\" i18n-href=\"@@investorOnboardingBuyBtksModalTweet\" href=\"https://twitter.com/intent/tweet?hashtags=Betoken%2C%20DeFi&related=betokenfund&text=I%27ve%20just%20connected%20my%20capital%20to%20Betoken%2C%20world%27s%20first%20crowd-powered%20cryptoassets%20management%20protocol!&url=https%3A%2F%2Fbetoken.fund&via=betokenfund\">\n                  <button class=\"btn btn-twitter btn-block\" type=\"button\" name=\"button\" i18n=\"@@investorOnboardingBuyBtksModalCtaTweet\">Tweet about it</button>\n                </a>\n                <hr>\n                <form>\n                  <div class=\"form-group\">\n                    <label for=\"exampleFormControlInput1\" i18n=\"@@modalBodyTxHash\">Transaction hash</label>\n                    <div class=\"input-group mb-3\">\n                      <input type=\"text\" class=\"form-control form-control-lg\" value=\"{{transactionId}}\"\n                       i18n-aria-label=\"@@investorOnboardingBuyBtksModalTxHashStep4AriaLabel\" aria-label=\"Transaction hash\">\n                      <div class=\"input-group-append\">\n                        <a class=\"btn btn-white h-100 d-flex align-items-center\"\n                          href=\"https://etherscan.io/tx/{{transactionId}}\" target=\"_blank\"><i\n                            class=\"fe fe-external-link\"></i></a>\n                      </div>\n                    </div>\n                  </div>\n                </form>\n              </div>\n\n              <!-- error -->\n              <div *ngIf=\"buyStep == -1\">\n                <p class=\"h1 text-center\">\n                  <i class=\"fe fe-alert-circle text-danger\"></i>\n                </p>\n                <p class=\"text-center text-muted mb-5\" i18n=\"@@modalErrorText\">\n                  The operation has resulted in an error. Please try again.\n                </p>\n                <p class=\"text-center text-muted mb-5\">\n                  <ng-container i18n=\"@@modalErrorMsg\">Error message:</ng-container>&nbsp;{{errorMsg}}\n                </p>\n              </div>\n\n              <!-- Continue button for buyStep 1 -->\n              <button type=\"submit\" class=\"btn btn-block btn-success mt-auto\" aria-label=\"BuyBTKS\" *ngIf=\"buyStep == 0\"\n                (click)=\"buyStep = agreementsChecked() ? 1 : 0\" [ngClass]=\"{'disabled': !agreementsChecked()}\" i18n=\"@@investorOnboardingBuyBtksModalCtaBuy\">\n                Buy Betoken shares\n              </button>\n              <!-- Continue button for buyStep 2 -->\n              <button type=\"submit\" class=\"btn btn-block btn-success mt-auto\" aria-label=\"Continue to Buy\"\n                *ngIf=\"buyStep == 1\" (click)=\"deposit();\" [disabled]=\"!continueEnabled\" i18n=\"@@modalCtaContinue\">\n                Continue\n              </button>\n              <!-- Try again button for error -->\n              <button type=\"submit\" class=\"btn btn-block btn-white mt-auto\" i18n=\"@@modalTryAgainAriaLabel\" aria-label=\"Try again\" *ngIf=\"buyStep == -1\"\n                (click)=\"resetModals()\" i18n=\"@@modalTryAgain\">\n                Try again\n              </button>\n              <!-- Close button for buyStep 4 -->\n              <a class=\"btn btn-block btn-success mt-auto\" href=\"#/investing-dashboard\" target=\"_blank\"\n                *ngIf=\"buyStep == 4\" i18n=\"@@investorOnboardingBuyBtksModalCtaGoToDashboard\">Investor Dashboard</a>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div><!-- / modal -->\n  </div>\n</div> <!-- / .main-content -->\n","import { Component, OnInit } from '@angular/core';\nimport { AppComponent } from '../app.component';\nimport { Router } from '@angular/router';\nimport { isUndefined } from 'util';\nimport BigNumber from 'bignumber.js';\n\nimport { } from 'jquery';\ndeclare var $: any;;\n\nimport {\n  user, timer, stats, tokens, investor_actions\n} from '../../betokenjs/helpers';\n\nimport { ApolloEnabled } from '../apollo';\nimport { Apollo } from 'apollo-angular';\nimport gql from 'graphql-tag';\n\n@Component({\n  selector: 'app-account',\n  templateUrl: './investoronboarding.component.html'\n})\nexport class InvestoronboardingComponent extends ApolloEnabled implements OnInit {\n  ZERO_ADDR = '0x0000000000000000000000000000000000000000';\n\n  tokenData: Array<Object>;\n  user_address: String;\n  checkboxes: Array<boolean>;\n  selectedTokenSymbol: String;\n  selectedTokenBalance: BigNumber;\n  transactionId: String;\n  sharesPrice: BigNumber;\n  buySharesAmount: BigNumber;\n  buyTokenAmount: BigNumber;\n  continueEnabled: Boolean;\n\n  buyStep: Number;\n  days: Number;\n  hours: Number;\n  minutes: Number;\n  seconds: Number;\n  phase: Number;\n\n  errorMsg: String;\n\n  constructor(private router: Router, private apollo: Apollo) {\n    super();\n    this.user_address = this.ZERO_ADDR;\n    this.buyStep = 0;\n    this.checkboxes = [false, false, false];\n    this.selectedTokenSymbol = '';\n    this.selectedTokenBalance = new BigNumber(0);\n    this.transactionId = '';\n    this.sharesPrice = new BigNumber(0);\n    this.buySharesAmount = new BigNumber(0);\n    this.buyTokenAmount = new BigNumber(0);\n    this.continueEnabled = false;\n\n    this.days = 0;\n    this.hours = 0;\n    this.minutes = 0;\n    this.seconds = 0;\n    this.phase = 0;\n\n    this.errorMsg = \"\";\n  }\n\n  ngOnInit() {\n    $('[data-toggle=\"tooltip\"]').tooltip();\n    $('#modalInvestorBuy').on('hidden.bs.modal', () => {\n      this.resetModals();\n    });\n    this.tokenData = tokens.token_data();\n    this.selectedTokenSymbol = this.tokenData[0]['symbol'];\n    this.refreshDisplay();\n    setInterval(() => this.updateTimer(), 1000);\n  }\n\n  refreshDisplay() {\n    this.user_address = user.address();\n    this.getTokenBalance(this.selectedTokenSymbol);\n\n    this.querySubscription = this.apollo\n      .watchQuery({\n        pollInterval: 300000,\n        fetchPolicy: 'cache-and-network',\n        query: gql`\n          {\n            fund(id: \"BetokenFund\") {\n              sharesPrice\n            }\n          }\n        `\n      })\n      .valueChanges.subscribe(({ data, loading }) => {\n        if (!loading) {\n          let fund = data['fund'];\n\n          this.sharesPrice = new BigNumber(fund.sharesPrice);\n        }\n      });\n  }\n\n  updateTimer() {\n    this.days = timer.day();\n    this.hours = timer.hour();\n    this.minutes = timer.minute();\n    this.seconds = timer.second();\n    this.phase = timer.phase();\n  }\n\n  resetModals() {\n    this.buyStep = 0;\n    this.selectedTokenSymbol = this.tokenData[0]['symbol'];\n    this.checkboxes = [false, false, false];\n    this.continueEnabled = false;\n    this.getTokenBalance(this.selectedTokenSymbol);\n  }\n\n  refreshBuyOrderDetails(val) {\n    this.buyTokenAmount = new BigNumber(val);\n    if (!this.buyTokenAmount.isNaN()) {\n      this.buySharesAmount = this.buyTokenAmount.times(this.assetSymbolToPrice(this.selectedTokenSymbol)).div(this.sharesPrice);\n    } else {\n      this.buyTokenAmount = new BigNumber(0);\n      this.buySharesAmount = new BigNumber(0);\n    }\n  }\n\n  maxBuyAmount() {\n    $('#sharesAmountToBuy').val(this.selectedTokenBalance.toString());\n    this.refreshBuyOrderDetails(this.selectedTokenBalance);\n    this.continueEnabled = true;\n  }\n\n  selectBuyToken(value) {\n    this.selectedTokenSymbol = value;\n    $('#sharesAmountToBuy').val('0');\n    this.refreshBuyOrderDetails(0);\n    this.getTokenBalance(this.selectedTokenSymbol);\n  }\n\n  async getTokenBalance(token) {\n    this.selectedTokenBalance = await user.token_balance(token);\n  }\n\n  deposit() {\n    this.buyStep = 2;\n    var payAmount = this.buyTokenAmount;\n    let pending = (txHash) => {\n      if (this.buyStep == 2) {\n        this.transactionId = txHash;\n        this.buyStep = 3;\n      }\n    };\n    let confirm = () => {\n      if (this.buyStep == 3) {\n        this.buyStep = 4;\n      }\n    };\n    let error = (e) => {\n      if (this.buyStep != 0) {\n        this.buyStep = -1;\n        this.errorMsg = e.toString();\n      }\n    }\n    switch (this.selectedTokenSymbol) {\n      case 'ETH':\n        investor_actions.depositETH(payAmount, pending, confirm, error);\n        break;\n      case 'DAI':\n        investor_actions.depositDAI(payAmount, pending, confirm, error);\n        break;\n      default:\n        investor_actions.depositToken(payAmount, this.selectedTokenSymbol, pending, confirm, error);\n        break;\n    }\n  }\n\n  assetSymbolToPrice(symbol) {\n    return tokens.asset_symbol_to_price(symbol);\n  }\n\n  getTokenName(token) {\n    let result = tokens.asset_symbol_to_name(token);\n    if (isUndefined(result)) {\n      return '';\n    }\n    return result;\n  }\n\n  checkRouterURL(route) {\n    return this.router.url === route;\n  }\n\n  agreementsChecked() {\n    for (var checked of this.checkboxes) {\n      if (!checked) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n","<!-- HEADER -->\n<div class=\"header bg-dark pb-5\">\n  <div class=\"container-fluid px-md-5\">\n\n    <!-- Body -->\n    <div class=\"header-body\">\n      <!-- Title -->\n      <h1 class=\"header-title text-white\" i18n=\"@@investorHeaderTitle\">\n        Your Stats\n      </h1>\n    </div>\n    <!-- Body -->\n    <div class=\"header-body\">\n      <div class=\"card-deck mb-5\">\n        <!-- Card -->\n        <div class=\"card\" data-toggle=\"tooltip\" data-html=\"true\" i18n-title=\"@@investorBtksBalanceAttrTitle\" title=\"The amount of Betoken Shares tokens (BTKS) you own.\">\n          <div class=\"card-body\">\n            <div class=\"row align-items-center\">\n              <div class=\"col\">\n\n                <!-- Title -->\n                <h6 class=\"card-title text-uppercase text-muted mb-2\" i18n=\"@@investorBtksBalance\">\n                  Betoken Shares Balance\n                </h6>\n\n                <!-- Heading -->\n                <span class=\"h2 mb-0\">\n                  {{sharesBalance.toFormat(4)}} BTKS\n                </span>\n\n              </div>\n              <div class=\"col-auto\">\n\n                <!-- Icon -->\n                <span class=\"h2 fe fe-disc text-muted mb-0\"></span>\n\n              </div>\n            </div> <!-- / .row -->\n\n          </div>\n        </div>\n        <!-- Card -->\n        <div class=\"card\" data-toggle=\"tooltip\" data-html=\"true\" i18n-title=\"@@investorBtksTotalValueDaiAttrTitle\" title=\"The value of your Betoken Shares, in DAI Stablecoin.\">\n          <div class=\"card-body\">\n            <div class=\"row align-items-center\">\n              <div class=\"col\">\n\n                <!-- Title -->\n                <h6 class=\"card-title text-uppercase text-muted mb-2\" i18n=\"@@investorBtksTotalValueDai\">\n                  Total value\n                </h6>\n\n                <!-- Heading -->\n                <span class=\"h2 mb-0\">\n                  {{investmentBalance.toFormat(4)}} DAI\n                </span>\n\n              </div>\n              <div class=\"col-auto\">\n\n                <!-- Icon -->\n                <span class=\"h2 fe fe-dollar-sign text-muted mb-0\"></span>\n\n              </div>\n            </div> <!-- / .row -->\n\n          </div>\n        </div>\n        <!-- Card -->\n        <div class=\"card\" data-toggle=\"tooltip\" data-html=\"true\" i18n-title=\"@@investorBtksPriceAttrTitle\" title=\"The price of 1 Betoken Share token.\">\n          <div class=\"card-body\">\n            <div class=\"row align-items-center\">\n              <div class=\"col\">\n\n                <!-- Title -->\n                <h6 class=\"card-title text-uppercase text-muted mb-2\" i18n=\"@@btksPriceTitle\">\n                  Betoken Shares Price\n                </h6>\n\n                <!-- Heading -->\n                <span class=\"h2 mb-0\">\n                  {{sharesPrice.toFormat(4)}} DAI\n                </span>\n\n              </div>\n              <div class=\"col-auto\">\n\n                <!-- Icon -->\n                <span class=\"h2 fe fe-dollar-sign text-muted mb-0\"></span>\n\n              </div>\n            </div> <!-- / .row -->\n\n          </div>\n        </div>\n      </div> <!-- / .row -->\n      <div class=\"row align-items-end\">\n        <div class=\"col\">\n          <!-- Title -->\n          <h1 class=\"header-title text-white\" i18n=\"@@investorBetokenHistoricalReturn\">\n            Betoken Historical Returns\n          </h1>\n        </div>\n      </div> <!-- / .row -->\n    </div> <!-- / .header-body -->\n\n    <!-- Footer -->\n    <div class=\"header-footer\">\n\n      <!-- Chart -->\n      <div class=\"chart\">\n        <canvas id=\"roi-chart\" class=\"chart-canvas\">\n        </canvas>\n      </div>\n\n    </div>\n\n  </div>\n</div> <!-- / .header -->\n\n<!-- CARDS -->\n<div class=\"container-fluid mt-n6 px-md-5\">\n\n  <div class=\"card-deck mb-5\">\n    <!-- Card -->\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <div class=\"row align-items-center\">\n          <div class=\"col\">\n\n            <!-- Title -->\n            <h6 class=\"card-title text-uppercase text-muted mb-2\" i18n=\"@@investorPriceChange\">\n              Price Change (Current Cycle)\n            </h6>\n\n            <!-- Heading -->\n            <span class=\"badge badge-xl\"\n              [ngClass]=\"{'badge-soft-success': currMoROI.gte(0), 'badge-soft-danger': currMoROI.lt(0)}\">\n              {{currMoROI.toFormat(4)}}%\n            </span>\n\n          </div>\n          <div class=\"col-auto\">\n\n            <!-- Icon -->\n            <span class=\"h2 fe fe-activity text-muted mb-0\"></span>\n\n          </div>\n        </div> <!-- / .row -->\n\n      </div>\n    </div>\n    <!-- Card -->\n    <div class=\"card\">\n      <div class=\"card-body\">\n        <div class=\"row align-items-center\">\n          <div class=\"col\">\n\n            <!-- Title -->\n            <h6 class=\"card-title text-uppercase text-muted mb-2\" i18n=\"@@investorPriceChangeSinceInception\">\n              Price Change (Since Inception)\n            </h6>\n\n            <!-- Heading -->\n            <span class=\"badge badge-xl\"\n              [ngClass]=\"{'badge-soft-success': avgMonthReturn.gte(0), 'badge-soft-danger': avgMonthReturn.lt(0)}\">\n              {{avgMonthReturn.toFormat(4)}}%\n            </span>\n\n          </div>\n          <div class=\"col-auto\">\n\n            <!-- Icon -->\n            <span class=\"h2 fe fe-activity text-muted mb-0\"></span>\n\n          </div>\n        </div> <!-- / .row -->\n\n      </div>\n    </div>\n    <!-- Card -->\n    <div class=\"card\" data-toggle=\"tooltip\" data-html=\"true\" i18n-title=\"@@investorMaxDrawdownAttrTitle\" title=\"A maximum drawdown (MDD) is the maximum observed loss from a peak to a trough of a portfolio, before a new peak is attained. Maximum drawdown is an indicator of downside risk over a specified time period.\">\n      <div class=\"card-body\">\n        <div class=\"row align-items-center\">\n          <div class=\"col\">\n\n            <!-- Title -->\n            <h6 class=\"card-title text-uppercase text-muted mb-2\" i18n=\"@@investorMaxDrawdown\">\n              Max Drawdown\n            </h6>\n\n            <!-- Heading -->\n            <span class=\"h2 mb-0\">\n              {{maxDrawdown.toFormat(4)}}%\n            </span>\n\n          </div>\n          <div class=\"col-auto\">\n\n            <!-- Icon -->\n            <span class=\"h2 fe fe-shield text-muted mb-0\"></span>\n\n          </div>\n        </div> <!-- / .row -->\n\n      </div>\n    </div>\n    <!-- Card -->\n    <div class=\"card\" data-toggle=\"tooltip\" data-html=\"true\" i18n-title=\"@@standardDeviationAttrTitle\" title=\"Standard deviation represents the volatility of an asset. The number shown here is the sample standard deviation of Betoken Shares' price since inception.\">\n      <div class=\"card-body\">\n        <div class=\"row align-items-center\">\n          <div class=\"col\">\n\n            <!-- Title -->\n            <h6 class=\"card-title text-uppercase text-muted mb-2\" i18n=\"@@standardDeviation\">\n              Standard Deviation\n            </h6>\n\n            <!-- Heading -->\n            <span class=\"h2 mb-0\">\n              {{standardDeviation}}%\n            </span>\n\n          </div>\n          <div class=\"col-auto\">\n\n            <!-- Icon -->\n            <span class=\"h2 fe fe-bar-chart-2 text-muted mb-0\"></span>\n\n          </div>\n        </div> <!-- / .row -->\n\n      </div>\n    </div>\n  </div> <!-- / .row -->\n</div>\n\n<!-- CARDS -->\n<div class=\"container-fluid pb-6 px-md-5\">\n  <div class=\"row\">\n    <div class=\"col-12\">\n      <!-- Card -->\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <div class=\"row align-items-center\">\n            <div class=\"col\">\n\n              <!-- Title -->\n              <h4 class=\"card-header-title\" i18n=\"@@investorDepositWithdrawHistoryTitle\">\n                Your Deposit & Withdraw History\n              </h4>\n\n            </div>\n            <div class=\"col-auto\">\n              <!-- Refresh -->\n              <button class=\"btn btn-sm btn-white\" type=\"button\" name=\"button\" (click) = \"refreshDisplay()\">\n                <i class=\"fe fe-refresh-cw align-middle\" *ngIf=\"isLoading == false\"></i>\n                <div class=\"spinner-grow spinner-grow-sm\" role=\"status\" *ngIf=\"isLoading\">\n                  <span class=\"sr-only\" i18n=\"@@refreshBtnLoad\">Loading...</span>\n                </div>\n              </button>\n            </div>\n          </div> <!-- / .row -->\n        </div>\n        <div class=\"table-responsive\">\n          <table class=\"table table-sm table-nowrap card-table\" id=\"historyTable\">\n            <thead>\n              <tr>\n                <th class=\"text-muted\" i18n=\"@@investorDepositWithdrawHistoryType\">\n                  Type\n                </th>\n                <th class=\"text-muted\" i18n=\"@@amount\">\n                  Amount (DAI)\n                </th>\n                <th class=\"text-muted\" i18n=\"@@timeStamp\">\n                  Timestamp\n                </th>\n                <th class=\"text-muted\" i18n=\"@@transaction\">\n                  Transaction\n                </th>\n              </tr>\n            </thead>\n            <tbody class=\"list\">\n              <tr *ngFor=\"let entry of depositWithdrawHistory\">\n                <td class=\"align-middle\">\n                  <span class=\"badge badge-soft-success\" *ngIf=\"entry.isDeposit\" i18n=\"@@investorDepositBadge\">\n                    Deposit\n                  </span>\n                  <span class=\"badge badge-soft-danger\" *ngIf=\"!entry.isDeposit\" i18n=\"@@investorWithdrawBadge\">\n                    Withdraw\n                  </span>\n                </td>\n                <td class=\"align-middle\">\n                  {{toBigNumber(entry.amountInDAI).toFormat(4)}}\n                </td>\n                <td class=\"align-middle\">\n                  {{toDateTimeString(entry.timestamp)}}\n                </td>\n                <td class=\"align-middle\">\n                  <div class=\"input-group-append\">\n                    <a class=\"btn btn-white h-100 d-flex align-items-center\"\n                      href=\"https://etherscan.io/tx/{{entry.txHash}}\" target=\"_blank\"><i\n                        class=\"fe fe-external-link\"></i></a>\n                  </div>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div> <!-- / .row -->\n  <a href=\"https://github.com/solidified-platform/audits/blob/master/Audit%20Report%20-%20%20Betoken%20%5B20.05.2019%5D.pdf\"\n    target=\"_blank\">\n    <div class=\"row align-items-center justify-content-center\">\n      <div class=\"col-auto mb-2 mb-lg-0\">\n        <div class=\"avatar avatar-sm\">\n          <img class=\"avatar-img rounded-circle bg-secondary\" src=\"assets/img/solidified-logo.png\"\n            alt=\"Solidified logo\">\n        </div>\n      </div>\n      <div class=\"col-auto\">\n        <p class=\"small text-secondary mb-0 text-center\" i18n=\"@@solidifiedAudit\">Betoken Smart Contracts are audited and secured by Solidified\n        </p>\n      </div>\n      <div class=\"col-auto\">\n        <i class=\"fe fe-arrow-right text-secondary\"></i>\n      </div>\n    </div>\n  </a>\n</div>\n\n<!-- Buy BTKS modal -->\n<div class=\"modal fade fixed-right\" id=\"modalInvestorBuy\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modalInvestorBuy\"\n  aria-hidden=\"true\">\n  <div class=\"modal-dialog modal-dialog-vertical\" role=\"document\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header border-0\">\n        <div *ngIf=\"phase == 0\">\n          <!-- Confirm rules title -->\n          <h4 class=\"modal-title\" *ngIf=\"buyStep == 0\" i18n=\"@@modalTitleConfirmRules\">\n            Please confirm before continuing\n          </h4>\n          <!-- BTKS amount title -->\n          <h4 class=\"modal-title\" *ngIf=\"buyStep == 1\" i18n=\"@@modalTitleBtksAmount\">\n            How many Betoken shares do you want to buy?\n          </h4>\n          <!-- BTKS Confirm buy title -->\n          <h4 class=\"modal-title\" *ngIf=\"buyStep == 2\" i18n=\"@@modalTitleConfirmTx\">\n            Confirm transaction\n          </h4>\n          <!-- BTKS Processing buy title -->\n          <h4 class=\"modal-title\" *ngIf=\"buyStep == 3\" i18n=\"@@modalTitleProcessingTx\">\n            Processing transaction\n          </h4>\n          <!-- BTKS confirmed buy title -->\n          <h4 class=\"modal-title\" *ngIf=\"buyStep == 4\" i18n=\"@@modalTitleTxConfirmed\">\n            Transaction confirmed\n          </h4>\n          <!-- Error -->\n          <h4 class=\"modal-title\" *ngIf=\"buyStep == -1\" i18n=\"@@modalTitleError\">\n            That's an error\n          </h4>\n        </div>\n        <!-- Wait until next intermission title -->\n        <h4 class=\"modal-title\" *ngIf=\"phase == 1\" i18n=\"@@modalTitleOpNotPermitted\">\n          Operation not permitted\n        </h4>\n        <!-- Close -->\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" i18n-aria-label=\"@@modalAriaLabelClose\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">×</span>\n        </button>\n      </div>\n\n      <!-- Manage phase, buying not allowed -->\n      <div class=\"modal-body\" *ngIf=\"phase == 1\">\n        <img class=\"mb-4 image-fluid w-75 mx-auto d-block\" src=\"assets/img/illustrations/undraw_queue_qt30.svg\" alt=\"\">\n        <!-- Time left until operation allowed -->\n        <h6 class=\"header-pretitle text-secondary mb-2 text-center\" i18n=\"@@modalSubtitleTimeLeft\">\n          Time left until operation allowed\n        </h6>\n        <h4 class=\"header-title mb-4 text-center\">\n          {{days}}<ng-container i18n=\"@@timeLeftInDays\">d</ng-container>&nbsp;{{hours}}<ng-container i18n=\"@@timeLeftInHours\">h</ng-container>&nbsp;{{minutes}}<ng-container i18n=\"@@timeLeftInMinutes\">m</ng-container>&nbsp;{{seconds}}<ng-container i18n=\"@@timeLeftInSeconds\">s</ng-container> <a class=\"text-muted ml-2\"\n            href=\"https://betoken.gitbook.io/docs/betoken-investment-cycle\" i18n-title=\"@@modalTimeLeftUnitsTitleAttribute\" title=\"Learn more\" target=\"_blank\"><span\n              class=\"fe fe-help-circle\"></span></a>\n        </h4>\n        <form action=\"https://fund.us17.list-manage.com/subscribe/post?u=9c0647dcb587985ed6121cdf6&amp;id=150e0f091e\"\n          method=\"post\" id=\"mc-embedded-subscribe-form\" name=\"mc-embedded-subscribe-form\"\n          class=\"validate mb-4 text-center\" target=\"_blank\" novalidate>\n          <label class=\"text-secondary\" for=\"mce-EMAIL\" i18n=\"@@modalBeNotifiedByEmail\">Be notified by email 👇.</label>\n          <div class=\"input-group input-group-lg\">\n            <input class=\"form-control\" type=\"email\" value=\"\" name=\"EMAIL\" id=\"mce-EMAIL\" i18n-placeholder=\"@@modalEmailPlaceholder\" placeholder=\"myemail@address.com\" required>\n            <div style=\"position: absolute; left: -5000px;\" aria-hidden=\"true\"><input type=\"text\"\n                name=\"b_9c0647dcb587985ed6121cdf6_150e0f091e\" tabindex=\"-1\" value=\"\"></div>\n            <div class=\"input-group-append bg-black\">\n              <button class=\"btn btn-dark btn-lg btn-block\" name=\"subscribe\" id=\"mc-embedded-subscribe\">\n                <span class=\"fe fe-send\"></span>\n              </button>\n            </div>\n          </div>\n        </form>\n        <div class=\"row text-center mb-4\">\n          <div class=\"col\">\n            <p class=\"text-secondary mb-2 text-center\" i18n=\"@@modalFollowUs\">Or follow us</p>\n            <a href=\"https://t.me/betokenfund\" class=\"btn btn-rounded-circle btn-white mr-3\" target=\"_blank\">\n              <img class=\"mx-auto\" src=\"assets/img/icons/telegram.svg\" alt=\"telegram logo\" height=\"20\">\n            </a>\n            <a href=\"https://twitter.com/betokenfund\" class=\"btn btn-rounded-circle btn-white mr-3\" target=\"_blank\">\n              <img class=\"mx-auto\" src=\"assets/img/icons/twitter.svg\" alt=\"twitter logo\" height=\"20\">\n            </a>\n            <a href=\"https://medium.com/betoken\" class=\"btn btn-rounded-circle btn-white mr-3\" target=\"_blank\">\n              <img class=\"mx-auto\" src=\"assets/img/icons/medium.svg\" alt=\"medium logo\" height=\"20\">\n            </a>\n            <a href=\"https://github.com/Betoken\" class=\"btn btn-rounded-circle btn-white\" target=\"_blank\">\n              <img class=\"mx-auto\" src=\"assets/img/icons/github.svg\" alt=\"medium logo\" height=\"20\">\n            </a>\n          </div>\n        </div>\n        <!-- Close button for buyStep 5 and buying not allowed page -->\n        <button type=\"submit\" class=\"btn btn-block btn-white mt-auto\" data-dismiss=\"modal\" i18n-aria-label=\"@@modalAriaLabelClose\" aria-label=\"Close\" i18n=\"@@modalCtaClose\">\n          Close\n        </button>\n      </div>\n\n      <!-- Intermission, buying allowed -->\n      <div class=\"card-header py-0 border-0\" style=\"min-height: 24px;\" *ngIf=\"phase == 0\">\n        <div class=\"progress\" style=\"height: 8px;\">\n          <div [ngClass]=\"{'bg-success': buyStep >= 0, 'bg-secondary': buyStep !== 0}\" class=\"progress-bar\"\n            role=\"progressbar\" style=\"width: 20%\" aria-valuenow=\"20\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n          <div [ngClass]=\"{'bg-success': buyStep >= 1, 'bg-secondary': buyStep !== 1}\" class=\"progress-bar border-left\"\n            role=\"progressbar\" style=\"width: 20%\" aria-valuenow=\"20\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n          <div [ngClass]=\"{'bg-success': buyStep >= 2, 'bg-secondary': buyStep !== 2}\" class=\"progress-bar border-left\"\n            role=\"progressbar\" style=\"width: 20%\" aria-valuenow=\"20\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n          <div [ngClass]=\"{'bg-success': buyStep >= 3, 'bg-secondary': buyStep !== 3}\" class=\"progress-bar border-left\"\n            role=\"progressbar\" style=\"width: 20%\" aria-valuenow=\"20\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n          <div [ngClass]=\"{'bg-success': buyStep >= 4, 'bg-secondary': buyStep !== 4}\" class=\"progress-bar border-left\"\n            role=\"progressbar\" style=\"width: 20%\" aria-valuenow=\"20\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n        </div>\n      </div>\n\n      <div class=\"modal-body\" *ngIf=\"phase == 0\">\n        <!-- before starting confirm rules -->\n        <div *ngIf=\"buyStep == 0\">\n          <div class=\"custom-control custom-checkbox mb-4\">\n            <input type=\"checkbox\" class=\"custom-control-input\" id=\"rule1\" (change)=\"checkboxes[0] = !checkboxes[0]\">\n            <label class=\"custom-control-label small text-secondary\" for=\"rule1\" i18n=\"@@modalRule1\">You are NEITHER a citizen or resident\n              of, NOR currently located in any of the following states or territories, NOR an entity formed under the\n              laws of: Afghanistan, Cuba, Democratic People's Republic of Korea, Iran, Iraq, People’s Republic of China,\n              Russian Federation, Somalia, Sudan, Syria, United Arab Emirates, United States of America, Venezuela,\n              Yemen.</label>\n          </div>\n          <div class=\"custom-control custom-checkbox mb-4\">\n            <input type=\"checkbox\" class=\"custom-control-input\" id=\"rule2\" (change)=\"checkboxes[1] = !checkboxes[1]\">\n            <label class=\"custom-control-label small text-secondary\" for=\"rule2\" i18n=\"@@modalRule2\">You have read and understood our\n              disclaimer below.</label>\n          </div>\n          <div class=\"custom-control custom-checkbox mb-4\">\n            <input type=\"checkbox\" class=\"custom-control-input\" id=\"rule3\" (change)=\"checkboxes[2] = !checkboxes[2]\">\n            <label class=\"custom-control-label small text-danger\" for=\"rule3\" i18n=\"@@modalRule3\">💀 You understand that Betoken Protocol is\n              in beta. Use at your own risk.</label>\n          </div>\n          <div class=\"card card-inactive mb-4\">\n            <div class=\"card-body\">\n              <h3 i18n=\"@@disclaimerTitle\">Disclaimer</h3>\n              <p class=\"text-muted\" i18n=\"@@disclaimertext1\">\n                Nothing herein constitutes an offer to sell, or the solicitation of an offer to buy, any securities or\n                tokens.\n              </p>\n              <p class=\"text-muted\" i18n=\"@@disclaimertext2\">\n                Betoken enables capital connection and managing using smart contracts which are open source. Betoken\n                does not take custody of tokens and is only a collaborative hub for investors and managers. Betoken is\n                not a licensed bank, broker-dealer, investment advisor or an exchange. Betoken uses partner protocols\n                (Kyber, Compound, bZx, Maker DAO) to power its own ecosystem.\n              </p>\n            </div>\n          </div>\n        </div>\n\n        <!-- Step 1: enter amount -->\n\n        <!-- Quantity of share to buy -->\n        <div *ngIf=\"buyStep == 1\">\n          <h6 class=\"header-pretitle\" i18n=\"@@price\">\n            Price (DAI)\n          </h6>\n          <h4 class=\"mb-5\">\n            {{sharesPrice.toFormat(4)}}\n          </h4>\n          <h6 class=\"header-pretitle text-secondary\" i18n=\"@@investorBuyBtksModalIWantToBuyWith\">I want to buy Betoken shares with</h6>\n          <div class=\"row justify-content-center mb-4\">\n            <div class=\"col\">\n              <div class=\"row align-items-center\">\n                <div class=\"col\">\n                  <form>\n                    <div class=\"form-group row mb-2\">\n                      <div class=\"col\">\n                        <div class=\"input-group\">\n                          <input aria-describedby=\"Betoken Shares Amount to buy\"\n                            class=\"form-control form-control-lg pr-0\" type=\"number\" placeholder=\"0.0\"\n                            id=\"sharesAmountToBuy\"\n                            (input)=\"refreshBuyOrderDetails($event.target.value); continueEnabled = true\">\n                          <div class=\"input-group-append\">\n                            <button class=\"btn btn-white\" name=\"button\" type=\"button\"\n                              (click)=\"maxBuyAmount()\" i18n=\"@@modalCtaMax\">Max</button>\n                          </div>\n                        </div>\n                      </div>\n                      <div class=\"col\">\n                        <select class=\"form-control form-control-lg\" id=\"buyTokenSelect\"\n                          (change)=\"selectBuyToken($event.target.value)\">\n                          <option *ngFor=\"let token of tokenData\">{{token.symbol}}</option>\n                        </select>\n                      </div>\n                    </div>\n                    <small class=\"form-text text-secondary d-inline-block mb-0\">{{selectedTokenBalance.toFormat(4)}}\n                      {{selectedTokenSymbol}}&nbsp;<ng-container i18n=\"@@modalBalanceAvailable\">available</ng-container></small>\n                  </form>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"table-responsive\">\n            <table class=\"table mb-4\">\n              <thead>\n                <tr>\n                  <th class=\"px-0 bg-transparent border-top-0\">\n                    <span class=\"h6\" i18n=\"@@modalTitleOrderDetail\">Order Details</span>\n                  </th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr>\n                  <td class=\"px-0 small align-baseline text-muted\" i18n=\"@@modalBtksToReceive\">\n                    Betoken shares to receive\n                  </td>\n                  <td class=\"px-0 text-right small align-baseline\">\n                    {{buySharesAmount.toFormat(4)}} BTKS\n                  </td>\n                </tr>\n                <tr>\n                  <td class=\"px-0 small align-baseline text-muted\" i18n=\"@@modalTotalCost\">\n                    Total cost\n                  </td>\n                  <td class=\"px-0 text-right h3 align-baseline\">\n                    {{buyTokenAmount.toFormat(6)}} {{selectedTokenSymbol}}\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n\n        <!-- Step 2: confirm transaction -->\n        <!-- loader -->\n        <img class=\"image-fluid d-block mx-auto mb-4\" src=\"assets/img/animated-logo.svg\" alt=\"Betoken logo\"\n          style=\"width: 88px;\" *ngIf=\"buyStep == 3 || buyStep === 2\">\n        <p class=\"text-center text-muted mb-5\" *ngIf=\"buyStep == 2\" i18n=\"@@modalBodyTextStep1\">\n          Confirm the transaction in your wallet’s interface to save it on the Ethereum blockchain. It's fine to stick\n          with these defaults gas limit and price.\n        </p>\n\n        <!-- Step 3: transaction broadcasted -->\n        <!-- Processing transaction body -->\n        <div *ngIf=\"buyStep == 3\">\n          <p class=\"text-center text-muted mb-5\" i18n=\"@@modalBodyTextTxBroadcasted\">\n            Your transaction is being saved on the Ethereum blockchain.\n          </p>\n          <hr>\n          <form>\n            <div class=\"form-group\">\n              <label for=\"exampleFormControlInput1\" i18n=\"@@modalBodyTxHash\">Transaction hash</label>\n              <div class=\"input-group mb-3\">\n                <input type=\"text\" class=\"form-control form-control-lg\" value=\"{{transactionId}}\"\n                  aria-label=\"Transaction hash\" aria-describedby=\"\">\n                <div class=\"input-group-append\">\n                  <a class=\"btn btn-white h-100 d-flex align-items-center\"\n                    href=\"https://etherscan.io/tx/{{transactionId}}\" target=\"_blank\"><i\n                      class=\"fe fe-external-link\"></i></a>\n                </div>\n              </div>\n            </div>\n          </form>\n        </div>\n\n        <!-- Step 4: transaction confirmed -->\n        <!-- Investment confirmed body -->\n        <div *ngIf=\"buyStep == 4\">\n          <p class=\"h1 text-center\">\n            <i class=\"fe fe-check-circle text-success\"></i>\n          </p>\n          <p class=\"text-center text-muted mb-5\">\n            <ng-container i18n=\"@@investorBuyBtksModalTextStep4a\">You bought</ng-container> <span class=\"font-weight-bold text-secondary\">{{buySharesAmount.toFormat(4)}}</span>&nbsp;BTKS&nbsp;<ng-container i18n=\"@@investorBuyBtksModalTextStep4b\">using</ng-container>\n            <span class=\"font-weight-bold text-secondary\">{{buyTokenAmount.toFormat(4)}}</span>&nbsp;{{selectedTokenSymbol}}.\n          </p>\n          <a class=\"btn btn-twitter btn-block\" target=\"__blank\"\n            href=\"https://twitter.com/intent/tweet?hashtags=Betoken%2C%20DeFi&related=betokenfund&text=I%27ve%20just%20connected%20my%20capital%20to%20Betoken%2C%20world%27s%20first%20crowd-powered%20cryptoassets%20management%20protocol!&url=https%3A%2F%2Fbetoken.fund&via=betokenfund\" i18n=\"@@investorBuyBtksModalTweet\">Tweet\n            about it</a>\n          <hr>\n          <form>\n            <div class=\"form-group\">\n              <label for=\"exampleFormControlInput1\" i18n=\"@@modalBodyTxHash\">Transaction hash</label>\n              <div class=\"input-group mb-3\">\n                <input type=\"text\" class=\"form-control form-control-lg\" value=\"{{transactionId}}\"\n                  aria-label=\"Transaction hash\" aria-describedby=\"\">\n                <div class=\"input-group-append\">\n                  <a class=\"btn btn-white h-100 d-flex align-items-center\" href=\"https://etherscan.io/tx/{{transactionId}}\" target=\"_blank\"><i class=\"fe fe-external-link\"></i></a>\n                </div>\n              </div>\n            </div>\n          </form>\n        </div>\n\n        <!-- error -->\n        <div *ngIf=\"buyStep == -1\">\n          <p class=\"h1 text-center\">\n            <i class=\"fe fe-alert-circle text-danger\"></i>\n          </p>\n          <p class=\"text-center text-muted mb-5\" i18n=\"@@modalErrorText\">\n            The operation has resulted in an error. Please try again.\n          </p>\n          <p class=\"text-center text-muted mb-5\">\n            <ng-container i18n=\"@@modalErrorMsg\">Error message:</ng-container>&nbsp;{{errorMsg}}\n          </p>\n        </div>\n\n\n        <!-- Continue button for buyStep 1 -->\n        <button type=\"submit\" class=\"btn btn-block btn-success mt-auto\" i18n-aria-label=\"@@investorBuyBtksModalCtaBuyAriaLabel\" aria-label=\"BuyBTKS\" *ngIf=\"buyStep == 0\"\n          (click)=\"buyStep = agreementsChecked() ? 1 : 0\" [ngClass]=\"{'disabled': !agreementsChecked()}\" i18n=\"@@investorBuyBtksModalCtaBuy\">\n          Buy Betoken shares\n        </button>\n        <!-- Continue button for buyStep 2 -->\n        <button type=\"submit\" class=\"btn btn-block btn-success mt-auto\" i18n-aria-label=\"@@modalCtaContinueAriaLabel\" aria-label=\"Continue to Buy\"\n          *ngIf=\"buyStep == 1\" (click)=\"deposit();\" [disabled]=\"!continueEnabled\" i18n=\"@@modalCtaContinue\">\n          Continue\n        </button>\n        <!-- Close button for buyStep 4 -->\n        <button type=\"submit\" class=\"btn btn-block btn-white mt-auto\" data-dismiss=\"modal\" i18n-aria-label=\"@@modalAriaLabelClose\" aria-label=\"Close\"\n          *ngIf=\"buyStep == 4\" i18n=\"@@modalCtaClose\">\n          Close\n        </button>\n        <!-- Try again button for error -->\n        <button type=\"submit\" class=\"btn btn-block btn-white mt-auto\" i18n=\"@@modalTryAgainAriaLabel\" aria-label=\"Try again\" *ngIf=\"buyStep == -1\"\n          (click)=\"resetModals()\" i18n=\"@@modalTryAgain\">\n          Try again\n        </button>\n      </div>\n    </div>\n  </div>\n</div><!-- / modal -->\n\n<!-- Sell BTKS modal -->\n<div class=\"modal fade fixed-right\" id=\"modalInvestorSell\" tabindex=\"-1\" role=\"dialog\"\n  aria-labelledby=\"modalInvestorSell\" aria-hidden=\"true\">\n  <div class=\"modal-dialog modal-dialog-vertical\" role=\"document\">\n    <div class=\"modal-content\" data-toggle=\"lists\" data-lists-values=\"[&quot;name&quot;]\">\n      <div class=\"modal-header border-0\">\n        <div *ngIf=\"phase == 0\">\n          <!-- BTKS amount title -->\n          <h4 class=\"modal-title\" *ngIf=\"sellStep == 0\" i18n=\"@@investorSellBtksModalTitleStep0\">\n            How many Betoken shares do you want to sell?\n          </h4>\n          <!-- BTKS Confirm Sell title -->\n          <h4 class=\"modal-title\" *ngIf=\"sellStep == 1\" i18n=\"@@modalTitleConfirmTx\">\n            Confirm transaction\n          </h4>\n          <!-- BTKS Processing Sell title -->\n          <h4 class=\"modal-title\" *ngIf=\"sellStep == 2\" i18n=\"@@modalTitleProcessingTx\">\n            Processing transaction\n          </h4>\n          <!-- BTKS confirmed Sell title -->\n          <h4 class=\"modal-title\" *ngIf=\"sellStep == 3\" i18n=\"@@modalTitleTxConfirmed\">\n            Transaction Confirmed\n          </h4>\n          <!-- Error -->\n          <h4 class=\"modal-title\" *ngIf=\"sellStep == -1\" i18n=\"@@modalTitleError\">\n            That's an error\n          </h4>\n        </div>\n        <div *ngIf=\"phase == 1\">\n          <h4 class=\"modal-title\" i18n=\"@@investorSellBtksModalTitleOperationNonPermitted\">\n            Operation not permitted\n          </h4>\n        </div>\n        <!-- Close -->\n        <button type=\"button\" class=\"close\" data-dismiss=\"modal\" i18n-aria-label=\"@@modalAriaLabelClose\" aria-label=\"Close\">\n          <span aria-hidden=\"true\">×</span>\n        </button>\n      </div>\n\n      <!--Intermission phase, selling allowed-->\n      <div class=\"card-header py-0 border-0\" style=\"min-height: 24px;\" *ngIf=\"phase == 0\">\n        <div class=\"progress\" style=\"height: 8px;\">\n          <div [ngClass]=\"{'bg-success': sellStep >= 0, 'bg-secondary': sellStep !== 0}\" class=\"progress-bar\"\n            role=\"progressbar\" style=\"width: 25%\" aria-valuenow=\"20\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n          <div [ngClass]=\"{'bg-success': sellStep >= 1, 'bg-secondary': sellStep !== 1}\"\n            class=\"progress-bar border-left\" role=\"progressbar\" style=\"width: 25%\" aria-valuenow=\"20\" aria-valuemin=\"0\"\n            aria-valuemax=\"100\"></div>\n          <div [ngClass]=\"{'bg-success': sellStep >= 2, 'bg-secondary': sellStep !== 2}\"\n            class=\"progress-bar border-left\" role=\"progressbar\" style=\"width: 25%\" aria-valuenow=\"20\" aria-valuemin=\"0\"\n            aria-valuemax=\"100\"></div>\n          <div [ngClass]=\"{'bg-success': sellStep >= 3, 'bg-secondary': sellStep !== 3}\"\n            class=\"progress-bar border-left\" role=\"progressbar\" style=\"width: 25%\" aria-valuenow=\"20\" aria-valuemin=\"0\"\n            aria-valuemax=\"100\"></div>\n        </div>\n      </div>\n      <div class=\"modal-body\" *ngIf=\"phase == 0\">\n        <!-- Step 0: enter amount of shares to sell -->\n        <div *ngIf=\"sellStep == 0\">\n          <h6 class=\"header-pretitle\" i18n=\"@@price\">\n            Price (DAI)\n          </h6>\n          <h4 class=\"mb-5\">\n            {{sharesPrice.toFormat(4)}}\n          </h4>\n\n          <h6 class=\"header-pretitle text-secondary\" i18n=\"@@investorSellBtksModalIWantToSell\">I want to sell</h6>\n\n          <div class=\"row justify-content-center mb-4\">\n            <div class=\"col\">\n              <!--Form for entering the sell amount-->\n              <form>\n                <div class=\"input-group mb-2\">\n                  <input type=\"number\" min=\"0.0\" class=\"form-control form-control-lg border-right-0 pr-0\"\n                    aria-describedby=\"Betoken Shares Amount to sell\" placeholder=\"0.0\" id=\"sharesAmountToSell\"\n                    (input)=\"refreshSellOrderDetails($event.target.value)\">\n                  <div class=\"input-group-append\">\n                    <span class=\"input-group-text border-left-0 border-right-0\" id=\"maxSellPercentUnit\">BTKS</span>\n                    <button class=\"btn btn-white\" name=\"button\" type=\"button\" (click)=\"maxSellAmount()\" i18n=\"@@modalCtaMax\">Max</button>\n                  </div>\n                </div>\n                <small class=\"form-text text-secondary d-inline-block mb-0\">{{sharesBalance.toFormat(4)}}&nbsp;BTKS&nbsp;<ng-container i18n=\"@@modalBalanceAvailable\">available</ng-container></small>\n              </form>\n            </div>\n          </div>\n\n          <h6 class=\"header-pretitle text-secondary\" i18n=\"@@investorSellBtksModalIWantToReceive\">I want to receive</h6>\n\n          <div class=\"form-group\">\n            <select class=\"form-control\" id=\"sellTokenSelect\" (change)=\"selectSellToken($event.target.selectedIndex)\">\n              <option *ngFor=\"let token of tokenData\">\n                {{token.name}} ({{token.symbol}})\n              </option>\n            </select>\n          </div>\n\n          <div class=\"table-responsive\">\n            <table class=\"table mb-4\">\n              <thead>\n                <tr>\n                  <th class=\"px-0 bg-transparent border-top-0\">\n                    <span class=\"h6\" i18n=\"@@modalTitleOrderDetail\">Order Details</span>\n                  </th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr>\n                  <td class=\"px-0 small align-baseline text-muted\" i18n=\"@@investorSellBtksModalSellBtksFor\">\n                    Sell Betoken shares for\n                  </td>\n                  <td class=\"px-0 text-right h3 align-baseline\">\n                    {{sellTokenAmount.toFormat(6)}} {{selectedTokenSymbol}}\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        <!-- Step 1: confirm transaction -->\n        <!-- loader -->\n        <img class=\"image-fluid d-block mx-auto mb-4\" src=\"assets/img/animated-logo.svg\" alt=\"Betoken logo\"\n          style=\"width: 88px;\" *ngIf=\"sellStep == 1 || sellStep === 2\">\n        <p class=\"text-center text-muted mb-5\" *ngIf=\"sellStep == 1\" i18n=\"@@modalBodyTextStep1\">\n          Confirm the transaction in your wallet’s interface to save it on the Ethereum blockchain. It's fine to stick\n          with these defaults gas limit and price.\n        </p>\n\n        <!-- Step 2: transaction broadcasted -->\n        <!-- Processing transaction body -->\n        <div *ngIf=\"sellStep == 2\">\n          <p class=\"text-center text-muted mb-5\" i18n=\"@@modalBodyTextTxBroadcasted\">\n            Your transaction is being saved on the Ethereum blockchain.\n          </p>\n          <hr>\n          <form>\n            <div class=\"form-group\">\n              <label for=\"exampleFormControlInput1\" i18n=\"@@modalBodyTxHash\">Transaction hash</label>\n              <div class=\"input-group mb-3\">\n                <input type=\"text\" class=\"form-control form-control-lg\" value=\"{{transactionId}}\"  i18n-aria-label=\"@@investorSellBtksModalTxHashStep2AriaLabel\" aria-label=\"Transaction hash\">\n                <div class=\"input-group-append\">\n                  <a class=\"btn btn-white h-100 d-flex align-items-center\"\n                    href=\"https://etherscan.io/tx/{{transactionId}}\" target=\"_blank\"><i\n                      class=\"fe fe-external-link\"></i></a>\n                </div>\n              </div>\n            </div>\n          </form>\n        </div>\n\n        <!-- Step 3: transaction confirmed -->\n        <!-- Sell order confirmed body -->\n        <div *ngIf=\"sellStep == 3\">\n          <p class=\"h1 text-center\">\n            <i class=\"fe fe-check-circle text-success\"></i>\n          </p>\n          <p class=\"text-center text-muted mb-5\">\n            <ng-container i18n=\"@@investorSellBtksModalTextStep3a\">You sold</ng-container>&nbsp;<span class=\"font-weight-bold text-secondary\">{{sellSharesAmount.toFormat(6)}}</span>&nbsp;BTKS&nbsp;<ng-container i18n=\"@@investorSellBtksModalTextStep3b\">for</ng-container>&nbsp;<span class=\"font-weight-bold text-secondary\">{{sellTokenAmount.toFormat(6)}}</span>&nbsp;{{selectedTokenSymbol}}.\n          </p>\n          <hr>\n          <form>\n            <div class=\"form-group\">\n              <label for=\"exampleFormControlInput1\" i18n=\"@@modalBodyTxHash\">Transaction hash</label>\n              <div class=\"input-group mb-3\">\n                <input type=\"text\" class=\"form-control form-control-lg\" value=\"{{transactionId}}\"\n                  aria-label=\"Transaction hash\" i18-aria-label>\n                <div class=\"input-group-append\">\n                  <a class=\"btn btn-white h-100 d-flex align-items-center\"\n                    href=\"https://etherscan.io/tx/{{transactionId}}\" target=\"_blank\"><i\n                      class=\"fe fe-external-link\"></i></a>\n                </div>\n              </div>\n            </div>\n          </form>\n        </div>\n\n        <!-- error -->\n        <div *ngIf=\"sellStep == -1\">\n          <p class=\"h1 text-center\">\n            <i class=\"fe fe-alert-circle text-danger\"></i>\n          </p>\n          <p class=\"text-center text-muted mb-5\" i18n=\"@@modalErrorText\">\n            The operation has resulted in an error. Please try again.\n          </p>\n          <p class=\"text-center text-muted mb-5\">\n            <ng-container i18n=\"@@modalErrorMsg\">Error message:</ng-container>&nbsp;{{errorMsg}}\n          </p>\n        </div>\n\n        <!-- Continue button for step 0 -->\n        <button type=\"submit\" class=\"btn btn-block btn-success mt-auto\" aria-label=\"Continue to Sell\"\n          *ngIf=\"sellStep == 0\" (click)=\"sell()\" i18n=\"@@modalCtaContinue\">\n          Continue\n        </button>\n\n        <!-- Close button for step 3 -->\n        <button type=\"submit\" class=\"btn btn-block btn-white mt-auto\" data-dismiss=\"modal\" i18n-aria-label=\"@@modalAriaLabelClose\" aria-label=\"Close\"\n          *ngIf=\"sellStep == 3\" i18n=\"@@modalCtaClose\">\n          Close\n        </button>\n\n        <!-- Try again button for error -->\n        <button type=\"submit\" class=\"btn btn-block btn-white mt-auto\" i18n=\"@@modalTryAgainAriaLabel\" aria-label=\"Try again\"\n          *ngIf=\"sellStep == -1\" (click)=\"resetModals()\" i18n=\"@@modalTryAgain\">\n          Try again\n        </button>\n      </div>\n\n\n      <!--Manage phase, selling not allowed-->\n      <div class=\"modal-body\" *ngIf=\"phase == 1\">\n        <img class=\"mb-4 image-fluid w-75 mx-auto d-block\" src=\"assets/img/illustrations/undraw_queue_qt30.svg\" alt=\"\">\n        <!-- Time left until next intermission phase -->\n        <h6 class=\"header-pretitle text-secondary mb-2 text-center\" i18n=\"@@modalSubtitleTimeLeft\">\n          Time left until operation allowed\n        </h6>\n        <h4 class=\"header-title mb-4 text-center\">\n          {{days}}<ng-container i18n=\"@@timeLeftInDays\">d</ng-container>&nbsp;{{hours}}<ng-container i18n=\"@@timeLeftInHours\">h</ng-container>&nbsp;{{minutes}}<ng-container i18n=\"@@timeLeftInMinutes\">m</ng-container>&nbsp;{{seconds}}<ng-container i18n=\"@@timeLeftInSeconds\">s</ng-container> <a class=\"text-muted ml-2\"\n            href=\"https://betoken.gitbook.io/docs/betoken-investment-cycle\" i18n-title=\"@@modalTimeLeftUnitsTitleAttribute\" title=\"Learn more\" target=\"_blank\"><span\n              class=\"fe fe-help-circle\"></span></a>\n        </h4>\n        <form action=\"https://fund.us17.list-manage.com/subscribe/post?u=9c0647dcb587985ed6121cdf6&amp;id=150e0f091e\"\n          method=\"post\" id=\"mc-embedded-subscribe-form\" name=\"mc-embedded-subscribe-form\"\n          class=\"validate mb-4 text-center\" target=\"_blank\" novalidate>\n          <label class=\"text-secondary\" for=\"mce-EMAIL\" i18n=\"@@modalBeNotifiedByEmail\">Be notified by email 👇.</label>\n          <div class=\"input-group input-group-lg\">\n            <input class=\"form-control\" type=\"email\" value=\"\" name=\"EMAIL\" id=\"mce-EMAIL\" i18n-placeholder=\"@@investorSellBtksModalEmailNotificationPlaceholder\" placeholder=\"myemail@address.com\" required>\n            <div style=\"position: absolute; left: -5000px;\" aria-hidden=\"true\"><input type=\"text\"\n                name=\"b_9c0647dcb587985ed6121cdf6_150e0f091e\" tabindex=\"-1\" value=\"\"></div>\n            <div class=\"input-group-append bg-black\">\n              <button class=\"btn btn-dark btn-lg btn-block\" name=\"subscribe\" id=\"mc-embedded-subscribe\">\n                <span class=\"fe fe-send\"></span>\n              </button>\n            </div>\n          </div>\n        </form>\n        <div class=\"row text-center mb-4\">\n          <div class=\"col\">\n            <p class=\"text-secondary mb-2 text-center\" i18n=\"@@modalFollowUs\">Or follow us</p>\n            <a href=\"https://t.me/betokenfund\" class=\"btn btn-rounded-circle btn-white mr-3\" target=\"_blank\">\n              <img class=\"mx-auto\" src=\"assets/img/icons/telegram.svg\" alt=\"telegram logo\" height=\"20\">\n            </a>\n            <a href=\"https://twitter.com/betokenfund\" class=\"btn btn-rounded-circle btn-white mr-3\" target=\"_blank\">\n              <img class=\"mx-auto\" src=\"assets/img/icons/twitter.svg\" alt=\"twitter logo\" height=\"20\">\n            </a>\n            <a href=\"https://medium.com/betoken\" class=\"btn btn-rounded-circle btn-white mr-3\" target=\"_blank\">\n              <img class=\"mx-auto\" src=\"assets/img/icons/medium.svg\" alt=\"medium logo\" height=\"20\">\n            </a>\n            <a href=\"https://github.com/Betoken\" class=\"btn btn-rounded-circle btn-white\" target=\"_blank\">\n              <img class=\"mx-auto\" src=\"assets/img/icons/github.svg\" alt=\"medium logo\" height=\"20\">\n            </a>\n          </div>\n        </div>\n      </div>\n\n    </div>\n  </div>\n</div><!-- / modal -->\n","import { Component, OnInit } from '@angular/core';\nimport BigNumber from 'bignumber.js';\nimport { isUndefined, isNull } from 'util';\nimport { Chart } from 'chart.js';\n\ndeclare var $: any;;\n\nimport {\n  user, timer, tokens, investor_actions\n} from '../../betokenjs/helpers';\n\nimport { ApolloEnabled } from '../apollo';\nimport { Apollo } from 'apollo-angular';\nimport gql from 'graphql-tag';\n\n@Component({\n  selector: 'app-investor',\n  templateUrl: './investor.component.html'\n})\nexport class InvestorComponent extends ApolloEnabled implements OnInit {\n  sharesPrice: BigNumber;\n  avgMonthReturn: BigNumber;\n  currMoROI: BigNumber;\n  AUM: BigNumber;\n  maxDrawdown: BigNumber;\n  standardDeviation: BigNumber;\n  tokenData: Array<Object>;\n\n  sharesBalance: BigNumber;\n  investmentBalance: BigNumber;\n\n  buySharesAmount: BigNumber;\n  buyTokenAmount: BigNumber;\n  sellSharesAmount: BigNumber;\n  sellTokenAmount: BigNumber;\n\n  hasDrawnChart: boolean;\n  performanceChart: any;\n  sharesPriceHistory: any;\n  btcPriceHistory: any;\n  ethPriceHistory: any;\n\n  buyStep: Number;\n  sellStep: Number;\n  days: Number;\n  hours: Number;\n  minutes: Number;\n  seconds: Number;\n  phase: Number;\n\n  checkboxes: Array<boolean>;\n  selectedTokenSymbol: String;\n  selectedTokenBalance: BigNumber;\n  transactionId: String;\n  continueEnabled: Boolean;\n\n  depositWithdrawHistory: Array<Object>;\n\n  errorMsg: String;\n\n  isLoading: Boolean;\n\n  constructor(private apollo: Apollo) {\n    super();\n\n    this.sharesPrice = new BigNumber(0);\n    this.avgMonthReturn = new BigNumber(0);\n    this.currMoROI = new BigNumber(0);\n    this.AUM = new BigNumber(0);\n    this.maxDrawdown = new BigNumber(0);\n    this.standardDeviation = new BigNumber(0);\n    this.tokenData = new Array<Object>();\n\n    this.sharesBalance = new BigNumber(0);\n    this.investmentBalance = new BigNumber(0);\n\n    this.buySharesAmount = new BigNumber(0);\n    this.buyTokenAmount = new BigNumber(0);\n    this.sellSharesAmount = new BigNumber(0);\n    this.sellTokenAmount = new BigNumber(0);\n\n    this.hasDrawnChart = false;\n\n    this.buyStep = 0;\n    this.sellStep = 0;\n    this.days = 0;\n    this.hours = 0;\n    this.minutes = 0;\n    this.seconds = 0;\n    this.phase = 0;\n\n    this.checkboxes = [false, false, false];\n    this.selectedTokenSymbol = 'DAI';\n    this.selectedTokenBalance = new BigNumber(0);\n    this.transactionId = '';\n    this.continueEnabled = false;\n\n    this.depositWithdrawHistory = new Array<Object>();\n\n    this.errorMsg = \"\";\n\n    this.isLoading = true;\n  }\n\n  ngOnInit() {\n    $('[data-toggle=\"tooltip\"]').tooltip();\n    $('#modalInvestorBuy').on('hidden.bs.modal', () => {\n      this.resetModals();\n    });\n    $('#modalInvestorSell').on('hidden.bs.modal', () => {\n      this.resetModals();\n    });\n\n    this.tokenData = tokens.token_data();\n    this.updateTimer();\n    this.getTokenBalance(this.selectedTokenSymbol);\n    this.selectedTokenSymbol = this.tokenData[0]['symbol'];\n    setInterval(() => this.updateTimer(), 1000);\n    this.createQuery();\n  }\n\n  createQuery() {\n    let userAddress = user.address().toLowerCase();\n    this.query = this.apollo\n      .watchQuery({\n        pollInterval: 300000,\n        fetchPolicy: 'cache-and-network',\n        query: gql`\n          {\n            fund(id: \"BetokenFund\") {\n              cyclePhase\n              totalFundsAtPhaseStart\n              aum\n              sharesPrice\n              sharesPriceHistory(orderBy: timestamp, orderDirection: asc, first: 1000) {\n                timestamp\n                value\n              }\n            }\n            investor(id: \"${userAddress}\") {\n              sharesBalance\n              depositWithdrawHistory(orderBy: timestamp, orderDirection: desc, first: 1000) {\n                timestamp\n                isDeposit\n                amountInDAI\n                txHash\n              }\n            }\n            btcPriceHistory: tokenPrices(where: { tokenSymbol: \"WBTC\" }, orderBy: timestamp) {\n              timestamp\n              priceInDAI\n            }\n            ethPriceHistory: tokenPrices(where: { tokenSymbol: \"ETH\" }, orderBy: timestamp) {\n              timestamp\n              priceInDAI\n            }\n          }\n        `\n      });\n    this.querySubscription = this.query.valueChanges.subscribe((result) => this.handleQuery(result));\n  }\n\n  handleQuery({ data, loading }) {\n    this.isLoading = loading || isUndefined(loading);\n\n    if (!loading) {\n      let fund = data['fund'];\n      let investor = data['investor'];\n\n      this.AUM = new BigNumber(fund.aum);\n      this.sharesPrice = new BigNumber(fund.sharesPrice);\n      this.currMoROI = this.AUM.div(fund.totalFundsAtPhaseStart).minus(1).times(100);\n      if (fund.cyclePhase === 'INTERMISSION') {\n        this.currMoROI = new BigNumber(0);\n      }\n\n      if (!isNull(investor)) {\n        this.sharesBalance = new BigNumber(investor.sharesBalance);\n        this.depositWithdrawHistory = investor.depositWithdrawHistory;\n        this.investmentBalance = this.sharesBalance.times(this.sharesPrice);\n      }\n\n      // draw chart\n      this.sharesPriceHistory = fund.sharesPriceHistory;\n      this.btcPriceHistory = data['btcPriceHistory'];\n      this.ethPriceHistory = data['ethPriceHistory'];\n      this.calcStats();\n      this.chartDraw();\n    }\n  }\n\n  refreshDisplay() {\n    this.isLoading = true;\n    this.query.refetch().then((result) => this.handleQuery(result));\n  }\n\n  updateTimer() {\n    this.days = timer.day();\n    this.hours = timer.hour();\n    this.minutes = timer.minute();\n    this.seconds = timer.second();\n    this.phase = timer.phase();\n  }\n\n  refreshBuyOrderDetails(val) {\n    this.buyTokenAmount = new BigNumber(val);\n    if (!this.buyTokenAmount.isNaN()) {\n      this.buySharesAmount = this.buyTokenAmount.times(this.assetSymbolToPrice(this.selectedTokenSymbol)).div(this.sharesPrice);\n    } else {\n      this.buyTokenAmount = new BigNumber(0);\n      this.buySharesAmount = new BigNumber(0);\n    }\n  }\n\n  refreshSellOrderDetails(val) {\n    this.sellSharesAmount = new BigNumber(val);\n    if (!this.sellSharesAmount.isNaN()) {\n      this.sellTokenAmount = this.sellSharesAmount.times(this.sharesPrice).div(this.assetSymbolToPrice(this.selectedTokenSymbol));\n    } else {\n      this.sellSharesAmount = new BigNumber(0);\n      this.sellTokenAmount = new BigNumber(0);\n    }\n  }\n\n  maxBuyAmount() {\n    $('#sharesAmountToBuy').val(this.selectedTokenBalance.toString());\n    this.refreshBuyOrderDetails(this.selectedTokenBalance);\n    this.continueEnabled = true;\n  }\n\n  maxSellAmount() {\n    $('#sharesAmountToSell').val(this.sharesBalance.toString());\n    this.refreshSellOrderDetails(this.sharesBalance);\n    this.continueEnabled = true;\n  }\n\n  selectBuyToken(value) {\n    this.selectedTokenSymbol = value;\n    this.getTokenBalance(this.selectedTokenSymbol);\n    $('#sharesAmountToBuy').val('0');\n    this.refreshBuyOrderDetails(0);\n  }\n\n  selectSellToken(tokenIndex) {\n    this.selectedTokenSymbol = this.tokenData[tokenIndex]['symbol'];\n    this.refreshSellOrderDetails(this.sellSharesAmount);\n  }\n\n  resetModals() {\n    this.buyStep = 0;\n    this.sellStep = 0;\n    this.selectedTokenSymbol = this.tokenData[0]['symbol'];\n    this.checkboxes = [false, false, false];\n    this.continueEnabled = false;\n    this.getTokenBalance(this.selectedTokenSymbol);\n  }\n\n  assetSymbolToPrice(symbol) {\n    return tokens.asset_symbol_to_price(symbol);\n  }\n\n  getTokenName(token) {\n    let result = tokens.asset_symbol_to_name(token);\n    if (isUndefined(result)) {\n      return '';\n    }\n    return result;\n  }\n\n  getTokenLogoUrl(token) {\n    let result = tokens.asset_symbol_to_logo_url(token);\n    if (isUndefined(result)) {\n      return '';\n    }\n    return result;\n  }\n\n  async getTokenBalance(token) {\n    this.selectedTokenBalance = await user.token_balance(token);\n  }\n\n  deposit() {\n    this.buyStep = 2;\n    var payAmount = this.buyTokenAmount;\n    let pending = (txHash) => {\n      if (this.buyStep == 2) {\n        this.transactionId = txHash;\n        this.buyStep = 3;\n      }\n    };\n    let confirm = () => {\n      if (this.buyStep == 3) {\n        this.buyStep = 4;\n      }\n    };\n    let error = (e) => {\n      if (this.buyStep != 0) {\n        this.buyStep = -1;\n        this.errorMsg = e.toString();\n      }\n    }\n    switch (this.selectedTokenSymbol) {\n      case 'ETH':\n        investor_actions.depositETH(payAmount, pending, confirm, error);\n        break;\n      case 'DAI':\n        investor_actions.depositDAI(payAmount, pending, confirm, error);\n        break;\n      default:\n        investor_actions.depositToken(payAmount, this.selectedTokenSymbol, pending, confirm, error);\n        break;\n    }\n  }\n\n  sell() {\n    this.sellStep = 1;\n    var sellAmount = this.sellSharesAmount.times(this.sharesPrice);\n    let pending = (txHash) => {\n      if (this.sellStep == 1) {\n        this.transactionId = txHash;\n        this.sellStep = 2;\n      }\n    };\n    let confirm = () => {\n      if (this.sellStep == 2) {\n        this.sellStep = 3;\n      }\n      this.refreshDisplay();\n    };\n    let error = (e) => {\n      if (this.sellStep != 0) {\n        this.sellStep = -1;\n        this.errorMsg = e.toString();\n      }\n    }\n    switch (this.selectedTokenSymbol) {\n      case 'ETH':\n        investor_actions.withdrawETH(sellAmount, pending, confirm, error);\n        break;\n      case 'DAI':\n        investor_actions.withdrawDAI(sellAmount, pending, confirm, error);\n        break;\n      default:\n        investor_actions.withdrawToken(sellAmount, this.selectedTokenSymbol, pending, confirm, error);\n        break;\n    }\n  }\n\n  agreementsChecked() {\n    for (var checked of this.checkboxes) {\n      if (!checked) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  calcStats() {\n    let BONDS_MONTHLY_INTEREST = 2.4662697e-3 // 3% annual interest rate\n    let NUM_DECIMALS = 4;\n    let sharesPriceList: Array<BigNumber> = this.sharesPriceHistory.map((x) => new BigNumber(x.value).dp(NUM_DECIMALS));\n\n    // calculate stats for Betoken\n    let calcMean = function (list) {\n      return list.reduce(function (accumulator, curr) {\n        return new BigNumber(accumulator).plus(curr);\n      }, new BigNumber(0)).div(list.length);\n    };\n    let calcSampleStd = function (list) {\n      var mean, sampleVar;\n      mean = calcMean(list);\n      sampleVar = list.reduce(function (accumulator, curr) {\n        return new BigNumber(accumulator).plus(new BigNumber(curr - mean).pow(2));\n      }, new BigNumber(0)).div(list.length - 1);\n      return sampleVar.sqrt();\n    };\n    let calcDownsideStd = (list, minAcceptableRate) => {\n      let sampleVar = list.reduce(\n        (accumulator, curr) => (new BigNumber(accumulator)).plus(new BigNumber(BigNumber.min(curr - minAcceptableRate, 0)).pow(2))\n        , new BigNumber(0)).div(list.length - 1);\n      let sampleStd = sampleVar.sqrt();\n      return sampleStd;\n    }\n\n    // Get cumulative data & calc std\n    this.standardDeviation = calcSampleStd(sharesPriceList).dp(NUM_DECIMALS);\n\n    if (sharesPriceList.length > 0) {\n      this.avgMonthReturn = this.sharesPrice.div(sharesPriceList[0]).minus(1).times(100);\n    }\n\n    // max drawdown\n    this.maxDrawdown = new BigNumber(0);\n    for (let i = 0; i < sharesPriceList.length; i++) {\n      let cumulativeMax = sharesPriceList.slice(0, i + 1).reduce((accumulator, curr) => BigNumber.max(accumulator, curr), new BigNumber(0)); // max of sharesPriceList[:i+1]\n      let drawdown = sharesPriceList[i].minus(cumulativeMax).div(cumulativeMax).times(100);\n      if (drawdown.lt(this.maxDrawdown)) {\n        this.maxDrawdown = drawdown;\n      }\n    }\n  }\n\n  async chartDraw() {\n    if (!this.hasDrawnChart) {\n      this.hasDrawnChart = true;\n\n      let self = this;\n      let NUM_DECIMALS = 4;\n\n      let sharesPriceList = this.sharesPriceHistory.map((x) => new BigNumber(x.value).minus(1).times(100).dp(NUM_DECIMALS));\n      sharesPriceList.push(this.sharesPrice.minus(1).times(100).dp(NUM_DECIMALS));\n\n      let btcPriceList = this.btcPriceHistory.map((x) => new BigNumber(x.priceInDAI));\n      btcPriceList.push(this.assetSymbolToPrice('WBTC'));\n      btcPriceList = btcPriceList.map((x) => x.div(btcPriceList[0]).minus(1).times(100).dp(NUM_DECIMALS));\n\n      let ethPriceList = this.ethPriceHistory.map((x) => new BigNumber(x.priceInDAI));\n      ethPriceList.push(this.assetSymbolToPrice('ETH'));\n      ethPriceList = ethPriceList.map((x) => x.div(ethPriceList[0]).minus(1).times(100).dp(NUM_DECIMALS));\n\n      let now = new Date();\n\n      const canvas: any = document.getElementById('roi-chart');\n      const ctx = canvas.getContext('2d');\n      var gradientFill = ctx.createLinearGradient(0, 0, 0, 200);\n      gradientFill.addColorStop(0, 'rgba(0, 217, 126, 0.5)');\n      gradientFill.addColorStop(0.5, 'rgba(0, 217, 126, 0.25)');\n      gradientFill.addColorStop(1, 'rgba(0, 217, 126, 0)');\n\n      // Config\n\n      var fonts = {\n        base: 'Cerebri Sans'\n      }\n\n      var colors = {\n        gray: {\n          300: '#E3EBF6',\n          600: '#95AAC9',\n          700: '#6E84A3',\n          800: '#152E4D',\n          900: '#283E59'\n        },\n        primary: {\n          100: '#D2DDEC',\n          300: '#A6C5F7',\n          700: '#2C7BE5',\n        },\n        black: '#12263F',\n        white: '#FFFFFF',\n        transparent: 'transparent',\n      };\n\n      var colorScheme = (getComputedStyle(document.body).backgroundColor === 'rgb(249, 251, 253)') ? 'light' : 'dark';\n      Chart.defaults.global.defaultFontColor = colors.gray[300];\n      this.performanceChart = new Chart(ctx, {\n        type: 'line',\n        data: {\n          labels: this.sharesPriceHistory.map((x) => this.toDateObject(x.timestamp)).concat([now]),\n          datasets: [\n            {\n              label: 'Betoken',\n              borderColor: '#22c88a',\n              fill: false,\n              data: sharesPriceList\n            }\n          ]\n        },\n\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          scales: {\n            xAxes: [{\n              type: 'time',\n              gridLines: {\n                display: false\n              },\n              ticks: {\n                padding: 20\n              },\n              maxBarThickness: 10\n            }],\n            yAxes: [{\n              gridLines: {\n                display: true,\n                borderDash: [2],\n                borderDashOffset: [2],\n                color: colors.gray[900],\n                drawBorder: false,\n                drawTicks: false,\n                lineWidth: 0,\n                zeroLineWidth: 0,\n                zeroLineColor: colors.gray[300],\n                zeroLineBorderDash: [2],\n                zeroLineBorderDashOffset: [2]\n              },\n              ticks: {\n                beginAtZero: false,\n                padding: 10,\n                callback: function (value, index, values) {\n                  return value + '%';\n                }\n              }\n            }]\n          },\n          defaultColor: colors.primary[100],\n          defaultFontColor: colors.primary[100],\n          defaultFontFamily: fonts.base,\n          defaultFontSize: 16,\n          layout: {\n            padding: 0\n          },\n          legend: {\n            display: false,\n            position: 'bottom',\n            labels: {\n              usePointStyle: true,\n              padding: 16\n            }\n          },\n          elements: {\n            point: {\n              radius: 0,\n              backgroundColor: colors.primary[700]\n            },\n            line: {\n              tension: .4,\n              borderWidth: 3,\n              borderColor: colors.primary[700],\n              backgroundColor: colors.transparent,\n              borderCapStyle: 'rounded'\n            },\n            rectangle: {\n              backgroundColor: colors.primary[700]\n            },\n            arc: {\n              backgroundColor: colors.primary[700],\n              borderColor: (colorScheme == 'dark') ? colors.gray[800] : colors.white,\n              borderWidth: 4\n            }\n          },\n          tooltips: {\n            enabled: false,\n            mode: 'index',\n            intersect: false,\n            custom: function (model) {\n\n              // Get tooltip\n              var $tooltip = $('#chart-tooltip');\n\n              // Create tooltip on first render\n              if (!$tooltip.length) {\n                $tooltip = $('<div id=\"chart-tooltip\" class=\"popover bs-popover-top\" role=\"tooltip\"></div>');\n\n                // Append to body\n                $('body').append($tooltip);\n              }\n\n              // Hide if no tooltip\n              if (model.opacity === 0) {\n                $tooltip.css('display', 'none');\n                return;\n              }\n\n              function getBody(bodyItem) {\n                return bodyItem.lines;\n              }\n\n              // Fill with content\n              if (model.body) {\n                var titleLines = model.title || [];\n                var bodyLines = model.body.map(getBody);\n                var html = '';\n\n                // Add arrow\n                html += '<div class=\"arrow\"></div>';\n\n                // Add header\n                titleLines.forEach(function (title) {\n                  html += '<h3 class=\"popover-header text-center\">' + title + '</h3>';\n                });\n\n                // Add body\n                bodyLines.forEach(function (body, i) {\n                  var colors = model.labelColors[i];\n                  var styles = 'background-color: ' + colors.borderColor;\n                  var indicator = '<span class=\"popover-body-indicator\" style=\"' + styles + '\"></span>';\n                  var align = (bodyLines.length > 1) ? 'justify-content-left' : 'justify-content-center';\n                  html += '<div class=\"popover-body d-flex align-items-center ' + align + '\">' + indicator + body + '</div>';\n                });\n\n                $tooltip.html(html);\n              }\n\n              // Get tooltip position\n              var $canvas = $(this._chart.canvas);\n\n              var canvasWidth = $canvas.outerWidth();\n              var canvasHeight = $canvas.outerHeight();\n\n              var canvasTop = $canvas.offset().top;\n              var canvasLeft = $canvas.offset().left;\n\n              var tooltipWidth = $tooltip.outerWidth();\n              var tooltipHeight = $tooltip.outerHeight();\n\n              var top = canvasTop + model.caretY - tooltipHeight - 16;\n              var left = canvasLeft + model.caretX - tooltipWidth / 2;\n\n              // Display tooltip\n              $tooltip.css({\n                'top': top + 'px',\n                'left': left + 'px',\n                'display': 'block',\n              });\n\n            },\n            callbacks: {\n              label: function (item, data) {\n                var label = data.datasets[item.datasetIndex].label || '';\n                var yLabel = item.yLabel;\n                var content = '';\n\n                if (data.datasets.length > 1) {\n                  content += '<span class=\"popover-body-label mr-auto\">' + label + '</span>';\n                }\n\n                content += '<span class=\"popover-body-value\">' + yLabel + '%' + '</span>';\n                return content;\n              }\n            },\n          }\n        }\n      });\n\n      // add ETH & BTC prices to chart\n      this.performanceChart.data.datasets.push(\n        {\n          label: 'Ether',\n          borderColor: '#8A91B6',\n          fill: false,\n          data: ethPriceList\n        }\n      );\n      this.performanceChart.data.datasets.push(\n        {\n          label: 'Bitcoin',\n          borderColor: '#FF9500',\n          fill: false,\n          data: btcPriceList\n        }\n      );\n      this.performanceChart.update();\n    }\n  }\n}\n","<!-- MAIN CONTENT -->\n<div class=\"main-content\">\n  <div class=\"container px-lg-7\">\n    <div class=\"row justify-content-center my-5\">\n      <div class=\"col-11 col-md-12\">\n        <img class=\"image-fluid mb-4\" src=\"assets/img/illustrations/betoken-particuls.svg\" alt=\"Betoken particuls\"\n          style=\"max-width: 88px;\">\n      </div>\n    </div>\n    <div class=\"row justify-content-center mb-6\">\n      <div class=\"col-11 col-lg-6 pr-lg-4 order-2 order-lg-1\">\n        <h5 class=\"header-pretitle d-none d-lg-block\" i18n=\"@@managerOnboardingHeaderPretitle\">\n          Become a\n        </h5>\n        <h1 class=\"display-2 font-weight-bold d-none d-lg-block\" i18n=\"@@managerOnboardingHeaderTitle\">Fund Manager</h1>\n        <p class=\"lead font-weight-bold mb-5 d-none d-lg-block\" i18n=\"@@managerOnboardingHeaderSubtitle\">Connect your crypto-trading expertise to the Betoken's\n          pool of capital and earn commissions!</p>\n        <div class=\"media mb-4 mb-lg-3\">\n          <i class=\"fe fe-check text-green mr-3\"></i>\n          <div class=\"media-body\">\n            <h6 class=\"header-pretitle\" i18n=\"@@managerOnboardingIntroSubTitle1\">\n              The best managers earn the most\n            </h6>\n            <p>\n              <ng-container i18n=\"@@managerOnboardingIntroSubText1a\">The Betoken protocol recognizes and quantifies the talent of its fund managers by allocating units of\n              reputation to them, denominated in Kairo tokens, and financially rewards them based on their talent and contributions.\n              The more Kairo tokens you have, the more money in the Betoken fund you can manage and the more income\n              you’ll get every month as commissions on your investments.</ng-container>&nbsp;<a\n                href=\"https://betoken.gitbook.io/docs/manage-the-fund/how-does-the-managers-monthly-commission-work\"\n                target=\"_blank\"><ng-container i18n=\"@@managerOnboardingIntroSubText1b\">More about Betoken's commissions structure</ng-container><i class=\"fe fe-arrow-right ml-2\"></i></a>\n            </p>\n          </div>\n        </div>\n        <div class=\"media mb-4 mb-lg-3\">\n          <i class=\"fe fe-check text-green mr-3\"></i>\n          <div class=\"media-body\">\n            <h6 class=\"header-pretitle\" i18n=\"@@managerOnboardingIntroSubTitle2\">\n              Margin trading and instant liquidity\n            </h6>\n            <p i18n=\"@@managerOnboardingIntroSubText2\">\n              Betoken uses the full value of the open finance ecosystem like Kyber Network, Compound, Fulcrum by bZx and\n              DAI stable coin. These financial primitives enable margin trading with up to 4x leverage on Betoken and\n              guaranteed liquidity.\n            </p>\n          </div>\n        </div>\n      </div>\n      <div class=\"col-11 col-lg-6 pl-lg-4 order-1 order-lg-2\">\n        <h5 class=\"header-pretitle d-block d-lg-none\" i18n=\"@@managerOnboardingHeaderPretitle\">\n          Become a\n        </h5>\n        <h1 class=\"display-4 font-weight-bold d-block d-lg-none\" i18n=\"@@managerOnboardingHeaderTitle\">Fund Manager</h1>\n        <p class=\"lead font-weight-bold mb-4 d-block d-lg-none\" i18n=\"@@managerOnboardingHeaderSubtitle\">Connect your crypto-trading expertise to the Betoken's\n          decentralized pool of capital and actively trade against the market to earn commissions! Get started by buying\n          a manager account.</p>\n        <div class=\"card mb-6\">\n          <div class=\"card-header d-flex text-center text-md-left\">\n            <!-- cta -->\n            <span class=\"text-truncate d-block\" *ngIf=\"user_address !== ZERO_ADDR\"><span class=\"text-success\">●</span>\n              {{user_address}}</span>\n            <span class=\"text-truncate\" *ngIf=\"user_address == ZERO_ADDR\"><span class=\"text-danger\">●</span>&nbsp;<ng-container i18n=\"@@managerOnboardingConnectStatus\">No Wallet Connected</ng-container></span>\n          </div>\n          <div class=\"card-body text-center text-md-left\">\n            <button class=\"btn btn-block btn-lg btn-success\" type=\"button\" data-toggle=\"modal\" data-target=\"#modalBuy\" *ngIf=\"user_address != ZERO_ADDR && !isManager\" i18n=\"@@ctaGetStarted\">Get Started</button>\n            <div *ngIf=\"user_address != ZERO_ADDR && isManager\">\n              <p class=\"text-secondary text-center\" i18n=\"@@managerOnboardingAlreadyManagerText\">You are already a manager.</p>\n              <a class=\"btn btn-block btn-lg btn-success\" href=\"#/dashboard\" i18n=\"@@managerOnboardingCtaSignIn\">Sign in</a>\n            </div>\n          </div>\n          <a href=\"https://github.com/solidified-platform/audits/blob/master/Audit%20Report%20-%20%20Betoken%20%5B20.05.2019%5D.pdf\"\n            target=\"_blank\">\n            <div class=\"card-footer\">\n              <div class=\"row align-items-center\">\n                <div class=\"col-auto\">\n                  <div class=\"avatar avatar-sm\">\n                    <img class=\"avatar-img rounded-circle bg-secondary\" src=\"assets/img/solidified-logo.png\"\n                      alt=\"Solidified logo\">\n                  </div>\n                </div>\n                <div class=\"col\">\n                  <p class=\"small text-secondary mb-0\" i18n=\"@@solidifiedAudit\">Betoken Smart Contracts are audited and secured by Solidified</p>\n                </div>\n                <div class=\"col-auto\">\n                  <i class=\"fe fe-arrow-right text-secondary\"></i>\n                </div>\n              </div>\n            </div>\n          </a>\n        </div>\n        <div class=\"card card-inactive mb-6\">\n          <div class=\"card-body\">\n            <h3 i18n=\"@@disclaimerTitle\">Disclaimer</h3>\n            <p class=\"text-muted\" i18n=\"@@disclaimertext1\">\n              Nothing herein constitutes an offer to sell, or the solicitation of an offer to buy, any securities or\n              tokens.\n            </p>\n            <p class=\"text-muted\" i18n=\"@@disclaimertext2\">\n              Betoken enables capital connection and managing using smart contracts which are open source. Betoken does\n              not take custody of tokens and is only a collaborative hub for investors and managers. Betoken is not a\n              licensed bank, broker-dealer, investment advisor or an exchange. Betoken uses partner protocols (Kyber,\n              Compound, bZx, Maker DAO) to power its own ecosystem.\n            </p>\n            <p class=\"text-danger\" i18n=\"@@disclaimertext13\">\n              💀 This project is in beta. Use at your own risk.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <div class=\"container mt-3\">\n    <div class=\"row justify-content-center\">\n      <div class=\"col-11 col-lg-6\">\n        <h1 class=\"text-center\" i18n=\"@@faqTitle\">Frequently asked questions</h1>\n        <div id=\"accordion\">\n          <!-- question -->\n          <div class=\"card\">\n            <div class=\"card-header\" id=\"headingOne\">\n              <a href=\"\" class=\"text-secondary\" data-toggle=\"collapse\" data-target=\"#collapseOne\" aria-expanded=\"false\"\n                aria-controls=\"collapseOne\">\n                <div class=\"row align-items-center no-gutters\">\n                  <div class=\"col mr-auto\">\n                    <h3 class=\"card-text\" i18n=\"@@managerOnboardingFaqQ1\">\n                      What is Kairo token?\n                    </h3>\n                  </div>\n                  <div class=\"col-auto\">\n                    <i class=\"fe fe-plus\"></i>\n                  </div>\n                </div>\n              </a>\n            </div>\n            <div id=\"collapseOne\" class=\"collapse\" aria-labelledby=\"headingOne\" data-parent=\"#accordion\">\n              <div class=\"card-body\" i18n=\"@@managerOnboardingFaqA1\">\n                <p>Kairo is Betoken's non-transferable reputation token. Managers need to possess Kairo tokens to manage\n                  funds on Betoken. They represent how good a manager is at investing. The more Kairo tokens you have,\n                  the more money in the Betoken fund you can manage and the more income you’ll get every month as\n                  commissions on your investments.</p>\n              </div>\n            </div>\n            <div class=\"card-header border-bottom\" id=\"headingTwo\">\n              <a href=\"\" class=\"text-secondary\" data-toggle=\"collapse\" data-target=\"#collapseTwo\" aria-expanded=\"false\"\n                aria-controls=\"collapseTwo\">\n                <div class=\"row align-items-center no-gutters\">\n                  <div class=\"col mr-auto\">\n                    <h3 class=\"card-text\" i18n=\"@@managerOnboardingFaqQ2\">\n                      How can I buy Kairo tokens?\n                    </h3>\n                  </div>\n                  <div class=\"col-auto\">\n                    <i class=\"fe fe-plus\"></i>\n                  </div>\n                </div>\n              </a>\n            </div>\n            <div id=\"collapseTwo\" class=\"collapse\" aria-labelledby=\"headingTwo\" data-parent=\"#accordion\">\n              <div class=\"card-body\" i18n=\"@@managerOnboardingFaqA2\">\n                <p>Click on the Get Started button and follow the instructions. You'll be able to use Ether or any of\n                  our 70+ supported ERC-20 tokens to buy Kairo tokens.</p>\n              </div>\n            </div>\n            <div class=\"card-header border-bottom\" id=\"headingSeven\">\n              <a href=\"\" class=\"text-secondary\" data-toggle=\"collapse\" data-target=\"#collapseSeven\"\n                aria-expanded=\"false\" aria-controls=\"collapseSeven\">\n                <div class=\"row align-items-center no-gutters\">\n                  <div class=\"col mr-auto\">\n                    <h3 class=\"card-text\" i18n=\"@@managerOnboardingFaqQ3\">\n                      Do I receive my Kairo tokens immediately after purchase?\n                    </h3>\n                  </div>\n                  <div class=\"col-auto\">\n                    <i class=\"fe fe-plus\"></i>\n                  </div>\n                </div>\n              </a>\n            </div>\n            <div id=\"collapseSeven\" class=\"collapse\" aria-labelledby=\"headingSeven\" data-parent=\"#accordion\">\n              <div class=\"card-body\" i18n=\"@@managerOnboardingFaqA3\">\n                <p>Yes. The Kairo tokens will be given to your wallet after your purchase transaction has been accepted by the\n                  Ethereum blockchain, which may take up to a few minutes.</p>\n              </div>\n            </div>\n            <div class=\"card-header border-bottom\" id=\"headingThree\">\n              <a href=\"\" class=\"text-secondary\" data-toggle=\"collapse\" data-target=\"#collapseThree\"\n                aria-expanded=\"false\" aria-controls=\"collapseThree\">\n                <div class=\"row align-items-center no-gutters\">\n                  <div class=\"col mr-auto\">\n                    <h3 class=\"card-text\" i18n=\"@@managerOnboardingFaqQ4\">\n                      What is the commissions structure?\n                    </h3>\n                  </div>\n                  <div class=\"col-auto\">\n                    <i class=\"fe fe-plus\"></i>\n                  </div>\n                </div>\n              </a>\n            </div>\n            <div id=\"collapseThree\" class=\"collapse\" aria-labelledby=\"headingThree\" data-parent=\"#accordion\">\n              <div class=\"card-body\">\n                <h3 i18n=\"@@managerOnboardingFaqA4Title1\">Management commissions</h3>\n                <p i18n=\"@@managerOnboardingFaqA4Text1\">After the management phase is over (every 27 days):</p>\n                <h4 i18n=\"@@managerOnboardingFaqA4Title2\">IF the fund is profitable OR not profitable</h4>\n                <p i18n=\"@@managerOnboardingFaqA4Text2\">0.1% of the total Betoken funds is set aside and distributed among fund manager holding Kairo tokens.</p>\n                <h4 i18n=\"@@managerOnboardingFaqA4Title3\">ONLY IF the fund is profitable</h4>\n                <p i18n=\"@@managerOnboardingFaqA4Text3\">20% of the total Betoken's monthly profits is set aside as commission and distributed among fund\n                  managers holding Kairo tokens proportional to the amount they hold and their risk profile.\n                  The commission is taken into account IF and ONLY IF the fund is profitable during the actual\n                  investment cycle.</p>\n              </div>\n            </div>\n            <div class=\"card-header border-bottom\" id=\"headingFour\">\n              <a href=\"\" class=\"text-secondary\" data-toggle=\"collapse\" data-target=\"#collapseFour\" aria-expanded=\"false\"\n                aria-controls=\"collapseFour\">\n                <div class=\"row align-items-center no-gutters\">\n                  <div class=\"col mr-auto\">\n                    <h3 class=\"card-text\" i18n=\"@@managerOnboardingFaqQ5\">\n                      How can I manage and follow the activity of the fund?\n                    </h3>\n                  </div>\n                  <div class=\"col-auto\">\n                    <i class=\"fe fe-plus\"></i>\n                  </div>\n                </div>\n              </a>\n            </div>\n            <div id=\"collapseFour\" class=\"collapse\" aria-labelledby=\"headingFour\" data-parent=\"#accordion\">\n              <div class=\"card-body\" i18n=\"@@managerOnboardingFaqA5\">\n                You have access to a Portal where you can view\n                Betoken's fund performances and your manager trading interface.\n              </div>\n            </div>\n            <div class=\"card-header border-bottom\" id=\"headingFive\">\n              <a href=\"\" class=\"text-secondary\" data-toggle=\"collapse\" data-target=\"#collapseFive\" aria-expanded=\"false\"\n                aria-controls=\"collapseFive\">\n                <div class=\"row align-items-center no-gutters\">\n                  <div class=\"col mr-auto\">\n                    <h3 class=\"card-text\" i18n=\"@@managerOnboardingFaqQ6\">\n                      Can I sell my Kairo tokens?\n                    </h3>\n                  </div>\n                  <div class=\"col-auto\">\n                    <i class=\"fe fe-plus\"></i>\n                  </div>\n                </div>\n              </a>\n            </div>\n            <div id=\"collapseFive\" class=\"collapse\" aria-labelledby=\"headingFive\" data-parent=\"#accordion\">\n              <div class=\"card-body\" i18n=\"@@managerOnboardingFaqA6\">\n                No. Kairo is a non-transferable reputation token, which means that you cannot sell or give your Kairo tokens to\n                someone else.\n              </div>\n            </div>\n            <div class=\"card-header border-bottom-0\" id=\"headingSix\">\n              <a href=\"\" class=\"text-secondary\" data-toggle=\"collapse\" data-target=\"#collapseSix\" aria-expanded=\"false\"\n                aria-controls=\"collapseSix\">\n                <div class=\"row align-items-center no-gutters\">\n                  <div class=\"col mr-auto\">\n                    <h3 class=\"card-text\" i18n=\"@@managerOnboardingFaqQ7\">\n                      Can I buy more Kairo tokens after with the same Wallet address?\n                    </h3>\n                  </div>\n                  <div class=\"col-auto\">\n                    <i class=\"fe fe-plus\"></i>\n                  </div>\n                </div>\n              </a>\n            </div>\n            <div id=\"collapseSix\" class=\"collapse\" aria-labelledby=\"headingSix\" data-parent=\"#accordion\">\n              <div class=\"card-body\" i18n=\"@@managerOnboardingFaqA7\">\n                No. You can only buy Kairo tokens once per Ethereum account.\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n    </div>\n    <div class=\"row justify-content-center\">\n      <div class=\"col-11 col-lg-6\">\n        <div class=\"card bg-green\">\n          <div class=\"card-body text-center\">\n            <h3 class=\"text-white\" i18n=\"@@faqGetHelptitle\">Can’t find what you’re looking for?</h3>\n            <a class=\"btn btn-white mr-3\" href=\"https://t.me/betokenfund\">Telegram</a>\n            <a class=\"btn btn-white mr-3\" href=\"https://betoken.gitbook.io/docs/\" i18n=\"@@faqCtaHelpCenter\">Help Center</a>\n          </div>\n        </div>\n        <ul class=\"nav justify-content-center my-4\">\n          <li class=\"nav-item\">\n            <a href=\"https://betoken.fund\" class=\"nav-link text-center text-secondary\" i18n=\"@@footerNavHome\">Home</a>\n          </li>\n          <li class=\"nav-item\">\n            <a href=\"https://medium.com/betoken\" class=\"nav-link text-center text-secondary\" i18n=\"@@footerNavBlog\">Blog</a>\n          </li>\n        </ul>\n        <p class=\"text-center text-secondary\"><ng-container i18n=\"@@contactUs\">Contact us at</ng-container>&nbsp;<a class=\"text-secondary\"\n            href=\"mailto:hello@betoken.fund?subject=Hey\">hello@betoken.fund</a></p>\n      </div>\n    </div>\n\n    <!-- Buy BTKS modal -->\n    <div class=\"modal fade fixed-right\" id=\"modalBuy\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"modalBuy\"\n      aria-hidden=\"true\">\n      <div class=\"modal-dialog modal-dialog-vertical bg-white\" role=\"document\">\n        <div class=\"modal-content\" data-toggle=\"lists\" data-lists-values=\"[&quot;name&quot;]\">\n          <div class=\"modal-header border-0\">\n            <!-- Confirm rules title -->\n            <h4 class=\"modal-title\" *ngIf=\"buyStep == 0\" i18n=\"@@modalTitleConfirmRules\">\n              Please confirm before continuing\n            </h4>\n            <!-- BTKS amount title -->\n            <h4 class=\"modal-title\" *ngIf=\"buyStep == 1\" i18n=\"@@managerOnboardingBuyBtksModalTitleStep1\">\n              How many Kairo tokens do you want to buy?\n            </h4>\n            <!-- BTKS Confirm buy title -->\n            <h4 class=\"modal-title\" *ngIf=\"buyStep == 2\" i18n=\"@@modalTitleConfirmTx\">\n              Confirm transaction\n            </h4>\n            <!-- BTKS Processing buy title -->\n            <h4 class=\"modal-title\" *ngIf=\"buyStep == 3\" i18n=\"@@modalTitleProcessingTx\">\n              Processing transaction\n            </h4>\n            <!-- BTKS confirmed buy title -->\n            <h4 class=\"modal-title\" *ngIf=\"buyStep == 4\" i18n=\"@@modalTitleTxConfirmed\">\n              Transaction confirmed\n            </h4>\n            <!-- Error -->\n            <h4 class=\"modal-title\" *ngIf=\"buyStep == -1\" i18n=\"@@modalTitleError\">\n              That's an error\n            </h4>\n            <!-- Close -->\n            <button type=\"button\" class=\"close\" data-dismiss=\"modal\" i18n-aria-label=\"@@modalAriaLabelClose\" aria-label=\"Close\">\n              <span aria-hidden=\"true\">×</span>\n            </button>\n          </div>\n\n          <div class=\"card-header py-0 border-0\" style=\"min-height: 24px;\">\n            <div class=\"progress\" style=\"height: 8px;\">\n              <div [ngClass]=\"{'bg-success': buyStep >= 0, 'bg-secondary': buyStep !== 0}\" class=\"progress-bar\"\n                role=\"progressbar\" style=\"width: 20%\" aria-valuenow=\"20\" aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n              <div [ngClass]=\"{'bg-success': buyStep >= 1, 'bg-secondary': buyStep !== 1}\"\n                class=\"progress-bar border-left\" role=\"progressbar\" style=\"width: 20%\" aria-valuenow=\"20\"\n                aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n              <div [ngClass]=\"{'bg-success': buyStep >= 2, 'bg-secondary': buyStep !== 2}\"\n                class=\"progress-bar border-left\" role=\"progressbar\" style=\"width: 20%\" aria-valuenow=\"20\"\n                aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n              <div [ngClass]=\"{'bg-success': buyStep >= 3, 'bg-secondary': buyStep !== 3}\"\n                class=\"progress-bar border-left\" role=\"progressbar\" style=\"width: 20%\" aria-valuenow=\"20\"\n                aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n              <div [ngClass]=\"{'bg-success': buyStep >= 4, 'bg-secondary': buyStep !== 4}\"\n                class=\"progress-bar border-left\" role=\"progressbar\" style=\"width: 20%\" aria-valuenow=\"20\"\n                aria-valuemin=\"0\" aria-valuemax=\"100\"></div>\n            </div>\n          </div>\n\n          <div class=\"modal-body\">\n            <!-- before starting confirm rules -->\n            <div *ngIf=\"buyStep == 0\">\n              <div class=\"custom-control custom-checkbox mb-4\">\n                <input type=\"checkbox\" class=\"custom-control-input\" id=\"rule1\"\n                  (change)=\"checkboxes[0] = !checkboxes[0]\">\n                <label class=\"custom-control-label small text-secondary\" for=\"rule1\" i18n=\"@@modalRule1\">You are NEITHER a citizen or\n                  resident of, NOR currently located in any of the following states or territories, NOR an entity formed\n                  under the laws of: Afghanistan, Cuba, Democratic People's Republic of Korea, Iran, Iraq, People’s\n                  Republic of China, Russian Federation, Somalia, Sudan, Syria, United Arab Emirates, United States of\n                  America, Venezuela, Yemen.</label>\n              </div>\n              <div class=\"custom-control custom-checkbox mb-4\">\n                <input type=\"checkbox\" class=\"custom-control-input\" id=\"rule2\"\n                  (change)=\"checkboxes[1] = !checkboxes[1]\">\n                <label class=\"custom-control-label small text-secondary\" for=\"rule2\"><ng-container i18n=\"@@modalRule2\">You have read and understood our</ng-container>&nbsp;<a\n                    href=\"#/disclaimer\" data-dismiss=\"modal\" i18n-aria-label=\"@@modalAriaLabelClose\" aria-label=\"Close\" i18n=\"@@modalDisclaimerCta\">disclaimer</a>.</label>\n              </div>\n              <div class=\"custom-control custom-checkbox mb-4\">\n                <input type=\"checkbox\" class=\"custom-control-input\" id=\"rule3\"\n                  (change)=\"checkboxes[2] = !checkboxes[2]\">\n                <label class=\"custom-control-label small text-danger\" for=\"rule3\" i18n=\"@@modalRule3\">💀 You understand that Betoken\n                  Protocol is in beta. Use at your own risk.</label>\n              </div>\n            </div>\n\n            <!-- Step 1: enter amount -->\n\n            <!-- Quantity of Kairo to buy -->\n            <h6 class=\"header-pretitle\" i18n=\"@@price\" *ngIf=\"buyStep == 1\">\n              Price (DAI)\n            </h6>\n            <h4 class=\"mb-5\" *ngIf=\"buyStep == 1\">\n              {{kairoPrice.toFormat(4)}}\n            </h4>\n            <h6 class=\"header-pretitle text-secondary\" i18n=\"@@managerOnboardingBuyBtksModalIWantToBuyWith\" *ngIf=\"buyStep == 1\">I want to buy Kairo tokens with</h6>\n            <div class=\"row justify-content-center mb-4\" *ngIf=\"buyStep == 1\">\n              <div class=\"col\">\n                <form>\n                  <div class=\"form-group row mb-2\">\n                    <div class=\"col\">\n                      <div class=\"input-group\">\n                        <input aria-describedby=\"Kairo tokens amount to buy\"\n                          class=\"form-control form-control-lg pr-0\" type=\"number\" placeholder=\"0.0\"\n                          id=\"sharesAmountToBuy\" min=\"0.0\"\n                          (input)=\"refreshBuyOrderDetails($event.target.value); continueEnabled = true\">\n                        <div class=\"input-group-append\">\n                          <button class=\"btn btn-white\" name=\"button\" type=\"button\"\n                            (click)=\"maxBuyAmount()\" i18n=\"@@modalCtaMax\">Max</button>\n                        </div>\n                      </div>\n                    </div>\n                    <div class=\"col\">\n                      <select class=\"form-control form-control-lg\" id=\"buyTokenSelect\"\n                        (change)=\"selectBuyToken($event.target.value)\">\n                        <option *ngFor=\"let token of tokenData\">{{token.symbol}}</option>\n                      </select>\n                    </div>\n                  </div>\n                  <small\n                    class=\"d-block form-text text-secondary d-inline-block mb-0\">{{selectedTokenBalance.toFormat(4)}}\n                    {{selectedTokenSymbol}}&nbsp;<ng-container i18n=\"@@modalBalanceAvailable\">available</ng-container></small>\n                  <small class=\"form-text text-warning d-inline-block mb-0 mt-1\" i18n=\"@@managerOnboardingBuyBtksModalMaxPaymentAmount\">Maximum purchase:\n                    {{getMaxPaymentAmount().toFormat(4)}} {{selectedTokenSymbol}} <a class=\"text-muted ml-2\"\n                      href=\"https://betoken.gitbook.io/docs/manage-the-fund/why-is-there-a-max-kairo-purchase\"\n                      title=\"Learn more\" target=\"_blank\"><span class=\"fe fe-help-circle\"></span></a></small>\n                </form>\n              </div>\n            </div>\n            <div class=\"table-responsive\" *ngIf=\"buyStep == 1\">\n              <table class=\"table mb-4\">\n                <thead>\n                  <tr>\n                    <th class=\"px-0 bg-transparent border-top-0\">\n                      <span class=\"h6\" i18n=\"@@modalTitleOrderDetail\">Order Details</span>\n                    </th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <td class=\"px-0 small align-baseline text-muted\" i18n=\"@@managerOnboardingBuyBtksModalKroToreceive\">\n                      Kairo tokens to receive\n                    </td>\n                    <td class=\"px-0 text-right small align-baseline\">\n                      {{buyKairoAmount.toFormat(6)}} KRO\n                    </td>\n                  </tr>\n                  <tr>\n                    <td class=\"px-0 small align-baseline text-muted\" i18n=\"@@managerOnboardingBuyBtksModalAmountToManage\">\n                      Assets under your management\n                    </td>\n                    <td class=\"px-0 text-right small align-baseline\">\n                      {{buyKairoAmount.times(totalFunds).div(kairoTotalSupply).toFormat(6)}} DAI\n                    </td>\n                  </tr>\n                  <tr>\n                    <td class=\"px-0 small align-baseline text-muted\" i18n=\"@@modalTotalCost\">\n                      Total cost\n                    </td>\n                    <td class=\"px-0 text-right h3 align-baseline\">\n                      {{buyTokenAmount.toFormat(6)}} {{selectedTokenSymbol}}\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n\n\n            <!-- Step 2: confirm transaction -->\n            <!-- loader -->\n            <img class=\"image-fluid d-block mx-auto mb-4\" src=\"assets/img/animated-logo.svg\" alt=\"Betoken logo\"\n              style=\"width: 88px;\" *ngIf=\"buyStep == 3 || buyStep === 2\">\n            <p class=\"text-center text-muted mb-5\" *ngIf=\"buyStep == 2\" i18n=\"@@modalBodyTextStep1\">\n              Confirm the transaction in your wallet’s interface to save it on the Ethereum blockchain. It's fine to\n              stick with these defaults gas limit and price.\n            </p>\n\n            <!-- Step 3: transaction broadcasted -->\n            <!-- Processing transaction body -->\n            <div *ngIf=\"buyStep == 3\">\n              <p class=\"text-center text-muted mb-5\" i18n=\"@@modalBodyTextTxBroadcasted\">\n                Your transaction is being saved on the Ethereum blockchain.\n              </p>\n              <hr>\n              <form>\n                <div class=\"form-group\">\n                  <label for=\"exampleFormControlInput1\" i18n=\"@@modalBodyTxHash\">Transaction hash</label>\n                  <div class=\"input-group mb-3\">\n                    <input type=\"text\" class=\"form-control form-control-lg\" value=\"{{transactionId}}\"\n                      aria-label=\"Transaction hash\">\n                    <div class=\"input-group-append\">\n                      <a class=\"btn btn-white h-100 d-flex align-items-center\"\n                        href=\"https://etherscan.io/tx/{{transactionId}}\" target=\"_blank\"><i\n                          class=\"fe fe-external-link\"></i></a>\n                    </div>\n                  </div>\n                </div>\n              </form>\n            </div>\n\n            <!-- Step 4: transaction confirmed -->\n            <!-- Investment confirmed body -->\n            <div *ngIf=\"buyStep == 4\">\n              <p class=\"h1 text-center\">\n                <i class=\"fe fe-check-circle text-success\"></i>\n              </p>\n              <p class=\"text-center text-muted mb-5\">\n                <ng-container i18n=\"@@managerOnboardingBuyBtksModalTextStep4a\">You bought</ng-container>&nbsp;<span class=\"font-weight-bold text-secondary\">{{buyKairoAmount.toFormat(4)}}</span>&nbsp;KRO&nbsp;<ng-container i18n=\"@@managerOnboardingBuyBtksModalTextStep4b\">using</ng-container>&nbsp;<span class=\"font-weight-bold text-secondary\">{{buyTokenAmount.toFormat(6)}}</span>&nbsp;{{selectedTokenSymbol}}.\n              </p>\n              <a target=\"_blank\" i18n-href=\"@@managerOnboardingBuyBtksModalTweet\" href=\"https://twitter.com/intent/tweet?hashtags=Betoken%2C%20DeFi&related=betokenfund&text=I%27ve%20just%20joined%20Betoken%20as%20a%20fund%20manager%2C%20world%27s%20first%20crowd-powered%20cryptoassets%20management%20protocol!&url=https%3A%2F%2Fbetoken.fund&via=betokenfund\">\n                <button class=\"btn btn-twitter btn-block\" type=\"button\" name=\"button\" i18n=\"@@managerOnboardingBuyBtksModalCtaTweet\">Tweet about it</button>\n              </a>\n              <hr>\n              <form>\n                <div class=\"form-group\">\n                  <label for=\"exampleFormControlInput1\" i18n=\"@@modalBodyTxHash\">Transaction hash</label>\n                  <div class=\"input-group mb-3\">\n                    <input type=\"text\" class=\"form-control form-control-lg\" value=\"{{transactionId}}\"\n                     i18n-aria-label=\"@@managerOnboardingBuyBtksModalStep4TxHashAriaLabel\" aria-label=\"Transaction hash\">\n                    <div class=\"input-group-append\">\n                      <a class=\"btn btn-white h-100 d-flex align-items-center\"\n                        href=\"https://etherscan.io/tx/{{transactionId}}\" target=\"_blank\"><i\n                          class=\"fe fe-external-link\"></i></a>\n                    </div>\n                  </div>\n                </div>\n              </form>\n            </div>\n\n            <!-- error -->\n            <div *ngIf=\"buyStep == -1\">\n              <p class=\"h1 text-center\">\n                <i class=\"fe fe-alert-circle text-danger\"></i>\n              </p>\n              <p class=\"text-center text-muted mb-5\" i18n=\"@@modalErrorText\">\n                The operation has resulted in an error. Please try again.\n              </p>\n              <p class=\"text-center text-muted mb-5\">\n                <ng-container i18n=\"@@modalErrorMsg\">Error message:</ng-container>&nbsp;{{errorMsg}}\n              </p>\n            </div>\n\n            <!-- Continue button for buyStep 1 -->\n            <button type=\"submit\" class=\"btn btn-block btn-success mt-auto\" aria-label=\"BuyBTKS\" *ngIf=\"buyStep == 0\" (click)=\"buyStep = agreementsChecked() ? 1 : 0\" [ngClass]=\"{'disabled': !agreementsChecked()}\" i18n=\"@@managerOnboardingBuyBtksModalCtaBuy\">\n              Buy Kairo tokens\n            </button>\n            <!-- Continue button for buyStep 2 -->\n            <button type=\"submit\" class=\"btn btn-block btn-success mt-auto\" aria-label=\"Continue to Buy\" *ngIf=\"buyStep == 1\" (click)=\"register();\" [disabled]=\"!continueEnabled\" i18n=\"@@modalCtaContinue\">\n              Continue\n            </button>\n            <!-- Try again button for error -->\n            <button type=\"submit\" class=\"btn btn-block btn-white mt-auto\" i18n=\"@@modalTryAgainAriaLabel\" aria-label=\"Try again\" *ngIf=\"buyStep == -1\" (click)=\"resetModals()\" i18n=\"@@modalTryAgain\">\n              Try again\n            </button>\n            <!-- Close button for buyStep 4 -->\n            <a class=\"btn btn-block btn-success mt-auto\" href=\"#/dashboard\" target=\"_blank\" *ngIf=\"buyStep == 4\" i18n=\"@@managerOnboardingBuyBtksModalManagerDashboard\">Manager Portal</a>\n        </div>\n        </div>\n    </div><!-- / modal -->\n  </div>\n</div> <!-- / .main-content -->\n","import { Component, OnInit } from '@angular/core';\nimport { AppComponent } from '../app.component';\nimport { Router } from '@angular/router';\nimport { isUndefined, isNull } from 'util';\nimport BigNumber from 'bignumber.js';\n\nimport { } from 'jquery';\ndeclare var $: any;;\n\nimport {\n  user, tokens, manager_actions\n} from '../../betokenjs/helpers';\n\nimport { ApolloEnabled } from '../apollo';\nimport { Apollo } from 'apollo-angular';\nimport gql from 'graphql-tag';\n\n@Component({\n  selector: 'app-account',\n  templateUrl: './manageronboarding.component.html'\n})\nexport class ManageronboardingComponent extends ApolloEnabled implements OnInit {\n  ZERO_ADDR = '0x0000000000000000000000000000000000000000';\n  FALLBACK_MAX_DONATION: BigNumber;\n  tokenData: Array<Object>;\n  user_address: String;\n  checkboxes: Array<boolean>;\n  selectedTokenSymbol: String;\n  selectedTokenBalance: BigNumber;\n  transactionId: String;\n  kairoPrice: BigNumber;\n  buyKairoAmount: BigNumber;\n  buyTokenAmount: BigNumber;\n  kairoTotalSupply: BigNumber;\n  totalFunds: BigNumber;\n  isManager: Boolean;\n\n  buyStep: Number;\n  continueEnabled: Boolean;\n\n  errorMsg: String;\n\n  constructor(private ms: AppComponent, private router: Router, private apollo: Apollo) {\n    super();\n    this.user_address = this.ZERO_ADDR;\n    this.buyStep = 0;\n    this.checkboxes = [false, false, false];\n    this.selectedTokenSymbol = '';\n    this.selectedTokenBalance = new BigNumber(0);\n    this.transactionId = '';\n    this.kairoPrice = new BigNumber(0);\n    this.buyKairoAmount = new BigNumber(0);\n    this.buyTokenAmount = new BigNumber(0);\n    this.kairoTotalSupply = new BigNumber(0);\n    this.FALLBACK_MAX_DONATION = new BigNumber(100); // fallback max DAI payment is 100\n    this.continueEnabled = false;\n    this.errorMsg = \"\";\n    this.totalFunds = new BigNumber(0);\n    this.isManager = false;\n  }\n\n  ngOnInit() {\n    $('[data-toggle=\"tooltip\"]').tooltip();\n    $('#modalBuy').on('hidden.bs.modal', () => {\n      this.resetModals();\n    });\n    this.tokenData = tokens.token_data();\n    this.selectedTokenSymbol = this.tokenData[0]['symbol'];\n    this.refreshDisplay();\n  }\n\n  refreshDisplay() {\n    this.user_address = user.address();\n\n    this.getTokenBalance(this.selectedTokenSymbol);\n\n    let userAddress = user.address().toLowerCase();\n    this.querySubscription = this.apollo\n      .watchQuery({\n        pollInterval: 300000,\n        fetchPolicy: 'cache-and-network',\n        query: gql`\n          {\n            fund(id: \"BetokenFund\") {\n              totalFundsInDAI\n              kairoPrice\n              kairoTotalSupply\n            }\n            manager(id: \"${userAddress}\") {\n              id\n            }\n          }\n        `\n      })\n      .valueChanges.subscribe(({ data, loading }) => {\n        if (!loading) {\n          let fund = data['fund'];\n          let manager = data['manager'];\n\n          this.isManager = !isNull(manager);\n          this.kairoPrice = new BigNumber(fund.kairoPrice);\n          this.kairoTotalSupply = new BigNumber(fund.kairoTotalSupply);\n          this.totalFunds = new BigNumber(fund.totalFundsInDAI);\n        }\n      });\n  }\n\n  resetModals() {\n    this.buyStep = 0;\n    this.selectedTokenSymbol = this.tokenData[0]['symbol'];\n    this.checkboxes = [false, false, false];\n    this.continueEnabled = false;\n    this.getTokenBalance(this.selectedTokenSymbol);\n  }\n\n  refreshBuyOrderDetails(val) {\n    this.buyTokenAmount = new BigNumber(val);\n    if (!this.buyTokenAmount.isNaN()) {\n      this.buyKairoAmount = this.buyTokenAmount.times(this.assetSymbolToPrice(this.selectedTokenSymbol)).div(this.kairoPrice);\n    } else {\n      this.buyTokenAmount = new BigNumber(0);\n      this.buyKairoAmount = new BigNumber(0);\n    }\n  }\n\n  getMaxPaymentAmount() {\n    return BigNumber.max(this.kairoTotalSupply.div(100).times(this.kairoPrice), this.FALLBACK_MAX_DONATION).div(this.assetSymbolToPrice(this.selectedTokenSymbol));\n  }\n\n  maxBuyAmount() {\n    let amount = BigNumber.min(this.selectedTokenBalance, this.getMaxPaymentAmount());\n    $('#sharesAmountToBuy').val(amount.toString());\n    this.refreshBuyOrderDetails(amount);\n    this.continueEnabled = true;\n  }\n\n  selectBuyToken(value) {\n    this.selectedTokenSymbol = value;\n    $('#sharesAmountToBuy').val('0');\n    this.refreshBuyOrderDetails(0);\n    this.getTokenBalance(this.selectedTokenSymbol);\n  }\n\n  async getTokenBalance(token) {\n    this.selectedTokenBalance = await user.token_balance(token);\n  }\n\n  register() {\n    this.buyStep = 2;\n    var payAmount = this.buyTokenAmount;\n    let pending = (txHash) => {\n      if (this.buyStep == 2) {\n        this.transactionId = txHash;\n        this.buyStep = 3;\n      }\n    };\n    let confirm = () => {\n      if (this.buyStep == 3) {\n        this.buyStep = 4;\n      }\n    };\n    let error = (e) => {\n      if (this.buyStep != 0) {\n        this.buyStep = -1;\n        this.errorMsg = e.toString();\n      }\n    }\n    switch (this.selectedTokenSymbol) {\n      case 'ETH':\n        manager_actions.register_with_ETH(payAmount, pending, confirm, error);\n        break;\n      case 'DAI':\n        manager_actions.register_with_DAI(payAmount, pending, confirm, error);\n        break;\n      default:\n        manager_actions.register_with_token(payAmount, this.selectedTokenSymbol, pending, confirm, error);\n        break;\n    }\n  }\n\n  assetSymbolToPrice(symbol) {\n    return tokens.asset_symbol_to_price(symbol);\n  }\n\n  getTokenName(token) {\n    let result = tokens.asset_symbol_to_name(token);\n    if (isUndefined(result)) {\n      return '';\n    }\n    return result;\n  }\n\n  checkRouterURL(route) {\n    return this.router.url === route;\n  }\n\n  agreementsChecked() {\n    for (var checked of this.checkboxes) {\n      if (!checked) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n","<!-- HEADER -->\n<div class=\"header\">\n  <div class=\"container-fluid px-md-5\">\n    <!-- Body -->\n    <div class=\"header-body\">\n      <div class=\"row align-items-end\">\n        <div class=\"col\">\n          <!-- Title -->\n          <h1 class=\"header-title\" i18n=\"@@marketHeaderTitle\">\n            Market\n          </h1>\n        </div>\n      </div> <!-- / .row -->\n    </div> <!-- / .header-body -->\n  </div>\n</div> <!-- / .header -->\n<!-- CARDS -->\n<div class=\"container-fluid pb-6 px-md-5\">\n  <div class=\"row\">\n    <div class=\"col-12\">\n      <!-- Card -->\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <div class=\"row align-items-center\">\n            <div class=\"col\">\n              <!-- Title -->\n              <h4 class=\"card-header-title\" i18n=\"@@marketPrice&Trends\">\n                Prices & Trends\n              </h4>\n            </div>\n            <div class=\"col-auto\">\n              <!-- Refresh -->\n              <button class=\"btn btn-sm btn-white\" type=\"button\" name=\"button\" (click)=\"refresh()\">\n                <i class=\"fe fe-refresh-cw align-middle\" *ngIf=\"isLoading() == false\"></i>\n                <div class=\"spinner-grow spinner-grow-sm\" role=\"status\" *ngIf=\"isLoading()\">\n                  <span class=\"sr-only\" i18n=\"@@refreshBtnLoad\">Loading...</span>\n                </div>\n              </button>\n            </div>\n          </div> <!-- / .row -->\n        </div>\n        <div class=\"card-header\">\n          <div class=\"row\">\n            <div class=\"col-12\">\n              <!-- Form -->\n              <form>\n                <div class=\"input-group input-group-flush input-group-merge\">\n                  <input type=\"search\" class=\"form-control form-control-prepended search\"\n                    (keyup)=\"filterTable($event,'market-table',0)\" placeholder=\"Search\">\n                  <div class=\"input-group-prepend\">\n                    <div class=\"input-group-text\">\n                      <span class=\"fe fe-search\"></span>\n                    </div>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div> <!-- / .row -->\n        </div>\n\n        <div class=\"table-responsive\" data-toggle=\"lists\"\n          data-options='{\"valueNames\": [\"tables-price\", \"tables-24h-change\", \"tables-24h-volume\", \"tables-7d-change\", \"tables-1m-change\"]}'>\n          <table class=\"table table-sm table-nowrap card-table\">\n            <thead>\n              <tr>\n                <th scope=\"col\">\n                  <a class=\"text-muted\" i18n=\"@@marketThAsset\">Asset</a>\n                </th>\n                <th scope=\"col\">\n                  <a href=\"\" class=\"text-muted sort\" data-sort=\"tables-price\" i18n=\"@@price\">Price (DAI)</a>\n                </th>\n                <th scope=\"col\">\n                  <a href=\"\" class=\"text-muted sort\" data-sort=\"tables-24h-volume\" i18n=\"@@marketTh24hVol\">24h Volume (USD)</a>\n                </th>\n                <th scope=\"col\">\n                  <a href=\"\" class=\"text-muted sort\" data-sort=\"tables-24h-change\" i18n=\"@@24hChange\">24h Change</a>\n                </th>\n                <th scope=\"col\">\n                  <a href=\"\" class=\"text-muted sort\" data-sort=\"tables-7d-change\" i18n=\"@@marketTh7dChange\">7d Change</a>\n                </th>\n                <th scope=\"col\">\n                  <a href=\"\" class=\"text-muted sort\" data-sort=\"tables-1m-change\" i18n=\"@@marketTh1mChange\">1m Change</a>\n                </th>\n              </tr>\n            </thead>\n            <tbody class=\"list\" id=\"market-table\">\n              <tr *ngFor=\"let token of tokenData\">\n                <td scope=\"row\">\n                  <div class=\"media\">\n                    <span class=\"avatar avatar-xs align-self-center mr-3\">\n                      <img src={{token.logoUrl}} alt=\"{{token.symbol}} token logo\" class=\"avatar-img rounded-circle\">\n                    </span>\n                    <div class=\"media-body\">\n                      <h5 class=\"mb-1\">{{token.symbol}}</h5>\n                      <span\n                        class=\"small text-muted\">{{ token.name.length > 12 ? (token.name | slice:0:12)+'..':(token.name) }}</span>\n                    </div>\n                  </div>\n                </td>\n                <td class=\"tables-price\">\n                  {{token.price.toFixed(6)}}\n                </td>\n                <td class=\"tables-24h-volume\">\n                  {{token.dailyVolume.toFixed(6)}}\n                </td>\n                <td class=\"tables-24h-change\">\n                  <span class=\"badge badge-xl\"\n                    [ngClass]=\"{'badge-soft-success': +token.dailyPriceChange >= 0, 'badge-soft-danger': 0 > +token.dailyPriceChange}\">\n                    {{token.dailyPriceChange.isNaN() ? 'Not available' : token.dailyPriceChange.toFixed(4) + '%'}}\n                  </span>\n                </td>\n                <td class=\"tables-7d-change\">\n                  <span class=\"badge badge-xl\"\n                    [ngClass]=\"{'badge-soft-success': +token.weeklyPriceChange >= 0, 'badge-soft-danger': 0 > +token.weeklyPriceChange}\">\n                    {{token.weeklyPriceChange.isNaN() ? 'Not available' : token.weeklyPriceChange.toFixed(4) + '%'}}\n                  </span>\n                </td>\n                <td class=\"tables-1m-change\">\n                  <span class=\"badge badge-xl\"\n                    [ngClass]=\"{'badge-soft-success': +token.monthlyPriceChange >= 0, 'badge-soft-danger': 0 > +token.monthlyPriceChange}\">\n                    {{token.monthlyPriceChange.isNaN() ? 'Not available' : token.monthlyPriceChange.toFixed(4) + '%'}}\n                  </span>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div> <!-- / .row -->\n  <a href=\"https://github.com/solidified-platform/audits/blob/master/Audit%20Report%20-%20%20Betoken%20%5B20.05.2019%5D.pdf\"\n    target=\"_blank\">\n    <div class=\"row align-items-center justify-content-center\">\n      <div class=\"col-auto mb-2 mb-lg-0\">\n        <div class=\"avatar avatar-sm\">\n          <img class=\"avatar-img rounded-circle bg-secondary\" src=\"assets/img/solidified-logo.png\"\n            alt=\"Solidified logo\">\n        </div>\n      </div>\n      <div class=\"col-auto\">\n        <p class=\"small text-secondary mb-0 text-center\" i18n=\"@@solidifiedAudit\">Betoken Smart Contracts are audited and secured by Solidified\n        </p>\n      </div>\n      <div class=\"col-auto\">\n        <i class=\"fe fe-arrow-right text-secondary\"></i>\n      </div>\n    </div>\n  </a>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { tokens, loading, refresh_actions, sortTable } from '../../betokenjs/helpers';\nimport BigNumber from 'bignumber.js';\n\ndeclare var $: any;;\n\n@Component({\n    selector: 'app-market',\n    templateUrl: './market.component.html'\n})\n\nexport class MarketComponent implements OnInit {\n\n    tokenData: Array<Object>;\n\n    constructor() { }\n\n    ngOnInit() {\n        this.refreshDisplay();\n    }\n\n    ngAfterViewInit() {\n        sortTable();\n    }\n\n    refreshDisplay() {\n        this.tokenData = tokens.token_data().filter((x) => tokens.not_stablecoin(x.symbol));\n    }\n\n    async refresh() {\n        await refresh_actions.prices();\n        this.refreshDisplay();\n    }\n\n    isLoading() {\n        return loading.prices();\n    }\n\n    filterTable = (event, tableID, searchID) => {\n        let searchInput = event.target.value.toLowerCase();\n        let entries = $(`#${tableID} tr`);\n        for (let i = 0; i < entries.length; i++) {\n            let entry = entries[i];\n            let searchTarget = entry.children[searchID];\n            if (searchTarget) {\n                if (searchTarget.innerText.toLowerCase().indexOf(searchInput) > -1)\n                    entry.style.display = \"\";\n                else\n                    entry.style.display = \"none\";\n            }\n        }\n    }\n}\n","<!-- HEADER -->\n<div class=\"header\">\n  <div class=\"container-fluid px-md-5\">\n    <!-- Body -->\n    <div class=\"header-body\">\n      <div class=\"row align-items-end\">\n        <div class=\"col\">\n          <!-- Title -->\n          <h1 class=\"header-title\" i18n=\"@@rankingsHeaderTitle\">\n            Managers Ranking\n          </h1>\n        </div>\n      </div> <!-- / .row -->\n    </div> <!-- / .header-body -->\n  </div>\n</div> <!-- / .header -->\n<!-- CARDS -->\n<div class=\"container-fluid pb-6 px-md-5\">\n  <div class=\"row\">\n    <div class=\"col-12\">\n      <!-- Card -->\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <div class=\"row align-items-center\">\n            <div class=\"col\">\n              <!-- Title -->\n              <h4 class=\"card-header-title\" i18n=\"@@rankingsKroBalance&Return\">\n                Kairo balance & current ROI\n              </h4>\n            </div>\n            <div class=\"col-auto\">\n              <!-- Refresh -->\n              <button class=\"btn btn-sm btn-white\" type=\"button\" name=\"button\" (click)=\"refreshDisplay()\">\n                <i class=\"fe fe-refresh-cw align-middle\" *ngIf=\"isLoading == false\"></i>\n                <div class=\"spinner-grow spinner-grow-sm\" role=\"status\" *ngIf=\"isLoading\">\n                  <span class=\"sr-only\" i18n=\"@@refreshBtnLoad\">Loading...</span>\n                </div>\n              </button>\n            </div>\n          </div> <!-- / .row -->\n        </div>\n        <div class=\"card-header\">\n          <div class=\"row\">\n            <div class=\"col-12\">\n              <!-- Form -->\n              <form>\n                <div class=\"input-group input-group-flush input-group-merge\">\n                  <input type=\"search\" class=\"form-control form-control-prepended search\"\n                    (keyup)=\"filterTable($event,'rankings-table',1)\" i18n-placeholder=\"@@rankingsSearchPlaceholder\" placeholder=\"Search\">\n                  <div class=\"input-group-prepend\">\n                    <div class=\"input-group-text\">\n                      <span class=\"fe fe-search\"></span>\n                    </div>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div> <!-- / .row -->\n        </div>\n        <div class=\"table-responsive\" data-toggle=\"lists\"\n          data-options='{\"valueNames\": [\"tables-rank\", \"tables-kairo-balance\", \"tables-roi\", \"tables-commission\"]}'>\n          <table class=\"table table-sm table-nowrap card-table\">\n            <thead>\n              <tr>\n                <th>\n                  <a href=\"\" class=\"text-muted sort\" data-sort=\"tables-rank\" i18n=\"@@rankingsThRank\">Rank</a>\n                </th>\n                <th class=\"text-muted sort\" i18n=\"@@rankingsThWalletAddress\">\n                  Manager\n                </th>\n                <th>\n                  <a href=\"\" class=\"text-muted sort\" data-sort=\"tables-kairo-balance\" i18n=\"@@rankingsKroBalance\">Kairo Balance</a>\n                </th>\n                <th>\n                  <a href=\"\" class=\"text-muted sort\" data-sort=\"tables-roi\" i18n=\"@@rankingsThCurrentMoRoi\">Current Month ROI</a>\n                </th>\n                <th>\n                  <a href=\"\" class=\"text-muted sort\" data-sort=\"tables-commission\" i18n=\"@@totalCommissionsReceived\">Total Commission Received</a>\n                </th>\n              </tr>\n            </thead>\n            <tbody class=\"list\" id=\"rankings-table\">\n              <tr class=\"bg-dark text-white\">\n                <td class=\"align-middle\">\n                  <strong>{{userRanking}}</strong>\n                </td>\n                <td class=\"align-middle\">\n                  <i class=\"fe fe-star text-warning ml-2\" i18n=\"@@rankingsYou\"></i> You\n                </td>\n                <td class=\"align-middle\">\n                  {{userValue.toFixed(6)}}\n                </td>\n                <td class=\"align-middle\">\n                  <!-- Badge -->\n                  <span class=\"badge badge-xl\"\n                    [ngClass]=\"{'badge-soft-success': userROI.gt(0), 'badge-soft-danger': !(userROI.gt(0))}\">\n                    {{handleNaN(userROI.toFixed(6))}}%\n                  </span>\n                </td>\n                <td class=\"align-middle\">\n                  {{userTotalCommission.toFixed(6)}}\n                </td>\n              </tr>\n              <tr *ngFor=\"let ranking of rankingArray; let i=index\">\n                <td class=\"align-middle tables-rank\">\n                  <strong>{{i+1}}</strong>\n                </td>\n                <td class=\"align-middle\">\n                  <span class=\"d-block text-truncate\" style=\"width: 6rem;\">{{ranking.id}}</span>\n                  <a href=\"https://betoken.fund/friends\" class=\"badge badge-soft-primary\" *ngIf=\"isSupporter(ranking.id)\" i18n=\"@@rankingsFriendsOfBetokenBadge\" target=\"_blank\">\n                    Betoken Evangelist\n                  </a>\n                </td>\n                <td class=\"align-middle tables-kairo-balance\">\n                  {{getManagerKairoBalance(ranking).toFixed(6)}}\n                </td>\n                <td class=\"align-middle tables-roi\">\n                  <!-- Badge -->\n                  <span class=\"badge badge-xl\"\n                    [ngClass]=\"{'badge-soft-success': +ranking.kairoBalanceWithStake >= +ranking.baseStake, 'badge-soft-danger': +ranking.baseStake > +ranking.kairoBalanceWithStake}\">\n                    {{handleNaN(getManagerKairoBalance(ranking).div(ranking.baseStake).minus(1).times(100).toFixed(6))}}%\n                  </span>\n                </td>\n                <td class=\"align-middle tables-commission\">\n                  {{formatNumber(ranking.totalCommissionReceived)}}\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n  </div> <!-- / .row -->\n  <a href=\"https://github.com/solidified-platform/audits/blob/master/Audit%20Report%20-%20%20Betoken%20%5B20.05.2019%5D.pdf\"\n    target=\"_blank\">\n    <div class=\"row align-items-center justify-content-center\">\n      <div class=\"col-auto mb-2 mb-lg-0\">\n        <div class=\"avatar avatar-sm\">\n          <img class=\"avatar-img rounded-circle bg-secondary\" src=\"assets/img/solidified-logo.png\"\n            alt=\"Solidified logo\">\n        </div>\n      </div>\n      <div class=\"col-auto\">\n        <p class=\"small text-secondary mb-0 text-center\" i18n=\"@@solidifiedAudit\">Betoken Smart Contracts are audited and secured by Solidified\n        </p>\n      </div>\n      <div class=\"col-auto\">\n        <i class=\"fe fe-arrow-right text-secondary\"></i>\n      </div>\n    </div>\n  </a>\n</div>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { user, stats, sortTable, timer } from '../../betokenjs/helpers';\n\nimport { ApolloEnabled } from '../apollo';\nimport { Apollo } from 'apollo-angular';\nimport gql from 'graphql-tag';\n\nimport { } from 'jquery';\nimport BigNumber from 'bignumber.js';\nimport { isNull, isUndefined } from 'util';\ndeclare var $: any;;\n\n@Component({\n    selector: 'app-rankings',\n    templateUrl: './rankings.component.html'\n})\n\nexport class RankingsComponent extends ApolloEnabled implements OnInit, OnDestroy {\n    rankingArray: any;\n    userRanking: String;\n    userValue: BigNumber;\n    userROI: BigNumber;\n    userTotalCommission: BigNumber;\n    isLoading: Boolean;\n\n    constructor(private apollo: Apollo) {\n        super();\n        this.rankingArray = null;\n        this.userRanking = '';\n        this.userValue = new BigNumber(0);\n        this.userROI = new BigNumber(0);\n        this.userTotalCommission = new BigNumber(0);\n        this.isLoading = true;\n    }\n\n    ngOnInit() {\n        this.createQuery();\n    }\n\n    createQuery() {\n        let userAddress = user.address().toLowerCase();\n        this.query = this.apollo\n            .watchQuery({\n                pollInterval: 300000,\n                fetchPolicy: 'cache-and-network',\n                query: gql`\n                    {\n                        managers(orderBy: \"${timer.phase() == 0 ? 'kairoBalance' : 'kairoBalanceWithStake'}\", orderDirection: desc, first: 1000) {\n                            id\n                            kairoBalance\n                            kairoBalanceWithStake\n                            baseStake\n                            totalCommissionReceived\n                        }\n                        manager(id: \"${userAddress}\") {\n                            kairoBalance\n                            kairoBalanceWithStake\n                            baseStake\n                            totalCommissionReceived\n                        }\n                    }\n                `\n            });\n        this.querySubscription = this.query.valueChanges.subscribe((result) => this.handleQuery(result));\n    }\n\n    handleQuery({ data, loading }) {\n        this.isLoading = loading || isUndefined(loading);\n        if (!loading) {\n            this.rankingArray = data['managers'];\n            setTimeout(sortTable, 100);\n            let userAddress = user.address().toLowerCase();\n\n            this.userRanking = this.rankingArray.findIndex((x) => x.id === userAddress) + 1;\n            let userData = data['manager'];\n            if (!isNull(userData)) {\n                this.userValue = this.getManagerKairoBalance(userData);\n                this.userROI = this.userValue.div(userData.baseStake).minus(1).times(100);\n                this.userTotalCommission = new BigNumber(userData.totalCommissionReceived);\n            }\n        }\n    }\n\n    refreshDisplay() {\n        this.isLoading = true;\n\n        this.query.refetch().then((result) => this.handleQuery(result));\n    }\n\n    formatNumber(n) {\n        return new BigNumber(n).toFixed(6);\n    }\n\n    isSupporter(_addr) {\n        return stats.is_supporter(_addr);\n    }\n\n    handleNaN(n) {\n        if (n === 'NaN') {\n            return '0.000000';\n        }\n        return n;\n    }\n\n    filterTable = (event, tableID, searchID) => {\n        let searchInput = event.target.value.toLowerCase();\n        let entries = $(`#${tableID} tr`);\n        for (let i = 0; i < entries.length; i++) {\n            let entry = entries[i];\n            let searchTarget = entry.children[searchID];\n            if (searchTarget) {\n                if (searchTarget.innerText.toLowerCase().indexOf(searchInput) > -1)\n                    entry.style.display = \"\";\n                else\n                    entry.style.display = \"none\";\n            }\n        }\n    }\n}\n","<!-- NAVIGATION -->\n\n<nav class=\"navbar navbar-vertical fixed-left navbar-expand-md navbar-light py-1\" id=\"sidebar\">\n  <div class=\"container-fluid\">\n\n    <!-- Toggler -->\n    <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#sidebarCollapse\"\n      aria-controls=\"sidebarCollapse\" aria-expanded=\"false\" i18n-aria-label=\"@@sidebarBurgerIconAriaLabel\"\n      aria-label=\"Toggle navigation\">\n      <span class=\"navbar-toggler-icon\"></span>\n    </button>\n\n    <!-- Brand -->\n    <a class=\"navbar-brand d-flex align-items-center pt-lg-3 pb-lg-4\" href=\"https://betoken.fund/#/dashboard\">\n      <img src=\"assets/img/logo.svg\" alt=\"Betoken logo\" class=\"navbar-brand-img\" height=\"36\">\n      <span class=\"ml-2 h3 mb-0 d-none d-lg-inline-block\">Betoken</span>\n    </a>\n\n    <!-- notification -->\n    <div class=\"navbar-toggler d-flex d-md-none align-items-center\">\n      <!-- Toggle -->\n      <a class=\"d-inline block mr-4\" data-toggle=\"modal\" href=\"#modalLanguage\">\n        <span class=\"icon\">\n          <img src=\"assets/img/icons/baseline-translate-24px.svg\" alt=\"\">\n        </span>\n      </a>\n      <!-- Toggle -->\n      <a href=\"#\" class=\"text-muted\" data-toggle=\"modal\" href=\"#modalEmailUpdates\">\n        <span class=\"icon active mt-3\">\n          <i class=\"fe fe-bell\"></i>\n        </span>\n      </a>\n    </div>\n\n    <!-- Collapse -->\n    <div class=\"collapse navbar-collapse\" id=\"sidebarCollapse\">\n      <!-- Mobile time count-down -->\n      <div class=\"navbar-text px-3 pb-0 pb-2 w-100 justify-content-center text-center d-md-none\">\n        <h6 class=\"header-pretitle mb-1\">\n          <ng-container i18n=\"@@timeCounterTitle\">Time left</ng-container>&nbsp;\n          <ng-container *ngIf=\"phase == 0\" i18n=\"@@timeCounterActionIntermission\">until managing begins</ng-container>\n          <ng-container *ngIf=\"phase == 1\" i18n=\"@@timeCounterActionManage\">to manage</ng-container>\n        </h6>\n        <h4 class=\"header-title\">\n          {{days}}<ng-container i18n=\"@@timeLeftInDays\">d</ng-container>&nbsp;{{hours}}<ng-container i18n=\"@@timeLeftInHours\">h</ng-container>&nbsp;{{minutes}}<ng-container i18n=\"@@timeLeftInMinutes\">m</ng-container>&nbsp;{{seconds}}<ng-container i18n=\"@@timeLeftInSeconds\">s</ng-container>\n        </h4>\n      </div>\n      <hr class=\"navbar-divider my-3 d-lg-none\">\n      <!-- cta -->\n      <div class=\"d-none d-md-block\" *ngIf=\"checkRouterURL('/investing-dashboard') === false\">\n        <!--Provide onboarding for prospective managers with no Kairo-->\n        <a class=\"btn btn-success btn-block mb-4\" href=\"#/start-managing\" *ngIf=\"!isManager\"\n          i18n=\"@@ctaBecomeManager\">Become a Manager</a>\n        <!--Provide actions for existing managers-->\n        <span *ngIf=\"isManager\">\n          <button class=\"btn btn-success btn-block mb-4\" routerLink=\"/investments\" type=\"button\" data-toggle=\"modal\"\n            data-target=\"#modalBuy\" *ngIf=\"phase == 1\"><i class=\"fe fe-plus mr-1\"></i><ng-container i18n=\"@@ctaMakeInvestments\">Make Investments</ng-container></button>\n          <button class=\"btn btn-success btn-block mb-4\" routerLink=\"/commissions\" type=\"button\" data-toggle=\"modal\"\n            data-target=\"#modalRedeem\" *ngIf=\"can_redeem_commission\"><i\n              class=\"fe fe-dollar-sign mr-1\"></i><ng-container i18n=\"@@ctaRedeemCommissions\">Redeem Commission</ng-container></button>\n        </span>\n        <button class=\"btn btn-success btn-block mb-4\" type=\"button\"\n          *ngIf=\"days == 0 && hours == 0 && minutes == 0 && 1 >= seconds\" (click)=\"nextPhase()\"><i\n            class=\"fe fe-skip-forward mr-1\"></i><ng-container i18n=\"@@ctaNextPhase\">Next Phase</ng-container></button>\n      </div>\n      <!-- cta -->\n      <div class=\"d-none d-md-flex mb-4\" *ngIf=\"checkRouterURL('/investing-dashboard') === true\">\n        <!--Action buttons-->\n        <button class=\"btn btn-success\" type=\"button\" data-toggle=\"modal\" data-target=\"#modalInvestorBuy\"\n          i18n=\"@@ctaBuyBtks\">Buy BTKS</button>\n        <button class=\"btn btn-white ml-auto\" type=\"button\" data-toggle=\"modal\" data-target=\"#modalInvestorSell\"\n          i18n=\"@@ctaSellBtks\">Sell BTKS</button>\n      </div>\n      <!-- Navigation -->\n      <ul class=\"navbar-nav\">\n        <li class=\"nav-item\">\n          <a class=\"nav-link\" href=\"#sidebarDashboards\" data-toggle=\"collapse\" role=\"button\" aria-expanded=\"true\"\n            aria-controls=\"sidebarDashboards\">\n            <i class=\"fe fe-activity mr-1\"></i><ng-container i18n=\"@@sidebarToggleManage\">Manage</ng-container>\n          </a>\n          <div class=\"collapse show\" id=\"sidebarDashboards\">\n            <ul class=\"nav nav-sm flex-column\">\n              <li class=\"nav-item\" data-toggle=\"collapse\" data-target=\"#sidebarCollapse\">\n                <a href=\"#/dashboard\" class=\"nav-link\" i18n=\"@@sidebarNavDashboard\">\n                  Dashboard\n                </a>\n              </li>\n              <li class=\"nav-item\" data-toggle=\"collapse\" data-target=\"#sidebarCollapse\">\n                <a href=\"#/investments\" class=\"nav-link\" i18n=\"@@sidebarNavInvestments\">\n                  Investments\n                </a>\n              </li>\n              <li class=\"nav-item\" data-toggle=\"collapse\" data-target=\"#sidebarCollapse\">\n                <a href=\"#/market\" class=\"nav-link\" i18n=\"@@sidebarNavMarket\">\n                  Market\n                </a>\n              </li>\n              <li class=\"nav-item\" data-toggle=\"collapse\" data-target=\"#sidebarCollapse\">\n                <a href=\"#/rankings\" class=\"nav-link\" i18n=\"@@sidebarNavRankings\">\n                  Rankings\n                </a>\n              </li>\n              <li class=\"nav-item\" data-toggle=\"collapse\" data-target=\"#sidebarCollapse\">\n                <a href=\"#/commissions\" class=\"nav-link\" i18n=\"@@sidebarNavCommissions\">\n                  Commissions\n                </a>\n              </li>\n              <li class=\"nav-item\" data-toggle=\"collapse\" data-target=\"#sidebarCollapse\">\n                <a href=\"#/upgrades\" class=\"nav-link\" i18n=\"@@sidebarNavUpgrade\">\n                  Upgrade Governance\n                </a>\n              </li>\n            </ul>\n          </div>\n        </li>\n        <li class=\"nav-item\" data-toggle=\"collapse\" data-target=\"#sidebarCollapse\">\n          <a class=\"nav-link\" href=\"#/invest\">\n            <i class=\"fe fe-dollar-sign mr-1\"></i><ng-container i18n=\"@@sidebarToggleInvest\">Invest</ng-container>\n          </a>\n        </li>\n      </ul>\n\n      <!-- Divider -->\n      <hr class=\"navbar-divider my-3\">\n      <!-- Navigation -->\n      <ul class=\"nav justify-content-center mb-md-2\">\n        <li class=\"nav-item\">\n          <a class=\"nav-link text-secondary small\" href=\"https://betoken.gitbook.io/docs/\" target=\"_blank\"\n            i18n=\"@@sidebarNavHelp\">\n            Help\n          </a>\n        </li>\n        <li class=\"nav-item\">\n          <a class=\"nav-link text-secondary small\" href=\"https://forms.gle/wMqgREw61Y81r6y27\" target=\"_blank\"\n            i18n=\"@@sidebarNavRateUs\">\n            Rate us\n          </a>\n        </li>\n      </ul>\n      <form id=\"switchColor\">\n        <div class=\"btn-group-toggle d-flex btn-group-sm py-4 py-md-2\" data-toggle=\"buttons\">\n          <label class=\"btn btn-white col\">\n            <input type=\"radio\" name=\"colorScheme\" id=\"colorSchemeLight\" i18n-value=\"@@sidebarColorSchemeValueLight\"\n              value=\"light\" onchange=\"document.getElementById('switchColor').submit()\"> <i\n              class=\"fe fe-sun align-middle\"></i>\n          </label>\n          <label class=\"btn btn-white col ml-2\">\n            <input type=\"radio\" name=\"colorScheme\" id=\"colorSchemeDark\" i18n-value=\"@@sidebarColorSchemeValueDark\"\n              value=\"dark\" onchange=\"document.getElementById('switchColor').submit()\"> <i\n              class=\"fe fe-moon align-middle\"></i>\n          </label>\n        </div>\n      </form>\n\n      <!-- Push content down -->\n      <div class=\"mt-auto\"></div>\n\n    </div> <!-- / .navbar-collapse -->\n\n  </div>\n</nav>\n\n<nav class=\"navbar fixed-bottom d-md-none\" *ngIf=\"checkRouterURL('/investing-dashboard') === false\">\n  <div class=\"container px-0\">\n    <!--Provide onboarding for prospective managers with no Kairo-->\n    <a class=\"btn btn-success btn-block\" href=\"#/start-managing\" *ngIf=\"!isManager\" i18n=\"@@ctaBecomeManager\">\n      Become a Manager\n    </a>\n\n    <!--Provide actions for existing managers-->\n    <button class=\"btn btn-success btn-block\" routerLink=\"/investments\" type=\"button\" data-toggle=\"modal\"\n      data-target=\"#modalBuy\" *ngIf=\"phase == 1 && isManager\" i18n=\"@@ctaMakeInvestments\">Make Investments</button>\n    <button class=\"btn btn-success btn-block\" routerLink=\"/commissions\" type=\"button\" data-toggle=\"modal\"\n      data-target=\"#modalRedeem\" *ngIf=\"can_redeem_commission && isManager\" i18n=\"@@ctaRedeemCommissions\">Redeem\n      Commission</button>\n\n    <button class=\"btn btn-success btn-block\" type=\"button\"\n      *ngIf=\"days == 0 && hours == 0 && minutes == 0 && 1 >= seconds && isManager\" (click)=\"nextPhase()\"\n      i18n=\"@@ctaNextPhase\">Next Phase</button>\n  </div>\n</nav>\n<nav class=\"navbar fixed-bottom d-md-none\" *ngIf=\"checkRouterURL('/investing-dashboard') === true\">\n  <div class=\"btn-group btn-block\" role=\"group\" aria-label=\"Basic example\">\n    <button class=\"btn btn-success w-50\" type=\"button\" data-toggle=\"modal\" data-target=\"#modalInvestorBuy\"\n      i18n=\"@@ctaBuyBtks\">Buy BTKS</button>\n    <button class=\"btn btn-white w-50 \" type=\"button\" data-toggle=\"modal\" data-target=\"#modalInvestorSell\"\n      i18n=\"@@ctaSellBtks\">Sell BTKS</button>\n  </div>\n</nav>\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { user, timer, manager_actions } from '../../betokenjs/helpers';\nimport { BigNumber } from 'bignumber.js';\n\nimport { ApolloEnabled } from '../apollo';\nimport { Apollo } from 'apollo-angular';\nimport gql from 'graphql-tag';\nimport { isNull } from 'util';\n\n@Component({\n  selector: 'app-side-nav',\n  templateUrl: './side-nav.component.html'\n})\n\nexport class SideNavComponent extends ApolloEnabled implements OnInit {\n  days: Number;\n  hours: Number;\n  minutes: Number;\n  seconds: Number;\n  phase: Number;\n\n  ZERO_ADDR = '0x0000000000000000000000000000000000000000';\n  can_redeem_commission: boolean;\n  isManager: Boolean;\n\n  constructor(private router: Router, private apollo: Apollo) {\n    super();\n    this.days = 0;\n    this.hours = 0;\n    this.minutes = 0;\n    this.seconds = 0;\n    this.phase = 0;\n\n    this.isManager = true;\n    this.can_redeem_commission = false;\n  }\n\n  ngOnInit() {\n    this.refreshDisplay();\n    setInterval(() => this.updateTimer(), 1000);\n  }\n\n  updateTimer() {\n    this.days = timer.day();\n    this.hours = timer.hour();\n    this.minutes = timer.minute();\n    this.seconds = timer.second();\n  }\n\n  refreshDisplay() {\n    let userAddress = user.address().toLowerCase();\n    this.querySubscription = this.apollo\n      .watchQuery({\n        pollInterval: 300000,\n        fetchPolicy: 'cache-and-network',\n        query: gql`\n          {\n            fund(id: \"BetokenFund\") {\n              cyclePhase\n              cycleNumber\n            }\n            manager(id: \"${userAddress}\") {\n              lastCommissionRedemption\n            }\n          }\n        `\n      })\n      .valueChanges.subscribe(({ data, loading }) => {\n        if (!loading) {\n          let fund = data['fund'];\n          let manager = data['manager'];\n\n          this.isManager = !isNull(manager);\n          this.phase = fund.cyclePhase === 'INTERMISSION' ? 0 : 1;\n\n          if (this.isManager) {\n            this.can_redeem_commission = this.phase == 0 && +manager.lastCommissionRedemption < +fund.cycleNumber && userAddress !== this.ZERO_ADDR;\n          }\n        }\n      });\n  }\n\n  checkRouterURL(route) {\n    return this.router.url === route;\n  }\n\n  nextPhase() {\n    manager_actions.nextPhase();\n  }\n}\n","<!-- HEADER -->\n<div class=\"header\">\n  <div class=\"container-fluid px-md-5\">\n    <!-- Body -->\n    <div class=\"header-body\">\n      <div class=\"row align-items-end\">\n        <div class=\"col\">\n          <!-- Title -->\n          <h1 class=\"header-title\" i18n=\"@@upgradeHeaderTitle\">\n            Upgrade Governance\n          </h1>\n        </div>\n      </div> <!-- / .row -->\n    </div> <!-- / .header-body -->\n  </div>\n</div> <!-- / .header -->\n<!-- CARDS -->\n<div class=\"container-fluid pb-6 px-md-5\">\n  <div class=\"row\">\n    <div class=\"col-12\">\n      <!-- Active trades -->\n      <div class=\"card\">\n        <div class=\"card-header\">\n          <div class=\"row align-items-center\">\n            <div class=\"col\">\n              <!-- Title -->\n              <h4 class=\"card-header-title\" i18n=\"@@upgradeCardTitle\">\n                Upgrade proposals\n              </h4>\n            </div>\n          </div> <!-- / .row -->\n        </div>\n        <ul class=\"list-group list-group-flush list\">\n          <li class=\"list-group-item justify-content-center text-center pt-5 px-4\">\n            <h3 class=\"mb-4\" i18n=\"@@upgradeCardSubtitle\">No active upgrade proposals</h3>\n            <p class=\"mb-6\" i18n=\"@@upgradeCardText\">During the Intermission phase of each cycle, the managers may decide to initiate an upgrade via a simple majority vote using their Kairo tokens. If the vote passed, then during the Manage phase, managers may use their Kairo tokens to vote on which smart contract should be accepted as the new version. <a href=\"https://betoken.gitbook.io/docs/govern/what-is-the-upgrade-governance\" target=\"_blank\">Learn more</a></p>\n            <!-- Time left until next intermission phase -->\n            <h6 class=\"header-pretitle text-secondary mb-2 text-center\" i18n=\"@@upgradeCardSubtitle2\">\n              Time of the upgrade governance system's activation\n            </h6>\n            <h4 class=\"header-title mb-4 text-center\" i18n=\"@@upgradeCardTimeLeft\">\n              7:30AM UTC, September 29th, 2019\n            </h4>\n            <img class=\"mb-4 image-fluid w-50 mx-auto d-block\" src=\"assets/img/illustrations/undraw_queue_qt30.svg\" i18n-alt=\"@@upgradeCardTimeLeftIllustrationAttrAlt\" alt=\"illustration Woman and dog with a active spinner\">\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div> <!-- / .row -->\n  <a href=\"https://github.com/solidified-platform/audits/blob/master/Audit%20Report%20-%20%20Betoken%20%5B20.05.2019%5D.pdf\" target=\"_blank\">\n    <div class=\"row align-items-center justify-content-center\">\n      <div class=\"col-auto mb-2 mb-lg-0\">\n        <div class=\"avatar avatar-sm\">\n          <img class=\"avatar-img rounded-circle bg-secondary\" src=\"assets/img/solidified-logo.png\" alt=\"Solidified logo\">\n        </div>\n      </div>\n      <div class=\"col-auto\">\n        <p class=\"small text-secondary mb-0 text-center\" i18n=\"@@solidifiedAudit\">Betoken Smart Contracts are audited and secured by Solidified</p>\n      </div>\n      <div class=\"col-auto\">\n        <i class=\"fe fe-arrow-right text-secondary\"></i>\n      </div>\n    </div>\n  </a>\n</div>\n","import {Component, OnInit} from '@angular/core';\nimport { AppComponent } from '../app.component';\nimport { user, timer, manager_actions, loading, tokens, refresh_actions} from '../../betokenjs/helpers';\nimport BigNumber from 'bignumber.js';\nimport { isUndefined } from 'util';\n\ndeclare var $ :any;\n\n@Component({\n    selector: 'app-proposal',\n    templateUrl: './upgrade.component.html'\n})\n\nexport class UpgradeComponent implements OnInit {\n\n    constructor(private ms: AppComponent) {\n    }\n\n    ngOnInit() {\n    }\n}\n","// imports\nimport BigNumber from \"bignumber.js\";\nimport { isNull } from \"util\";\nconst Web3 = require('web3');\nconst bnc = require('bnc-assist');\n\n// constants\nexport const BETOKEN_PROXY_ADDR = \"0xC7CbB403D1722EE3E4ae61f452Dc36d71E8800DE\";\nexport const ETH_TOKEN_ADDRESS = \"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee\";\nexport const DAI_ADDR = \"0x89d24A6b4CcB1B6fAA2625fE562bDD9a23260359\";\nexport const KYBER_ADDR = \"0x818E6FECD516Ecc3849DAf6845e3EC868087B755\";\nexport const NET_ID = 1; // Mainnet\nexport const PRECISION = 1e18;\nexport const CHECK_RECEIPT_INTERVAL = 3e3; // in milliseconds\n\n// helpers\nexport const getDefaultAccount = async () => {\n    web3Instance.eth.defaultAccount = (await web3Instance.eth.getAccounts())[0];\n};\n\nexport const ERC20 = function (_tokenAddr) {\n    // add new token contract\n    var erc20ABI = require(\"./abi/ERC20.json\");\n    return new web3Instance.eth.Contract(erc20ABI, _tokenAddr);\n};\n\nexport const CompoundOrder = function (_addr) {\n    var abi = require(\"./abi/CompoundOrder.json\");\n    return new web3Instance.eth.Contract(abi, _addr);\n};\n\nexport const PositionToken = function (_addr) {\n    var abi = require(\"./abi/PositionToken.json\");\n    return new web3Instance.eth.Contract(abi, _addr);\n};\n\nexport const estimateGas = async (func, val, _onError) => {\n    return Math.floor((await func.estimateGas({\n        from: web3Instance.eth.defaultAccount,\n        value: val\n    }).catch(_onError)) * 1.2);\n};\n\nexport const sendTx = async (func, _onTxHash, _onReceipt, _onError) => {\n    var gasLimit = await estimateGas(func, 0, _onError);\n    if (!isNaN(gasLimit)) {\n        return func.send({\n            from: web3Instance.eth.defaultAccount,\n            gas: gasLimit\n        }).on(\"transactionHash\", (hash) => {\n            _onTxHash(hash);\n            let listener = setInterval(async () => {\n                let receipt = await web3Instance.eth.getTransaction(hash);\n                if (!isNull(receipt)) {\n                    _onReceipt(receipt);\n                    clearInterval(listener);\n                }\n            }, CHECK_RECEIPT_INTERVAL);\n        }).on(\"error\", (e) => {\n            if (!e.toString().contains('newBlockHeaders')) {\n                _onError(e);\n            }\n        });\n    }\n};\n\nexport const sendTxWithValue = async (func, val, _onTxHash, _onReceipt, _onError) => {\n    var gasLimit = await estimateGas(func, val, _onError);\n    if (!isNaN(gasLimit)) {\n        return func.send({\n            from: web3Instance.eth.defaultAccount,\n            gas: gasLimit,\n            value: val\n        }).on(\"transactionHash\", (hash) => {\n            _onTxHash(hash);\n            let listener = setInterval(async () => {\n                let receipt = await web3Instance.eth.getTransaction(hash);\n                if (!isNull(receipt)) {\n                    _onReceipt(receipt);\n                    clearInterval(listener);\n                }\n            }, CHECK_RECEIPT_INTERVAL);\n        }).on(\"error\", (e) => {\n            if (!e.toString().contains('newBlockHeaders')) {\n                _onError(e);\n            }\n        });\n    }\n};\n\nexport const sendTxWithToken = async (func, token, to, amount, _onTxHash, _onReceipt, _onError) => {\n    let allowance = new BigNumber(await token.methods.allowance(web3Instance.eth.defaultAccount, to).call());\n    if (allowance.gt(0)) {\n        if (allowance.gte(amount)) {\n            return this.sendTx(func, _onTxHash, _onReceipt, _onError);\n        }\n        return sendTx(token.methods.approve(to, 0), () => {\n            sendTx(token.methods.approve(to, amount), () => {\n                func.send({\n                    from: web3Instance.eth.defaultAccount,\n                    gasLimit: \"3000000\"\n                }).on(\"transactionHash\", (hash) => {\n                    _onTxHash(hash);\n                    let listener = setInterval(async () => {\n                        let receipt = await web3Instance.eth.getTransaction(hash);\n                        if (!isNull(receipt)) {\n                            _onReceipt(receipt);\n                            clearInterval(listener);\n                        }\n                    }, CHECK_RECEIPT_INTERVAL);\n                }).on(\"error\", (e) => {\n                    if (!e.toString().contains('newBlockHeaders')) {\n                        _onError(e);\n                    }\n                });\n            }, doNothing, _onError);\n        }, doNothing, _onError);\n    } else {\n        return sendTx(token.methods.approve(to, amount), () => {\n            func.send({\n                from: web3Instance.eth.defaultAccount,\n                gasLimit: \"3000000\"\n            }).on(\"transactionHash\", (hash) => {\n                _onTxHash(hash);\n                let listener = setInterval(async () => {\n                    let receipt = await web3Instance.eth.getTransaction(hash);\n                    if (!isNull(receipt)) {\n                        _onReceipt(receipt);\n                        clearInterval(listener);\n                    }\n                }, CHECK_RECEIPT_INTERVAL);\n            }).on(\"error\", (e) => {\n                if (!e.toString().contains('newBlockHeaders')) {\n                    _onError(e);\n                }\n            });\n        }, doNothing, _onError);\n    }\n};\n\nexport const doNothing = () => { }\n\n// Betoken abstraction\n/**\n* Constructs an abstraction of Betoken contracts\n*/\nexport var Betoken = function () {\n    // Instance vars\n    var self;\n    self = this;\n    self.contracts = {\n        BetokenProxy: null,\n        BetokenFund: null,\n        Kairo: null,\n        Shares: null,\n        Kyber: null\n    };\n    self.hasWeb3 = false;\n    self.wrongNetwork = false;\n    self.assistInstance = null;\n    self.apiKey = \"902e9643-ad7b-44dc-a130-778bd3b29b95\";\n\n    /*\n    Object Initialization\n    */\n    self.init = async () => {\n        // initialize web3\n        await self.loadWeb3();\n\n        // Initialize BetokenProxy contract\n        var betokenProxyABI = require(\"./abi/BetokenProxy.json\");\n        var BetokenProxy = new web3Instance.eth.Contract(betokenProxyABI, BETOKEN_PROXY_ADDR);\n        self.contracts.BetokenProxy = BetokenProxy;\n\n        // Fetch address of BetokenFund\n        var betokenAddr = await BetokenProxy.methods.betokenFundAddress().call();\n\n        // Initialize BetokenFund contract\n        var betokenFundABI = require(\"./abi/BetokenFund.json\");\n        var BetokenFund = new web3Instance.eth.Contract(betokenFundABI, betokenAddr);\n        self.contracts.BetokenFund = BetokenFund;\n\n        // Initialize KyberNetwork contract\n        var kyberABI = require(\"./abi/KyberNetwork.json\");\n        var Kyber = new web3Instance.eth.Contract(kyberABI, KYBER_ADDR);\n        self.contracts.Kyber = Kyber;\n\n        // Initialize token contracts\n        var minimeABI = require(\"./abi/MiniMeToken.json\");\n        await Promise.all([\n            BetokenFund.methods.controlTokenAddr().call().then(function (_addr) {\n                // Initialize Kairo contract\n                self.contracts.Kairo = new web3Instance.eth.Contract(minimeABI, _addr);\n            }),\n            BetokenFund.methods.shareTokenAddr().call().then(function (_addr) {\n                // Initialize Shares contract\n                self.contracts.Shares = new web3Instance.eth.Contract(minimeABI, _addr);\n            })\n        ]);\n\n        window.betoken = self;\n    };\n\n    self.loadWeb3 = async () => {\n        self.hasWeb3 = false;\n        self.wrongNetwork = false;\n\n        if (typeof window.ethereum !== 'undefined') {\n            // new metamask\n            try {\n                await ethereum.enable();\n                self.hasWeb3 = true;\n                window.web3Instance = new Web3(ethereum);\n            } catch (error1) { }\n        } else {\n            // legacy metamask\n            window.web3Instance = new Web3(Web3.givenProvider);\n            self.hasWeb3 = true;\n        }\n\n        var bncAssistConfig = {\n            dappId: self.apiKey,\n            networkId: 1,\n            web3: window.web3Instance,\n            recommendedWallets: {\n                desktop: [\n                    {\n                        name: 'MetaMask',\n                        link: 'https://metamask.io/',\n                        icon: 'https://metamask.io/img/metamask.png'\n                    },\n                    {\n                        name: 'Opera',\n                        link: 'https://www.opera.com/',\n                        icon: 'https://images-na.ssl-images-amazon.com/images/I/71Y2mhDkBNL.png'\n                    }\n                    // other desktop wallets your dapp supports here\n                ],\n                mobile: [\n                    {\n                        name: 'Coinbase',\n                        link: 'https://wallet.coinbase.com/',\n                        icon: 'https://cdn-images-1.medium.com/max/1200/1*7ywNS48PnonfsvvMu1tTsA.png'\n                    },\n                    {\n                        name: 'Trust',\n                        link: 'https://trustwallet.com/',\n                        icon: 'https://uploads-ssl.webflow.com/5a88babea6e0f90001b39b0d/5a8cf5a81df25e0001d5c78d_logo_solid_square_blue%20(2).png'\n                    },\n                    {\n                        name: 'Opera Touch',\n                        link: 'https://www.opera.com/mobile/touch',\n                        icon: 'https://apps.goodereader.com/wp-content/uploads/icons/1525044654.png'\n                    },\n                    {\n                        name: 'Status',\n                        link: 'https://dev.status.im/get/',\n                        icon: 'https://cdn.investinblockchain.com/wp-content/uploads/2017/12/status-2-300x300.png?x88891'\n                    }\n                    // other mobile wallets your dapp supports here\n                ]\n            }\n        };\n        self.assistInstance = bnc.init(bncAssistConfig);\n\n        await self.assistInstance.onboard();\n    }\n\n    /*\n    Getters\n    */\n\n    /**\n    * Gets a primitive variable in BetokenFund\n    * @param  {String} _varName the name of the primitive variable\n    * @return {Promise}          .then((_value)->)\n    */\n    self.getPrimitiveVar = function (_varName) {\n        return self.contracts.BetokenFund.methods[_varName]().call();\n    };\n\n    /**\n    * Calls a mapping or an array in BetokenFund\n    * @param  {String} _name name of the mapping/array\n    * @param  {Any} _input       the input\n    * @return {Promise}              .then((_value)->)\n    */\n    self.getMappingOrArrayItem = function (_name, _input) {\n        return self.contracts.BetokenFund.methods[_name](_input).call();\n    };\n\n    /**\n    * Calls a double mapping in BetokenFund\n    * @param  {String} _mappingName name of the mapping\n    * @param  {Any} _input1      the first input\n    * @param  {Any} _input2      the second input\n    * @return {Promise}              .then((_value)->)\n    */\n    self.getDoubleMapping = function (_mappingName, _input1, _input2) {\n        return self.contracts.BetokenFund.methods[_mappingName](_input1, _input2).call();\n    };\n\n    self.getTokenSymbol = function (_tokenAddr) {\n        _tokenAddr = web3Instance.utils.toHex(_tokenAddr);\n        if (_tokenAddr === ETH_TOKEN_ADDRESS) {\n            return Promise.resolve().then(function () {\n                return \"ETH\";\n            });\n        }\n        return ERC20(_tokenAddr).methods.symbol().call();\n    };\n\n    self.getTokenDecimals = function (_tokenAddr) {\n        _tokenAddr = web3Instance.utils.toHex(_tokenAddr);\n        if (_tokenAddr === ETH_TOKEN_ADDRESS) {\n            return Promise.resolve().then(function () {\n                return 18;\n            });\n        }\n        return ERC20(_tokenAddr).methods.decimals().call();\n    };\n\n    self.getTokenBalance = function (_tokenAddr, _addr) {\n        if (_tokenAddr === web3Instance.utils.toChecksumAddress(ETH_TOKEN_ADDRESS)) {\n            return web3Instance.eth.getBalance(_addr);\n        }\n        return ERC20(_tokenAddr).methods.balanceOf(_addr).call();\n    };\n\n    self.getTokenPrice = async (_tokenAddr) => {\n        try {\n            if (web3Instance.utils.toChecksumAddress(_tokenAddr) === DAI_ADDR) {\n                return BigNumber(1);\n            }\n            let decimals = await self.getTokenDecimals(_tokenAddr);\n            var price = await self.contracts.Kyber.methods.getExpectedRate(_tokenAddr, DAI_ADDR, BigNumber(10).pow(decimals).toString()).call();\n            price = price[0];\n            return BigNumber(price).div(PRECISION);\n        } catch (e) {\n            return BigNumber(0);\n        }\n    };\n\n    self.getPTokenPrice = async (_tokenAddr, _underlyingPrice) => {\n        try {\n            let pToken = PositionToken(_tokenAddr);\n            let underlyingPerPToken = await pToken.methods.tokenPrice().call();\n            let underlying = await pToken.methods.loanTokenAddress().call();\n            if (underlying === DAI_ADDR) {\n                return BigNumber(underlyingPerPToken).div(PRECISION);\n            }\n            return BigNumber(underlyingPerPToken).div(PRECISION).times(_underlyingPrice);\n        } catch (e) {\n            return BigNumber(0);\n        }\n    };\n\n    self.getPTokenLiquidationPrice = async (_tokenAddr, _underlyingPrice) => {\n        try {\n            let pToken = PositionToken(_tokenAddr);\n            let underlyingPerPToken = await pToken.methods.liquidationPrice().call();\n            let underlying = await pToken.methods.loanTokenAddress().call();\n            if (underlying === DAI_ADDR) {\n                return BigNumber(underlyingPerPToken).div(PRECISION);\n            }\n            return BigNumber(underlyingPerPToken).div(PRECISION).times(_underlyingPrice);\n        } catch (e) {\n            return BigNumber(0);\n        }\n    };\n\n    /**\n    * Gets the Kairo balance of an address\n    * @param  {String} _address the address whose balance we're getting\n    * @return {Promise}          .then((_value)->)\n    */\n    self.getKairoBalance = function (_address) {\n        return self.contracts.Kairo.methods.balanceOf(_address).call();\n    };\n\n    self.getKairoBalanceAtCycleStart = async function (_address) {\n        let cycleStartBlock = await self.contracts.BetokenFund.methods.managePhaseEndBlock((await self.getPrimitiveVar(\"cycleNumber\")) - 1).call();\n        return self.contracts.Kairo.methods.balanceOfAt(_address, cycleStartBlock).call();\n    };\n\n    self.getBaseStake = async (_address) => {\n        let baseStake = BigNumber(await self.getKairoBalanceAtCycleStart(_address));\n        if (baseStake.isZero()) {\n            baseStake = BigNumber(await self.getMappingOrArrayItem(\"baseRiskStakeFallback\", _address));\n        }\n        return baseStake;\n    }\n\n    self.getKairoTotalSupply = function () {\n        return self.contracts.Kairo.methods.totalSupply().call();\n    };\n\n    self.getRiskTaken = async (_address) => {\n        return self.getDoubleMapping(\"riskTakenInCycle\", _address, (await self.getPrimitiveVar(\"cycleNumber\")));\n    }\n\n    self.getRiskThreshold = async (_address) => {\n        let baseStake = await self.getBaseStake(_address);\n        let threeDayInSeconds = 3 * 24 * 60 * 60;\n        return baseStake.times(threeDayInSeconds);\n    }\n\n    /**\n    * Gets the Share balance of an address\n    * @param  {String} _address the address whose balance we're getting\n    * @return {Promise}          .then((_value)->)\n    */\n    self.getShareBalance = function (_address) {\n        return self.contracts.Shares.methods.balanceOf(_address).call();\n    };\n\n    self.getShareTotalSupply = function () {\n        return self.contracts.Shares.methods.totalSupply().call();\n    };\n\n    /**\n    * Gets the array of investments\n    * @return {Promise} .then((investments) ->)\n    */\n    self.getInvestments = function (_userAddress) {\n        var array = [];\n        return self.getMappingOrArrayItem(\"investmentsCount\", _userAddress).then((_count) => {\n            var getAllItems, getItem;\n            var count = +_count;\n            if (count === 0) {\n                return [];\n            }\n            array = new Array(count);\n            getItem = (id) => {\n                return self.getDoubleMapping(\"userInvestments\", _userAddress, id).then((_item) => {\n                    return new Promise((fullfill, reject) => {\n                        if (typeof _item !== null) {\n                            array[id] = _item;\n                            fullfill();\n                        } else {\n                            reject();\n                        }\n                    });\n                });\n            };\n            getAllItems = () => {\n                var results = [];\n                for (var i = 0; i < count; i++) {\n                    results.push(getItem(i));\n                }\n                return results;\n            };\n            return Promise.all(getAllItems());\n        }).then(function () {\n            return array;\n        });\n    };\n\n    self.getCompoundOrders = function (_userAddress) {\n        var array = [];\n        return self.getMappingOrArrayItem(\"compoundOrdersCount\", _userAddress).then((_count) => {\n            var count = +_count;\n            if (count === 0) {\n                return [];\n            }\n            array = new Array(count);\n            const getItem = (id) => {\n                return self.getDoubleMapping(\"userCompoundOrders\", _userAddress, id).then((_item) => {\n                    return new Promise((fullfill, reject) => {\n                        if (typeof _item !== null) {\n                            array[id] = _item;\n                            fullfill();\n                        } else {\n                            reject();\n                        }\n                    });\n                });\n            };\n            const getAllItems = () => {\n                var results = [];\n                for (var i = 0; i < count; i++) {\n                    results.push(getItem(i));\n                }\n                return results;\n            };\n            return Promise.all(getAllItems());\n        }).then(function () {\n            return array;\n        });\n    }\n\n    /*\n    Phase handler\n    */\n    /**\n    * Ends the current phase\n    * @return {Promise} .then(()->)\n    */\n    self.nextPhase = async function (_onTxHash, _onReceipt, _onError) {\n        await getDefaultAccount();\n\n        var func = self.contracts.BetokenFund.methods.nextPhase();\n        return sendTx(func, _onTxHash, _onReceipt, _onError);\n    };\n\n\n    /*\n    Invest & Withdraw phase functions\n    */\n\n    /**\n    * Allows user to deposit into the fund using ETH\n    * @param  {BigNumber} _tokenAmount the deposit token amount\n    * @return {Promise}               .then(()->)\n    */\n    self.depositETH = async function (_tokenAmount, _onTxHash, _onReceipt, _onError) {\n        await getDefaultAccount();\n        var amount = BigNumber(_tokenAmount).times(PRECISION).integerValue().toFixed();\n\n        var func = self.contracts.BetokenFund.methods.depositEther();\n        return sendTxWithValue(func, amount, _onTxHash, _onReceipt, _onError);\n    };\n\n    /**\n    * Allows user to deposit into the fund using DAI\n    * @param  {BigNumber} _tokenAmount the deposit token amount\n    * @return {Promise}               .then(()->)\n    */\n    self.depositDAI = async function (_tokenAmount, _onTxHash, _onReceipt, _onError) {\n        await getDefaultAccount();\n        var token = ERC20(DAI_ADDR);\n        var amount = BigNumber(_tokenAmount).times(PRECISION).integerValue().toFixed();\n\n        var func = self.contracts.BetokenFund.methods.depositDAI(amount);\n        return sendTxWithToken(func, token, self.contracts.BetokenFund.options.address, amount, _onTxHash, _onReceipt, _onError);\n    };\n\n    /**\n    * Allows user to deposit into the fund\n    * @param  {String} _tokenAddr the token address\n    * @param  {BigNumber} _tokenAmount the deposit token amount\n    * @return {Promise}               .then(()->)\n    */\n    self.depositToken = async function (_tokenAddr, _tokenAmount, _onTxHash, _onReceipt, _onError) {\n        await getDefaultAccount();\n        var token = ERC20(_tokenAddr);\n        var amount = BigNumber(_tokenAmount).times(BigNumber(10).pow(await self.getTokenDecimals(_tokenAddr))).integerValue().toFixed();\n\n        var func = self.contracts.BetokenFund.methods.depositToken(_tokenAddr, amount);\n        return sendTxWithToken(func, token, self.contracts.BetokenFund.options.address, amount, _onTxHash, _onReceipt, _onError);\n    };\n\n    /**\n    * Allows user to withdraw from fund balance into ETH\n    * @param  {BigNumber} _amountInDAI the withdrawal amount in DAI\n    * @return {Promise}               .then(()->)\n    */\n    self.withdrawETH = async function (_amountInDAI, _onTxHash, _onReceipt, _onError) {\n        await getDefaultAccount();\n        var amount = BigNumber(_amountInDAI).times(PRECISION).integerValue().toFixed();\n\n        var func = self.contracts.BetokenFund.methods.withdrawEther(amount);\n        return sendTx(func, _onTxHash, _onReceipt, _onError);\n    };\n\n    /**\n    * Allows user to withdraw from fund balance into DAI\n    * @param  {BigNumber} _amountInDAI the withdrawal amount in DAI\n    * @return {Promise}               .then(()->)\n    */\n    self.withdrawDAI = async function (_amountInDAI, _onTxHash, _onReceipt, _onError) {\n        await getDefaultAccount();\n        var amount = BigNumber(_amountInDAI).times(PRECISION).integerValue().toFixed();\n\n        var func = self.contracts.BetokenFund.methods.withdrawDAI(amount);\n        return sendTx(func, _onTxHash, _onReceipt, _onError);\n    };\n\n    /**\n    * Allows user to withdraw from fund balance\n    * @param  {String} _tokenAddr the token address\n    * @param  {BigNumber} _amountInDAI the withdrawal amount in DAI\n    * @return {Promise}               .then(()->)\n    */\n    self.withdrawToken = async function (_tokenAddr, _amountInDAI, _onTxHash, _onReceipt, _onError) {\n        await getDefaultAccount();\n        var amount = BigNumber(_amountInDAI).times(PRECISION).integerValue().toFixed();\n\n        var func = self.contracts.BetokenFund.methods.withdrawToken(_tokenAddr, amount);\n        return sendTx(func, _onTxHash, _onReceipt, _onError);\n    };\n\n    /*\n    Manage functions\n    */\n\n    /**\n    * Creates an investment\n    * @param  {String} _tokenAddress the token address\n    * @param  {BigNumber} _stakeInKRO the investment amount\n    * @param  {BigNumber} _minPrice the min acceptable token price\n    * @param  {BigNumber} _maxPrice the max acceptable token price\n    * @return {Promise}               .then(()->)\n    */\n    self.createInvestment = async function (_tokenAddress, _stakeInKRO, _minPrice, _maxPrice, _onTxHash, _onReceipt, _onError) {\n        await getDefaultAccount();\n        var stake = _stakeInKRO.times(PRECISION).integerValue().toFixed();\n        var minPrice = _minPrice.times(PRECISION).integerValue().toFixed();\n        var maxPrice = _maxPrice.times(PRECISION).integerValue().toFixed();\n\n        var func = self.contracts.BetokenFund.methods.createInvestment(_tokenAddress, stake, minPrice, maxPrice);\n        return sendTx(func, _onTxHash, _onReceipt, _onError);\n    };\n\n    /**\n    * Sells an investment (maybe only part of it)\n    * @param  {Number} _proposalId the investment's ID\n    * @param  {BigNumber} _percentage the percentage of tokens to sell\n    * @param  {BigNumber} _minPrice the min acceptable token price\n    * @param  {BigNumber} _maxPrice the max acceptable token price\n    * @return {Promise}               .then(()->)\n    */\n    self.sellAsset = async function (_proposalId, _percentage, _minPrice, _maxPrice, _onTxHash, _onReceipt, _onError) {\n        await getDefaultAccount();\n        var sellTokenAmount = BigNumber((await self.getDoubleMapping(\"userInvestments\", web3Instance.eth.defaultAccount, _proposalId)).tokenAmount).times(_percentage).integerValue().toFixed();\n        var minPrice = _minPrice.times(PRECISION).integerValue().toFixed();\n        var maxPrice = _maxPrice.times(PRECISION).integerValue().toFixed();\n\n        var func = self.contracts.BetokenFund.methods.sellInvestmentAsset(_proposalId, sellTokenAmount, minPrice, maxPrice);\n        return sendTx(func, _onTxHash, _onReceipt, _onError);\n    };\n\n    /**\n    * Creates an Compound order\n    * @param  {Bool} _orderType True for shorting, false for longing\n    * @param  {String} _tokenAddress the compound token address (not underlying)\n    * @param  {BigNumber} _stakeInKRO the investment amount\n    * @param  {BigNumber} _minPrice the min acceptable token price\n    * @param  {BigNumber} _maxPrice the max acceptable token price\n    * @return {Promise}               .then(()->)\n    */\n    self.createCompoundOrder = async function (_orderType, _tokenAddress, _stakeInKRO, _minPrice, _maxPrice, _onTxHash, _onReceipt, _onError) {\n        await getDefaultAccount();\n        var stake = _stakeInKRO.times(PRECISION).integerValue().toFixed();\n        var minPrice = _minPrice.times(PRECISION).integerValue().toFixed();\n        var maxPrice = _maxPrice.times(PRECISION).integerValue().toFixed();\n\n        var func = self.contracts.BetokenFund.methods.createCompoundOrder(_orderType, _tokenAddress, stake, minPrice, maxPrice);\n        return sendTx(func, _onTxHash, _onReceipt, _onError);\n    };\n\n    /**\n    * Sells a Compound order\n    * @param  {Number} _proposalId the order's ID\n    * @param  {BigNumber} _minPrice the min acceptable token price\n    * @param  {BigNumber} _maxPrice the max acceptable token price\n    * @return {Promise}               .then(()->)\n    */\n    self.sellCompoundOrder = async function (_proposalId, _minPrice, _maxPrice, _onTxHash, _onReceipt, _onError) {\n        await getDefaultAccount();\n        var minPrice = _minPrice.times(PRECISION).integerValue().toFixed();\n        var maxPrice = _maxPrice.times(PRECISION).integerValue().toFixed();\n\n        var func = self.contracts.BetokenFund.methods.sellCompoundOrder(_proposalId, minPrice, maxPrice);\n        return sendTx(func, _onTxHash, _onReceipt, _onError);\n    };\n\n    /**\n    * Repays debt for a Compound order\n    * @param  {Number} _proposalId the order's ID\n    * @param  {BigNumber} _amountInDAI the amount to repay, in DAI\n    * @return {Promise}               .then(()->)\n    */\n    self.repayCompoundOrder = async function (_proposalId, _amountInDAI, _onTxHash, _onReceipt, _onError) {\n        await getDefaultAccount();\n        var repayAmount = _amountInDAI.times(PRECISION).integerValue().toFixed();\n\n        var func = self.contracts.BetokenFund.methods.repayCompoundOrder(_proposalId, repayAmount);\n        return sendTx(func, _onTxHash, _onReceipt, _onError);\n    }\n\n    /*\n    Redeem Commission functions\n    */\n    self.redeemCommission = async function (_inShares, _onTxHash, _onReceipt, _onError) {\n        await getDefaultAccount();\n\n        var func = self.contracts.BetokenFund.methods.redeemCommission(_inShares);\n        return sendTx(func, _onTxHash, _onReceipt, _onError);\n    };\n\n    self.redeemCommissionForCycle = async function (_inShares, _cycle, _onTxHash, _onReceipt, _onError) {\n        await getDefaultAccount();\n\n        var func = self.contracts.BetokenFund.methods.redeemCommissionForCycle(_inShares, _cycle);\n        return sendTx(func, _onTxHash, _onReceipt, _onError);\n    };\n\n    /*\n    Manager Registration functions\n    */\n    self.registerWithDAI = async function (_amountInDAI, _onTxHash, _onReceipt, _onError) {\n        await getDefaultAccount();\n        var token = ERC20(DAI_ADDR);\n        var amount = BigNumber(_amountInDAI).times(PRECISION).integerValue().toFixed();\n\n        var func = self.contracts.BetokenFund.methods.registerWithDAI(amount);\n        return sendTxWithToken(func, token, self.contracts.BetokenFund.options.address, amount, _onTxHash, _onReceipt, _onError);\n    }\n\n    self.registerWithETH = async function (_amountInETH, _onTxHash, _onReceipt, _onError) {\n        await getDefaultAccount();\n        var amount = BigNumber(_amountInETH).times(PRECISION).integerValue().toFixed();\n\n        var func = self.contracts.BetokenFund.methods.registerWithETH();\n        return sendTxWithValue(func, amount, _onTxHash, _onReceipt, _onError);\n    }\n\n    self.registerWithToken = async function (_tokenAddr, _amountInTokens, _onTxHash, _onReceipt, _onError) {\n        await getDefaultAccount();\n        var token = ERC20(_tokenAddr);\n        var amount = BigNumber(_amountInTokens).times(BigNumber(10).pow(await self.getTokenDecimals(_tokenAddr))).integerValue().toFixed();\n\n        var func = self.contracts.BetokenFund.methods.registerWithToken(_tokenAddr, amount);\n        return sendTxWithToken(func, token, self.contracts.BetokenFund.options.address, amount, _onTxHash, _onReceipt, _onError);\n    }\n\n    return self;\n};","// imports\nimport { getDefaultAccount } from './betoken-obj';\nimport BigNumber from \"bignumber.js\";\nimport https from \"https\";\nimport { isUndefined } from 'util';\n\n// constants\nconst ZERO_ADDR = '0x0000000000000000000000000000000000000000';\nconst CTOKENS = require('./json_data/compound_tokens.json'); // Compound cTokens\nconst STABLECOINS = require('./json_data/stablecoins.json'); // Stablecoins (managers can't invest)\nconst PTOKENS = require('./json_data/fulcrum_tokens.json'); // Fulcrum pTokens\nconst SUPPORTERS = require('./json_data/betoken_supporters.json');\n\n// instance variables\n// user info\nexport var userAddress = ZERO_ADDR;\n\n// fund metadata\nexport var commissionRate = BigNumber(0.2);\nexport var assetFeeRate = BigNumber(0.01);\n\n// cycle timekeeping\nexport var cycleNumber = 0;\nexport var cyclePhase = 0;\nexport var phaseLengths = [3 * 24 * 60 * 60, 27 * 24 * 60 * 60];\nexport var startTimeOfCyclePhase = 0;\nexport var countdownDay = 0;\nexport var countdownHour = 0;\nexport var countdownMin = 0;\nexport var countdownSec = 0;\n\nexport var isLoadingPrices = true;\n\n// token data\nexport var TOKEN_DATA = [];\n\n// helpers\nexport const assetSymbolToPrice = function (_symbol) {\n    return TOKEN_DATA.find((x) => x.symbol === _symbol).price;\n};\n\nexport const assetAddressToSymbol = function (_addr) {\n    _addr = web3Instance.utils.toChecksumAddress(_addr);\n    return TOKEN_DATA.find((x) => x.address === _addr).symbol;\n};\n\nexport const assetSymbolToAddress = function (_symbol) {\n    return TOKEN_DATA.find((x) => x.symbol === _symbol).address;\n};\n\nexport const assetSymbolToCTokenAddress = (_symbol) => {\n    return CTOKENS.find((x) => x.symbol === _symbol).address;\n};\n\nexport const assetSymbolToPTokens = (_symbol) => {\n    return PTOKENS.find((x) => x.symbol === _symbol).pTokens;\n};\n\nexport const assetCTokenAddressToSymbol = (_addr) => {\n    _addr = web3Instance.utils.toChecksumAddress(_addr);\n    return CTOKENS.find((x) => x.address === _addr).symbol;\n};\n\nexport const assetPTokenAddressToSymbol = (_addr) => {\n    _addr = web3Instance.utils.toChecksumAddress(_addr);\n    return PTOKENS.find((x) => !isUndefined(x.pTokens.find((y) => y.address === _addr))).symbol;\n};\n\nexport const assetPTokenAddressToInfo = (_addr) => {\n    _addr = web3Instance.utils.toChecksumAddress(_addr);\n    return PTOKENS.find((x) => !isUndefined(x.pTokens.find((y) => y.address === _addr))).pTokens.find((y) => y.address === _addr);\n};\n\nexport const assetSymbolToDailyPriceChange = function (_symbol) {\n    return TOKEN_DATA.find((x) => x.symbol === _symbol).dailyPriceChange;\n};\n\nexport const assetSymbolToWeeklyPriceChange = function (_symbol) {\n    return TOKEN_DATA.find((x) => x.symbol === _symbol).weeklyPriceChange;\n};\n\nexport const assetSymbolToMonthlyPriceChange = function (_symbol) {\n    return TOKEN_DATA.find((x) => x.symbol === _symbol).monthlyPriceChange;\n};\n\nexport const assetSymbolToName = (_symbol) => {\n    return TOKEN_DATA.find((x) => x.symbol === _symbol).name;\n};\n\nexport const assetSymbolToLogoUrl = (_symbol) => {\n    return TOKEN_DATA.find((x) => x.symbol === _symbol).logoUrl;\n};\n\nexport const notStablecoin = (_symbol) => {\n    return !STABLECOINS.includes(_symbol);\n};\n\nexport const isCompoundToken = (_symbol) => {\n    const result = CTOKENS.find((x) => x.symbol === _symbol);\n    return !isUndefined(result);\n};\n\nexport const isFulcrumToken = (_symbol) => {\n    const result = PTOKENS.find((x) => x.symbol === _symbol);\n    return !isUndefined(result);\n};\n\nexport const isFulcrumTokenAddress = (_tokenAddress) => {\n    const result = PTOKENS.find((x) => !isUndefined(x.pTokens.find((y) => y.address === _tokenAddress)));\n    return !isUndefined(result);\n};\n\nexport const isSupporter = (_addr) => SUPPORTERS.indexOf(web3Instance.utils.toChecksumAddress(_addr)) != -1;\n\nexport const fulcrumMinStake = (_symbol, _isShort, _kairoPrice) => {\n    let underlyingPrice;\n    if (_isShort) {\n        // underlying is token\n        underlyingPrice = assetSymbolToPrice(_symbol);\n    } else {\n        // underlying is DAI\n        underlyingPrice = BigNumber(1);\n    }\n    const MIN_AMOUNT = BigNumber(0.001);\n    return MIN_AMOUNT.times(underlyingPrice).div(_kairoPrice);\n};\n\nexport const getAssetPriceAtTimestamp = async (symbol, timestamp) => {\n    const apiStr = `https://min-api.cryptocompare.com/data/pricehistorical?fsym=DAI&tsyms=${symbol}&ts=${timestamp}`;\n    const data = await httpsGet(apiStr);\n    const pastPrice = BigNumber(1).div(data.DAI[symbol]);\n    return pastPrice;\n}\n\nexport const httpsGet = async (apiStr) => {\n    const data = await (new Promise((resolve, reject) => {\n        https.get(apiStr, (res) => {\n            var rawData = \"\";\n            res.on(\"data\", (chunk) => {\n                rawData += chunk;\n            });\n            res.on(\"end\", () => {\n                var parsedData = JSON.parse(rawData);\n                resolve(parsedData);\n            });\n        }).on(\"error\", reject);\n    }));\n    return data;\n};\n\nconst clock = () => {\n    const timeKeeper = setInterval(() => {\n        var days, distance, hours, minutes, now, seconds, target;\n        now = Math.floor(new Date().getTime() / 1000);\n        target = startTimeOfCyclePhase + phaseLengths[cyclePhase];\n        distance = target - now;\n        if (distance > 0) {\n            days = Math.floor(distance / (60 * 60 * 24));\n            hours = Math.floor((distance % (60 * 60 * 24)) / (60 * 60));\n            minutes = Math.floor((distance % (60 * 60)) / 60);\n            seconds = Math.floor(distance % 60);\n            countdownDay = days;\n            countdownHour = hours;\n            countdownMin = minutes;\n            countdownSec = seconds;\n        } else {\n            clearInterval(timeKeeper);\n        }\n    }, 1000);\n};\n\n// data loaders\nexport const loadMetadata = async () => {\n    return loadTokenMetadata();\n};\n\nexport const loadTokenMetadata = async () => {\n    // fetch token data from Kyber API\n    let rawData = require('./json_data/kyber_tokens.json').data;\n    let tokenData = rawData.map((x) => {\n        return {\n            name: x.name,\n            symbol: x.symbol,\n            address: web3Instance.utils.toChecksumAddress(x.address),\n            decimals: x.decimals,\n            logoUrl: '',\n            price: BigNumber(0),\n            dailyPriceChange: BigNumber(0),\n            weeklyPriceChange: BigNumber(0),\n            monthlyPriceChange: BigNumber(0)\n        }\n    });\n\n    // fetch token metadata from CryptoCompare API\n    let apiStr = `https://min-api.cryptocompare.com/data/coin/generalinfo?fsyms=${tokenData.map((x) => x.symbol).join()}&tsym=BTC`;\n    rawData = (await httpsGet(apiStr)).Data;\n    let tokenLogos = [];\n    for (let token of tokenData) {\n        let info = rawData.find((x) => x.CoinInfo.Name === token.symbol);\n        if (isUndefined(info)) {\n            // token not on cryptocompare, use filler\n            tokenLogos.push('assets/img/icons/no-logo-asset.svg');\n        } else {\n            tokenLogos.push(`https://cryptocompare.com${info.CoinInfo.ImageUrl}`);\n        }\n    }\n    tokenData = tokenData.map((x, i) => {\n        x.logoUrl = tokenLogos[i];\n        return x;\n    });\n\n    TOKEN_DATA = tokenData;\n}\n\nexport const loadFundData = async () => {\n    return Promise.all([\n        cycleNumber = +((await betoken.getPrimitiveVar(\"cycleNumber\"))),\n        cyclePhase = +((await betoken.getPrimitiveVar(\"cyclePhase\"))),\n        startTimeOfCyclePhase = +((await betoken.getPrimitiveVar(\"startTimeOfCyclePhase\"))),\n    ]).then(() => {\n        if (countdownDay == 0 && countdownHour == 0 && countdownMin == 0 && countdownSec == 0) {\n            clock();\n        }\n    });\n};\n\nexport const loadUserData = async () => {\n    if (betoken.hasWeb3) {\n        // Get user address\n        await getDefaultAccount();\n        const userAddr = web3Instance.eth.defaultAccount;\n        if (typeof userAddr !== \"undefined\") {\n            userAddress = userAddr;\n        } else {\n            userAddress = ZERO_ADDR;\n        }\n    }\n};\n\nexport const loadTokenPrices = async () => {\n    isLoadingPrices = true;\n\n    let apiStr = \"https://api.kyber.network/market\";\n    let rawData = await httpsGet(apiStr);\n    if (!rawData.error) {\n        TOKEN_DATA = TOKEN_DATA.map((x) => {\n            if (x.symbol !== 'ETH') {\n                let tokenData = rawData.data.find((y) => y.base_symbol === x.symbol);\n                if (isUndefined(tokenData)) {\n                    x.price = BigNumber(0);\n                    x.dailyVolume = BigNumber(0);\n                    return x;\n                }\n                let daiData = rawData.data.find((y) => y.base_symbol === 'DAI');\n                if (tokenData.current_bid == 0) {\n                    tokenData.current_bid = tokenData.current_ask;\n                } else if (tokenData.current_ask == 0) {\n                    tokenData.current_ask = tokenData.current_bid;\n                }\n                if (daiData.current_bid == 0) {\n                    daiData.current_bid = daiData.current_ask;\n                } else if (daiData.current_ask == 0) {\n                    daiData.current_ask = daiData.current_bid;\n                }\n\n                let tokenPriceInETH = (tokenData.current_bid + tokenData.current_ask) / 2;\n                let daiPriceInETH = (daiData.current_bid + daiData.current_ask) / 2;\n                x.price = BigNumber(tokenPriceInETH).div(daiPriceInETH);\n\n                x.dailyVolume = BigNumber(tokenData.usd_24h_volume);\n            } else {\n                let daiData = rawData.data.find((y) => y.base_symbol === 'DAI');\n                if (daiData.current_bid == 0) {\n                    daiData.current_bid = daiData.current_ask;\n                } else if (daiData.current_ask == 0) {\n                    daiData.current_ask = daiData.current_bid;\n                }\n\n                let daiPriceInETH = (daiData.current_bid + daiData.current_ask) / 2;\n                x.price = BigNumber(1).div(daiPriceInETH);\n\n                x.dailyVolume = BigNumber(rawData.data.reduce((accumulator, curr) => accumulator + curr.usd_24h_volume, 0));\n            }\n\n            return x;\n        });\n    }\n\n    apiStr = \"https://api.kyber.network/change24h\";\n    rawData = await httpsGet(apiStr);\n    TOKEN_DATA = TOKEN_DATA.map((x) => {\n        let rawPrice = rawData[`ETH_${x.symbol}`];\n        x.dailyPriceChange = isUndefined(rawPrice) ? BigNumber(0) : BigNumber(rawPrice.change_usd_24h);\n        return x;\n    });\n\n    loadPriceChanges(7).then((changes) => {\n        TOKEN_DATA = TOKEN_DATA.map((x, i) => {\n            x.weeklyPriceChange = changes[i];\n            return x;\n        });\n    });\n    loadPriceChanges(30).then((changes) => {\n        TOKEN_DATA = TOKEN_DATA.map((x, i) => {\n            x.monthlyPriceChange = changes[i];\n            return x;\n        });\n    });\n\n    isLoadingPrices = false;\n};\n\nconst loadPriceChanges = async (_daysInPast) => {\n    var i = 0;\n    var result = [];\n    while (i < TOKEN_DATA.length) {\n        var tokens = [];\n        while (i < TOKEN_DATA.length && tokens.join().length + TOKEN_DATA[i].symbol.length + 1 <= 30) {\n            tokens.push(TOKEN_DATA[i].symbol);\n            i++;\n        }\n\n        const apiStr = `https://min-api.cryptocompare.com/data/pricehistorical?fsym=DAI&tsyms=${tokens.join()}&ts=${Math.floor(Date.now() / 1000 - 86400 * _daysInPast)}`;\n        const data = await httpsGet(apiStr);\n\n        for (var t in tokens) {\n            const _token = tokens[t];\n            const pastPrice = BigNumber(1).div(data.DAI[_token]);\n            result.push(assetSymbolToPrice(_token).minus(pastPrice).div(pastPrice).times(100));\n        }\n    }\n    return result;\n}\n\nexport const loadAllData = async function (progressCallback) {\n    return loadMetadata().then(() => loadDynamicData(progressCallback));\n};\n\nexport const loadDynamicData = async (progressCallback) => {\n    let callback = () => {\n        if (!isUndefined(progressCallback)) {\n            progressCallback();\n        }\n    }\n    return Promise.all([\n        loadUserData().then(callback),\n        loadFundData().then(callback),\n        loadTokenPrices().then(callback)\n    ]);\n};\n","// imports\nimport BigNumber from \"bignumber.js\";\nimport {Betoken} from \"./betoken-obj\";\nimport 'list.js';\nconst Data = require(\"./data-controller\");\n\n// constants\nconst NO_WEB3_ERR = \"Betoken can only be used in a Web3 enabled browser. Please install MetaMask or switch to another browser that supports Web3. You can currently view the fund's data, but cannot make any interactions.\";\nconst WRONG_NETWORK_ERR = \"Please switch to the Ethereum Main Network.\";\nvar error_msg = \"\";\n\n// exports\n\nexport const sortTable = () => {\n    //\n    // Variables\n    //\n\n    var toggle = document.querySelectorAll('[data-toggle=\"lists\"]');\n    var toggleSort = document.querySelectorAll('[data-toggle=\"lists\"] [data-sort]');\n\n    //\n    // Functions\n    //\n\n    function init(el) {\n        var options = el.dataset.options;\n        options = options ? JSON.parse(options) : {};\n\n        new List(el, options);\n    }\n\n\n    //\n    // Events\n    //\n    if (typeof List !== 'undefined') {\n\n        if (toggle) {\n            [].forEach.call(toggle, function (el) {\n                init(el);\n            });\n        }\n\n        if (toggleSort) {\n            [].forEach.call(toggleSort, function (el) {\n                el.addEventListener('click', function (e) {\n                    e.preventDefault();\n                });\n            });\n        }\n    }\n};\n\nexport const error_notifications = {\n    get_error_msg: () => error_msg,\n    set_error_msg: (msg) => {\n        error_msg = msg;\n    },\n    check_dependency: () => {\n        if (network.has_web3() === false) {\n            if (network.wrong_network() === true) {\n                error_notifications.set_error_msg(WRONG_NETWORK_ERR);\n            } else {\n                error_notifications.set_error_msg(NO_WEB3_ERR);\n            }\n        } else {\n            error_notifications.set_error_msg('');\n        }\n    }\n};\n\nexport const network = {\n    has_web3: () => betoken.hasWeb3,\n    wrong_network: () => betoken.wrongNetwork\n};\n\nexport const timer = {\n    day: () => Data.countdownDay,\n    hour: () => Data.countdownHour,\n    minute: () => Data.countdownMin,\n    second: () => Data.countdownSec,\n    phase: () => Data.cyclePhase,\n    phase_start_time: () => Data.startTimeOfCyclePhase,\n    phase_lengths: () => Data.phaseLengths,\n    cycle: () => Data.cycleNumber\n};\n\nexport const user = {\n    address: () => Data.userAddress,\n    token_balance: async (tokenSymbol) => {\n        let balance = await betoken.getTokenBalance(Data.assetSymbolToAddress(tokenSymbol), Data.userAddress);\n        let decimals = Data.TOKEN_DATA.find((x) => x.symbol === tokenSymbol).decimals;\n        return BigNumber(balance).div(Math.pow(10, decimals));\n    },\n    commission_rate: () => Data.commissionRate,\n    asset_fee_rate: () => Data.assetFeeRate\n};\n\nexport const stats = {\n    is_supporter: (_addr) => Data.isSupporter(_addr)\n};\n\nexport const tokens = {\n    token_data: () => Data.TOKEN_DATA,\n    asset_symbol_to_daily_price_change: (_symbol) => Data.assetSymbolToDailyPriceChange(_symbol),\n    asset_symbol_to_weekly_price_change: (_symbol) => Data.assetSymbolToWeeklyPriceChange(_symbol),\n    asset_symbol_to_monthly_price_change: (_symbol) => Data.assetSymbolToMonthlyPriceChange(_symbol),\n    asset_symbol_to_price: (_symbol) => Data.assetSymbolToPrice(_symbol),\n    asset_symbol_to_name: (_symbol) => Data.assetSymbolToName(_symbol),\n    asset_symbol_to_logo_url: (_symbol) => Data.assetSymbolToLogoUrl(_symbol),\n    asset_symbol_to_ptokens: (_symbol) => Data.assetSymbolToPTokens(_symbol),\n    get_ptoken_price: (_addr, _underlyingPrice) => betoken.getPTokenPrice(_addr, _underlyingPrice), // returns promise\n    not_stablecoin: (_symbol) => Data.notStablecoin(_symbol),\n    is_compound_token: (_symbol) => Data.isCompoundToken(_symbol),\n    is_fulcrum_token: (_symbol) => Data.isFulcrumToken(_symbol),\n    fulcrum_min_stake: (_symbol, _isShort, _kairoPrice) => Data.fulcrumMinStake(_symbol, _isShort, _kairoPrice),\n    asset_address_to_symbol: (_addr) => Data.assetAddressToSymbol(_addr),\n    ctoken_address_to_symbol: (_addr) => Data.assetCTokenAddressToSymbol(_addr),\n    ptoken_address_to_symbol: (_addr) => Data.assetPTokenAddressToSymbol(_addr),\n    ptoken_address_to_info: (_addr) => Data.assetPTokenAddressToInfo(_addr),\n    getAssetPriceAtTimestamp: (symbol, timestamp) => Data.getAssetPriceAtTimestamp(symbol, timestamp)\n};\n\nexport const loading = {\n    prices: () => Data.isLoadingPrices\n};\n\nexport const refresh_actions = {\n    prices: () => {\n        return Data.loadTokenPrices();\n    },\n    reload_all: () => {\n        const betoken = new Betoken();\n        return betoken.init().then(Data.loadDynamicData);\n    }\n};\n\nexport const investor_actions = {\n    // All amounts must be BigNumber, in floating point (no need to multiply by 1e18)\n    depositETH: async (amt, pending, confirm, error) => {\n        betoken.depositETH(amt, pending, confirm, error);\n    },\n    depositDAI: async (amt, pending, confirm, error) => {\n        betoken.depositDAI(amt, pending, confirm, error);\n    },\n    depositToken: async (amt, tokenSymbol, pending, confirm, error) => {\n        let tokenAddr = Data.assetSymbolToAddress(tokenSymbol);\n        betoken.depositToken(tokenAddr, amt, pending, confirm, error);\n    },\n    withdrawETH: async (amt, pending, confirm, error) => {\n        return betoken.withdrawETH(amt, pending, confirm, error);\n    },\n    withdrawDAI: async (amt, pending, confirm, error) => {\n        return betoken.withdrawDAI(amt, pending, confirm, error);\n    },\n    withdrawToken: async (amt, tokenSymbol, pending, confirm, error) => {\n        let tokenAddr = Data.assetSymbolToAddress(tokenSymbol);\n        return betoken.withdrawToken(tokenAddr, amt, pending, confirm, error);\n    },\n    nextPhase: async () => {\n        await betoken.nextPhase();\n        await Data.loadDynamicData();\n    }\n};\n\nexport const manager_actions = {\n    // All amounts must be BigNumber, in floating point (no need to multiply by 1e18)\n    new_investment_with_symbol: async function (tokenSymbol, stakeInKRO, minPrice, maxPrice, pending, confirm, error) {\n        var tokenAddress = Data.assetSymbolToAddress(tokenSymbol);\n        betoken.createInvestment(tokenAddress, stakeInKRO, minPrice, maxPrice, pending, confirm, error);\n    },\n    new_investment_with_address: async function (tokenAddress, stakeInKRO, minPrice, maxPrice, pending, confirm, error) {\n        betoken.createInvestment(tokenAddress, stakeInKRO, minPrice, maxPrice, pending, confirm, error);\n    },\n    sell_investment: async function (id, percentage, minPrice, maxPrice, pending, confirm, error) {\n        return betoken.sellAsset(id, percentage, minPrice, maxPrice, pending, confirm, error);\n    },\n    new_compound_order: async function (orderType, tokenSymbol, stakeInKRO, minPrice, maxPrice, pending, confirm, error) {\n        var tokenAddress = Data.assetSymbolToCTokenAddress(tokenSymbol);\n        betoken.createCompoundOrder(orderType, tokenAddress, stakeInKRO, minPrice, maxPrice, pending, confirm, error);\n    },\n    sell_compound_order: async function (id, minPrice, maxPrice, pending, confirm, error) {\n        return betoken.sellCompoundOrder(id, minPrice, maxPrice, pending, confirm, error);\n    },\n    repay_compound_order: async function (id, amountInDAI, pending, confirm, error) {\n        return betoken.repayCompoundOrder(id, amountInDAI, pending, confirm, error);\n    },\n    redeem_commission: async function (inShares, pending, confirm, error) {\n        return betoken.redeemCommission(inShares, pending, confirm, error);\n    },\n    redeem_commission_for_cycle: async function (inShares, cycle, pending, confirm, error) {\n        return betoken.redeemCommissionForCycle(inShares, cycle, pending, confirm, error);\n    },\n    nextPhase: async () => {\n        await betoken.nextPhase();\n        await Data.loadDynamicData();\n    },\n    register_with_DAI: async (amountInDAI, pending, confirm, error) => {\n        return betoken.registerWithDAI(amountInDAI, pending, confirm, error);\n    },\n    register_with_ETH: async (amountInETH, pending, confirm, error) => {\n        return betoken.registerWithETH(amountInETH, pending, confirm, error);\n    },\n    register_with_token: async (amountInToken, symbol, pending, confirm, error) => {\n        let tokenAddr = Data.assetSymbolToAddress(symbol);\n        return betoken.registerWithToken(tokenAddr, amountInToken, pending, confirm, error);\n    }\n};","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * In development mode, to ignore zone related error stack frames such as\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */"],"sourceRoot":"webpack:///"}